import React$1,{useState,useEffect,useContext,createContext,useRef,useReducer,useCallback,useLayoutEffect,useMemo as useMemo$1}from"react";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _defineProperty$c from"@babel/runtime/helpers/esm/defineProperty";import{isPlainObject as isPlainObject$1,isString as isString$1,map,get as get$1,has,omit,flowRight,mapValues,without,isObject as isObject$1,upperFirst,camelCase,defaults,pick,castArray}from"lodash";import _asyncToGenerator from"@babel/runtime/helpers/esm/asyncToGenerator";import _regeneratorRuntime from"@babel/runtime/regenerator";import _objectSpread$o from"@babel/runtime/helpers/esm/objectSpread2";import _toConsumableArray$2 from"@babel/runtime/helpers/esm/toConsumableArray";import _defineProperty$d from"@babel/runtime/helpers/defineProperty";import _typeof$3 from"@babel/runtime/helpers/typeof";import _toConsumableArray$3 from"@babel/runtime/helpers/toConsumableArray";import{toPath,clone}from"lodash-es";import momentLib from"moment";import"moment-timezone/moment-timezone";import"moment-timezone/moment-timezone-utils";import _extends$1 from"@babel/runtime/helpers/extends";import _slicedToArray$1 from"@babel/runtime/helpers/slicedToArray";import{createElement,Fragment}from"./node_modules/@wordpress/element/build-module/react";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import{Dropdown,Button as Button$2,DateTimePicker,Icon,RangeControl,ColorPicker as ColorPicker$2,Popover}from"@wordpress/components";import ReactSelect from"react-select";import _classCallCheck$1 from"@babel/runtime/helpers/esm/classCallCheck";import{Editor as Editor$2}from"react-draft-wysiwyg";import"\0react?commonjs-require";import require$$0 from"\0react?commonjs-proxy";import"\0./DraftEditor.react?commonjs-require";import require$$8 from"\0./DraftEditor.react?commonjs-proxy";import"\0./DraftEditorBlock.react?commonjs-require";import require$$9 from"\0./DraftEditorBlock.react?commonjs-proxy";import"react-draft-wysiwyg/dist/react-draft-wysiwyg.css";import SweetAlert$2 from"react-bootstrap-sweetalert";import _extends$2 from"@babel/runtime/helpers/esm/extends";import{useMemo,Component,createElement as createElement$1}from"./node_modules/@wordpress/compose/node_modules/@wordpress/element/build-module/react";import{Component as Component$1}from"./node_modules/@wordpress/media-utils/node_modules/@wordpress/element/build-module/react";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(n){if(n.__esModule)return n;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return n[e]}})}),r}var classnames={exports:{}};!function(e){function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,i=typeof n;if("string"==i||"number"==i)e.push(n);else if(Array.isArray(n))!n.length||(r=a.apply(null,n))&&e.push(r);else if("object"==i)if(n.toString===Object.prototype.toString)for(var o in n)s.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}var s;s={}.hasOwnProperty,e.exports?e.exports=a.default=a:window.classNames=a}(classnames);var classNames=classnames.exports;function combineReducers(o){var a=Object.keys(o),s=function(){for(var e,t="return {",n=0;n<a.length;n++)t+=(e=JSON.stringify(a[n]))+":r["+e+"](s["+e+"],a),";return t+="}",new Function("r,s,a",t)}();return function(e,t){var n,r,i;if(void 0===e)return s(o,{},t);for(n=s(o,e,t),r=a.length;r--;)if(e[i=a[r]]!==n[i])return n;return e}}var turboCombineReducers=combineReducers;function formatProdErrorMessage(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var $$observable="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function miniKindOf(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(isDate(e))return"date";if(isError(e))return"error";var n=ctorName(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function ctorName(e){return"function"==typeof e.constructor?e.constructor.name:null}function isError(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}function isDate(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}function kindOf(e){var t=typeof e;return t="production"!==process.env.NODE_ENV?miniKindOf(e):t}function createStore(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(1):"Expected the enhancer to be a function. Instead, received: '"+kindOf(n)+"'");return n(createStore)(e,t)}if("function"!=typeof e)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(2):"Expected the root reducer to be a function. Instead, received: '"+kindOf(e)+"'");var i=e,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function d(t){if("function"!=typeof t)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(4):"Expected the listener to be a function. Instead, received: '"+kindOf(t)+"'");if(l)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var n=!0;return u(),s.push(t),function(){if(n){if(l)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");n=!1,u();var e=s.indexOf(t);s.splice(e,1),a=null}}}function f(e){if(!isPlainObject(e))throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(7):"Actions must be plain objects. Instead, the actual type was: '"+kindOf(e)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===e.type)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(l)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(9):"Reducers may not dispatch actions.");try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:ActionTypes.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(10):"Expected the nextReducer to be a function. Instead, received: '"+kindOf(e));i=e,f({type:ActionTypes.REPLACE})}})[$$observable]=function(){var n=d,e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(11):"Expected the observer to be an object. Instead, received: '"+kindOf(e)+"'");function t(){e.next&&e.next(c())}return t(),{unsubscribe:n(t)}}};return e[$$observable]=function(){return this},e},r}function warning$2(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function compose(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function applyMiddleware(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return function(i){return function(){var e=i.apply(void 0,arguments),t=function(){throw new Error("production"===process.env.NODE_ENV?formatProdErrorMessage(15):"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},n={getState:e.getState,dispatch:function(){return t.apply(void 0,arguments)}},r=o.map(function(e){return e(n)}),t=compose.apply(void 0,r)(e.dispatch);return _objectSpread$o(_objectSpread$o({},e),{},{dispatch:t})}}}function isCrushed(){}function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function getValuePair(e,t){var n=e._map,r=e._arrayTreeMap,e=e._objectTreeMap;if(n.has(t))return n.get(t);for(var i=Object.keys(t).sort(),o=Array.isArray(t)?r:e,a=0;a<i.length;a++){var s=i[a];if(void 0===(o=o.get(s)))return;s=t[s];if(void 0===(o=o.get(s)))return}e=o.get("_ekm_value");return e?(n.delete(e[0]),e[0]=t,o.set("_ekm_value",e),n.set(t,e),e):void 0}"production"!==process.env.NODE_ENV&&"string"==typeof isCrushed.name&&"isCrushed"!==isCrushed.name&&warning$2('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');var EquivalentKeyMap=function(){function s(e){var n;if(_classCallCheck(this,s),this.clear(),e instanceof s&&(n=[],e.forEach(function(e,t){n.push([t,e])}),e=n),null!=e)for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])}return _createClass(s,[{key:"set",value:function(e,t){if(null===e||"object"!==_typeof$2(e))return this._map.set(e,t),this;for(var n=Object.keys(e).sort(),r=[e,t],i=Array.isArray(e)?this._arrayTreeMap:this._objectTreeMap,o=0;o<n.length;o++){var a=n[o];i.has(a)||i.set(a,new s);i=i.get(a),a=e[a];i.has(a)||i.set(a,new s),i=i.get(a)}t=i.get("_ekm_value");return t&&this._map.delete(t[0]),i.set("_ekm_value",r),this._map.set(e,r),this}},{key:"get",value:function(e){if(null===e||"object"!==_typeof$2(e))return this._map.get(e);e=getValuePair(this,e);return e?e[1]:void 0}},{key:"has",value:function(e){return null===e||"object"!==_typeof$2(e)?this._map.has(e):void 0!==getValuePair(this,e)}},{key:"delete",value:function(e){return!!this.has(e)&&(this.set(e,void 0),!0)}},{key:"forEach",value:function(n){var r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this;this._map.forEach(function(e,t){null!==t&&"object"===_typeof$2(t)&&(e=e[1]),n.call(i,e,t,r)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),s}(),equivalentKeyMap=EquivalentKeyMap;function isGenerator(e){return!!e&&"function"==typeof e[Symbol.iterator]&&"function"==typeof e.next}var dist={},helpers={},keys$1={};Object.defineProperty(keys$1,"__esModule",{value:!0});var keys={all:Symbol("all"),error:Symbol("error"),fork:Symbol("fork"),join:Symbol("join"),race:Symbol("race"),call:Symbol("call"),cps:Symbol("cps"),subscribe:Symbol("subscribe")};keys$1.default=keys,Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.createChannel=helpers.subscribe=helpers.cps=helpers.apply=helpers.call=helpers.invoke=helpers.delay=helpers.race=helpers.join=helpers.fork=helpers.error=helpers.all=void 0;var _keys$1=keys$1,_keys2$1=_interopRequireDefault$5(keys$1);function _interopRequireDefault$5(e){return e&&e.__esModule?e:{default:e}}helpers.all=function(e){return{type:_keys2$1.default.all,value:e}},helpers.error=function(e){return{type:_keys2$1.default.error,error:e}},helpers.fork=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:_keys2$1.default.fork,iterator:e,args:n}},helpers.join=function(e){return{type:_keys2$1.default.join,task:e}},helpers.race=function(e){return{type:_keys2$1.default.race,competitors:e}},helpers.delay=function(t){return new Promise(function(e){setTimeout(function(){return e(!0)},t)})},helpers.invoke=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:_keys2$1.default.call,func:e,context:null,args:n}},helpers.call=function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return{type:_keys2$1.default.call,func:e,context:t,args:r}},helpers.apply=function(e,t,n){return{type:_keys2$1.default.call,func:e,context:t,args:n}},helpers.cps=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:_keys2$1.default.cps,func:e,args:n}},helpers.subscribe=function(e){return{type:_keys2$1.default.subscribe,channel:e}},helpers.createChannel=function(e){var n=[];return e(function(t){return n.forEach(function(e){return e(t)})}),{subscribe:function(e){return n.push(e),function(){return n.splice(n.indexOf(e),1)}}}};var create$1={},builtin={},is$1={};Object.defineProperty(is$1,"__esModule",{value:!0});var _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_keys=keys$1,_keys2=_interopRequireDefault$4(keys$1);function _interopRequireDefault$4(e){return e&&e.__esModule?e:{default:e}}var is={obj:function(e){return"object"===(void 0===e?"undefined":_typeof$1(e))&&!!e},all:function(e){return is.obj(e)&&e.type===_keys2.default.all},error:function(e){return is.obj(e)&&e.type===_keys2.default.error},array:Array.isArray,func:function(e){return"function"==typeof e},promise:function(e){return e&&is.func(e.then)},iterator:function(e){return e&&is.func(e.next)&&is.func(e.throw)},fork:function(e){return is.obj(e)&&e.type===_keys2.default.fork},join:function(e){return is.obj(e)&&e.type===_keys2.default.join},race:function(e){return is.obj(e)&&e.type===_keys2.default.race},call:function(e){return is.obj(e)&&e.type===_keys2.default.call},cps:function(e){return is.obj(e)&&e.type===_keys2.default.cps},subscribe:function(e){return is.obj(e)&&e.type===_keys2.default.subscribe},channel:function(e){return is.obj(e)&&is.func(e.subscribe)}};is$1.default=is,Object.defineProperty(builtin,"__esModule",{value:!0}),builtin.iterator=builtin.array=builtin.object=builtin.error=builtin.any=void 0;var _is$3=is$1,_is2$3=_interopRequireDefault$3(is$1);function _interopRequireDefault$3(e){return e&&e.__esModule?e:{default:e}}var any=builtin.any=function(e,t,n,r){return r(e),!0},error$1=builtin.error=function(e,t,n,r,i){return!!_is2$3.default.error(e)&&(i(e.error),!0)},object=builtin.object=function(e,t,r,i,o){if(!_is2$3.default.all(e)||!_is2$3.default.obj(e.value))return!1;var a={},s=Object.keys(e.value),l=0,u=!1;return s.map(function(n){r(e.value[n],function(e){var t;t=n,e=e,u||(a[t]=e,++l===s.length&&i(a))},function(e){e=e,u||(u=!0,o(e))})}),!0},array=builtin.array=function(r,e,t,i,o){if(!_is2$3.default.all(r)||!_is2$3.default.array(r.value))return!1;var a=[],s=0,l=!1;return r.value.map(function(e,n){t(e,function(e){var t;t=n,e=e,l||(a[t]=e,++s===r.value.length&&i(a))},function(e){e=e,l||(l=!0,o(e))})}),!0},iterator=builtin.iterator=function(e,t,n,r,i){return!!_is2$3.default.iterator(e)&&(n(e,t,i),!0)};builtin.default=[error$1,iterator,array,object,any],Object.defineProperty(create$1,"__esModule",{value:!0});var _builtin=builtin,_builtin2=_interopRequireDefault$2(builtin),_is$2=is$1,_is2$2=_interopRequireDefault$2(is$1);function _interopRequireDefault$2(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray$1(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var create=function(){var l=[].concat(_toConsumableArray$1(arguments.length<=0||void 0===arguments[0]?[]:arguments[0]),_toConsumableArray$1(_builtin2.default));return function n(t){var i,r,o=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1],a=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2],e=_is2$2.default.iterator(t)?t:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})();function s(t){l.some(function(e){return e(t,s,n,r(!1),r(!0))})}i=e,(r=function(r){return function(e){try{var t=r?i.throw(e):i.next(e),n=t.value;if(t.done)return o(n);s(n)}catch(e){return a(e)}}})(!1)()}};create$1.default=create;var async={},dispatcher={};Object.defineProperty(dispatcher,"__esModule",{value:!0});var createDispatcher=function(){var e=[];return{subscribe:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},dispatch:function(t){e.slice().forEach(function(e){return e(t)})}}};dispatcher.default=createDispatcher,Object.defineProperty(async,"__esModule",{value:!0}),async.race=async.join=async.fork=async.promise=void 0;var _is$1=is$1,_is2$1=_interopRequireDefault$1(is$1),_helpers=helpers,_dispatcher=dispatcher,_dispatcher2=_interopRequireDefault$1(dispatcher);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}var promise$1=async.promise=function(e,t,n,r,i){return!!_is2$1.default.promise(e)&&(e.then(t,i),!0)},forkedTasks=new Map,fork=async.fork=function(e,t,n){if(!_is2$1.default.fork(e))return!1;var r=Symbol("fork"),i=(0,_dispatcher2.default)();forkedTasks.set(r,i),n(e.iterator.apply(null,e.args),function(e){return i.dispatch(e)},function(e){return i.dispatch((0,_helpers.error)(e))});var o=i.subscribe(function(){o(),forkedTasks.delete(r)});return t(r),!0},join=async.join=function(e,t,n,r,i){if(!_is2$1.default.join(e))return!1;var o,e=forkedTasks.get(e.task);return e?o=e.subscribe(function(e){o(),t(e)}):i("join error : task not found"),!0},race=async.race=function(e,r,n,t,i){if(!_is2$1.default.race(e))return!1;function o(e,t,n){u||(u=!0,e[t]=n,r(e))}function a(e){u||i(e)}var s,l,u=!1;return _is2$1.default.array(e.competitors)?(l=e.competitors.map(function(){return!1}),e.competitors.forEach(function(e,t){n(e,function(e){return o(l,t,e)},a)})):(s=Object.keys(e.competitors).reduce(function(e,t){return e[t]=!1,e},{}),Object.keys(e.competitors).forEach(function(t){n(e.competitors[t],function(e){return o(s,t,e)},a)})),!0},subscribe=function(e,t){if(!_is2$1.default.subscribe(e))return!1;if(!_is2$1.default.channel(e.channel))throw new Error('the first argument of "subscribe" must be a valid channel');var n=e.channel.subscribe(function(e){n&&n(),t(e)});return!0};async.default=[promise$1,fork,join,race,subscribe];var wrap={};Object.defineProperty(wrap,"__esModule",{value:!0}),wrap.cps=wrap.call=void 0;var _is=is$1,_is2=_interopRequireDefault(is$1);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var call=wrap.call=function(e,t,n,r,i){if(!_is2.default.call(e))return!1;try{t(e.func.apply(e.context,e.args))}catch(e){i(e)}return!0},cps=wrap.cps=function(e,n,t,r,i){var o;return!!_is2.default.cps(e)&&((o=e.func).call.apply(o,[null].concat(_toConsumableArray(e.args),[function(e,t){e?i(e):n(t)}])),!0)};wrap.default=[call,cps],function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapControls=t.asyncControls=t.create=void 0;var n=helpers;Object.keys(n).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var e=o(create$1),r=o(async),i=o(wrap);function o(e){return e&&e.__esModule?e:{default:e}}t.create=e.default,t.asyncControls=r.default,t.wrapControls=i.default}(dist);var isPromise$3={exports:{}};function isPromise$1(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}isPromise$3.exports=isPromise$1,isPromise$3.exports.default=isPromise$1;var _builtinControls,isPromise$2=isPromise$3.exports;function isAction(e){return isPlainObject$1(e)&&isString$1(e.type)}function isActionOfType(e,t){return isAction(e)&&e.type===t}function createRuntime(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,e=map(e,function(o,a){return function(e,t,n,r,i){if(!isActionOfType(e,a))return!1;e=o(e);return isPromise$2(e)?e.then(r,i):r(e),!0}});e.push(function(e,t){return!!isAction(e)&&(r(e),t(),!0)});var i=dist.create(e);return function(n){return new Promise(function(t,e){return i(n,function(e){isAction(e)&&r(e),t(e)},e)})}}function createMiddleware(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(e){var n=createRuntime(t,e.dispatch);return function(t){return function(e){return(isGenerator(e)?n:t)(e)}}}}function createRegistryControl(e){return e.isRegistryControl=!0,e}var SELECT="@@data/SELECT",RESOLVE_SELECT="@@data/RESOLVE_SELECT",DISPATCH="@@data/DISPATCH",builtinControls=(_builtinControls={},_defineProperty$c(_builtinControls,SELECT,createRegistryControl(function(r){return function(e){var t=e.storeKey,n=e.selectorName,e=e.args;return(t=r.select(t))[n].apply(t,_toConsumableArray$2(e))}})),_defineProperty$c(_builtinControls,RESOLVE_SELECT,createRegistryControl(function(i){return function(e){var t=e.storeKey,n=e.selectorName,r=e.args,e=i.select(t)[n].hasResolver?"resolveSelect":"select";return(t=i[e](t))[n].apply(t,_toConsumableArray$2(r))}})),_defineProperty$c(_builtinControls,DISPATCH,createRegistryControl(function(r){return function(e){var t=e.storeKey,n=e.actionName,e=e.args;return(t=r.dispatch(t))[n].apply(t,_toConsumableArray$2(e))}})),_builtinControls),promiseMiddleware=function(){return function(t){return function(e){return isPromise$2(e)?e.then(function(e){if(e)return t(e)}):t(e)}}},promise=promiseMiddleware,createResolversCacheMiddleware=function(o,a){return function(){return function(t){return function(i){var e=o.select("core/data").getCachedResolvers(a);return Object.entries(e).forEach(function(e){var e=_slicedToArray(e,2),n=e[0],e=e[1],r=get$1(o.stores,[a,"resolvers",n]);r&&r.shouldInvalidate&&e.forEach(function(e,t){!1===e&&r.shouldInvalidate.apply(r,[i].concat(_toConsumableArray$2(t)))&&o.dispatch("core/data").invalidateResolution(a,n,t)})}),t(i)}}}},createResolversCacheMiddleware$1=createResolversCacheMiddleware;function createThunkMiddleware(n){return function(){return function(t){return function(e){return"function"==typeof e?e(n):t(e)}}}}function ownKeys$e(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$e(Object(n),!0).forEach(function(e){_defineProperty$c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var onSubKey=function(i){return function(r){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=t[i];if(void 0===n)return e;t=r(e[n],t);return t===e[n]?e:_objectSpread$n(_objectSpread$n({},e),{},_defineProperty$c({},n,t))}}},subKeysIsResolved=onSubKey("selectorName")(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new equivalentKeyMap,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"START_RESOLUTION":case"FINISH_RESOLUTION":var n="START_RESOLUTION"===t.type,r=new equivalentKeyMap(e);return r.set(t.args,n),r;case"INVALIDATE_RESOLUTION":r=new equivalentKeyMap(e);return r.delete(t.args),r}return e}),isResolved=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"INVALIDATE_RESOLUTION_FOR_STORE":return{};case"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR":return has(e,[t.selectorName])?omit(e,[t.selectorName]):e;case"START_RESOLUTION":case"FINISH_RESOLUTION":case"INVALIDATE_RESOLUTION":return subKeysIsResolved(e,t)}return e},metadataReducer=isResolved;function getIsResolving(e,t,n){t=get$1(e,[t]);if(t)return t.get(n)}function hasStartedResolution(e,t){return void 0!==getIsResolving(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:[])}function hasFinishedResolution(e,t){return!1===getIsResolving(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:[])}function isResolving(e,t){return!0===getIsResolving(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:[])}function getCachedResolvers(e){return e}var metadataSelectors=Object.freeze({__proto__:null,getIsResolving:getIsResolving,hasStartedResolution:hasStartedResolution,hasFinishedResolution:hasFinishedResolution,isResolving:isResolving,getCachedResolvers:getCachedResolvers});function startResolution(e,t){return{type:"START_RESOLUTION",selectorName:e,args:t}}function finishResolution(e,t){return{type:"FINISH_RESOLUTION",selectorName:e,args:t}}function invalidateResolution(e,t){return{type:"INVALIDATE_RESOLUTION",selectorName:e,args:t}}function invalidateResolutionForStore(){return{type:"INVALIDATE_RESOLUTION_FOR_STORE"}}function invalidateResolutionForStoreSelector(e){return{type:"INVALIDATE_RESOLUTION_FOR_STORE_SELECTOR",selectorName:e}}var metadataActions=Object.freeze({__proto__:null,startResolution:startResolution,finishResolution:finishResolution,invalidateResolution:invalidateResolution,invalidateResolutionForStore:invalidateResolutionForStore,invalidateResolutionForStoreSelector:invalidateResolutionForStoreSelector});function ownKeys$d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$d(Object(n),!0).forEach(function(e){_defineProperty$c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function createResolversCache(){var n={};return{isRunning:function(e,t){return n[e]&&n[e].get(t)},clear:function(e,t){n[e]&&n[e].delete(t)},markAsRunning:function(e,t){n[e]||(n[e]=new equivalentKeyMap),n[e].set(t,!0)}}}function createReduxStore(f,p){return{name:f,instantiate:function(e){var t,n=p.reducer,i=instantiateReduxStore(f,p,e,{registry:e,get dispatch(){return Object.assign(function(e){return i.dispatch(e)},u())},get select(){return Object.assign(function(e){return e(i.__unstableOriginalGetState())},l())},get resolveSelect(){return c()}}),r=createResolversCache(),o=mapActions(_objectSpread$m(_objectSpread$m({},metadataActions),p.actions),i),a=mapSelectors(_objectSpread$m(_objectSpread$m({},mapValues(metadataSelectors,function(i){return function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.apply(void 0,[e.metadata].concat(n))}})),mapValues(p.selectors,function(i){return i.isRegistrySelector&&(i.registry=e),function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.apply(void 0,[e.root].concat(n))}})),i);p.resolvers&&(t=(d=mapResolvers(p.resolvers,a,i,r)).resolvers,a=d.selectors);var s=mapResolveSelectors(a,i),l=function(){return a},u=function(){return o},c=function(){return s};i.__unstableOriginalGetState=i.getState,i.getState=function(){return i.__unstableOriginalGetState().root};var d=i&&function(n){var r=i.__unstableOriginalGetState();return i.subscribe(function(){var e=i.__unstableOriginalGetState(),t=e!==r;r=e,t&&n()})};return{reducer:n,store:i,actions:o,selectors:a,resolvers:t,getSelectors:l,getResolveSelectors:c,getActions:u,subscribe:d}}}}function instantiateReduxStore(e,t,n,r){var i=_objectSpread$m(_objectSpread$m({},t.controls),builtinControls),i=mapValues(i,function(e){return e.isRegistryControl?e(n):e}),i=[createResolversCacheMiddleware$1(n,e),promise,createMiddleware(i)];t.__experimentalUseThunks&&i.push(createThunkMiddleware(r));i=[applyMiddleware.apply(void 0,i)];"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&i.push(window.__REDUX_DEVTOOLS_EXTENSION__({name:e,instanceId:e}));e=t.reducer,t=t.initialState;return createStore(turboCombineReducers({metadata:metadataReducer,root:e}),{root:t},flowRight(i))}function mapSelectors(e,i){return mapValues(e,function(r){function e(){var e=arguments.length,t=new Array(e+1);t[0]=i.__unstableOriginalGetState();for(var n=0;n<e;n++)t[n+1]=arguments[n];return r.apply(void 0,t)}return e.hasResolver=!1,e})}function mapActions(e,t){return mapValues(e,function(e){return function(){return Promise.resolve(t.dispatch(e.apply(void 0,arguments)))}})}function mapResolveSelectors(l,u){return mapValues(omit(l,["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"]),function(a,s){return function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return new Promise(function(e){function t(){return l.hasFinishedResolution(s,o)}function n(){return a.apply(null,o)}var r=n();if(t())return e(r);var i=u.subscribe(function(){t()&&(i(),e(n()))})})}})}function mapResolvers(t,e,s,l){var u=mapValues(t,function(e){return e.fulfill?e:_objectSpread$m(_objectSpread$m({},e),{},{fulfill:e})});return{resolvers:u,selectors:mapValues(e,function(i,o){var a=t[o];if(!a)return i.hasResolver=!1,i;function e(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];function r(){return(r=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.getState(),l.isRunning(o,n)||"function"==typeof a.isFulfilled&&a.isFulfilled.apply(a,[t].concat(n)))return e.abrupt("return");e.next=3;break;case 3:if(t=s.__unstableOriginalGetState(),hasStartedResolution(t.metadata,o,n))return e.abrupt("return");e.next=6;break;case 6:l.markAsRunning(o,n),setTimeout(_asyncToGenerator(_regeneratorRuntime.mark(function e(){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.clear(o,n),s.dispatch(startResolution(o,n)),e.next=4,fulfillResolver.apply(void 0,[s,u,o].concat(n));case 4:s.dispatch(finishResolution(o,n));case 5:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}return function(){return r.apply(this,arguments)}.apply(void 0,n),i.apply(void 0,n)}return e.hasResolver=!0,e})}}function fulfillResolver(e,t,n){return _fulfillResolver.apply(this,arguments)}function _fulfillResolver(){return(_fulfillResolver=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,l,u=arguments;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=get$1(n,[r])){e.next=3;break}return e.abrupt("return");case 3:for(o=u.length,a=new Array(3<o?o-3:0),s=3;s<o;s++)a[s-3]=u[s];if(l=i.fulfill.apply(i,a))return e.next=8,t.dispatch(l);e.next=8;break;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ownKeys$c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$c(Object(n),!0).forEach(function(e){_defineProperty$c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function createCoreDataStore(a){return{getSelectors:function(){return["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"].reduce(function(e,t){return _objectSpread$l(_objectSpread$l({},e),{},_defineProperty$c({},t,(o=t,function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=a.select(e))[o].apply(t,r)})));var o},{})},getActions:function(){return["startResolution","finishResolution","invalidateResolution","invalidateResolutionForStore","invalidateResolutionForStoreSelector"].reduce(function(e,t){return _objectSpread$l(_objectSpread$l({},e),{},_defineProperty$c({},t,(o=t,function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=a.dispatch(e))[o].apply(t,r)})));var o},{})},subscribe:function(){return function(){}}}}function ownKeys$b(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(e){_defineProperty$c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function createRegistry(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r={},t=[],i=new Set;function o(){t.forEach(function(e){return e()})}function a(e){return t.push(e),function(){t=without(t,e)}}function s(e,t){if("function"!=typeof t.getSelectors)throw new TypeError("config.getSelectors must be a function");if("function"!=typeof t.getActions)throw new TypeError("config.getActions must be a function");if("function"!=typeof t.subscribe)throw new TypeError("config.subscribe must be a function");(r[e]=t).subscribe(o)}var l,u={registerGenericStore:s,stores:r,namespaces:r,subscribe:a,select:function(e){var t=isObject$1(e)?e.name:e;return i.add(t),(e=r[t])?e.getSelectors():n&&n.select(t)},resolveSelect:function(e){var t=isObject$1(e)?e.name:e;return i.add(t),(e=r[t])?e.getResolveSelectors():n&&n.resolveSelect(t)},dispatch:function(e){var t=isObject$1(e)?e.name:e;return(e=r[t])?e.getActions():n&&n.dispatch(t)},use:function(e,t){return u=_objectSpread$k(_objectSpread$k({},u),e(u,t))},register:function(e){s(e.name,e.instantiate(u))},__experimentalMarkListeningStores:function(e,t){return i.clear(),e=e.call(this),t.current=Array.from(i),e},__experimentalSubscribeStore:function(e,t){return e in r?r[e].subscribe(t):n?n.__experimentalSubscribeStore(e,t):a(t)}};return u.registerStore=function(e,t){if(!t.reducer)throw new TypeError("Must specify store reducer");t=createReduxStore(e,t).instantiate(u);return s(e,t),t.store},s("core/data",createCoreDataStore(u)),Object.entries(e).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];return u.registerStore(e,t)}),n&&n.subscribe(o),l=u,mapValues(l,function(e,t){return"function"!=typeof e?e:function(){return u[t].apply(null,arguments)}})}var defaultRegistry=createRegistry();function memize(i,o){var a,s,l=0;function e(){var e,t,n=a,r=arguments.length;e:for(;n;){if(n.args.length===arguments.length){for(t=0;t<r;t++)if(n.args[t]!==arguments[t]){n=n.next;continue e}return n!==a&&(n===s&&(s=n.prev),n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=a,n.prev=null,a.prev=n,a=n),n.val}n=n.next}for(e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return n={args:e,val:i.apply(null,e)},a?(a.prev=n).next=a:s=n,l===o.maxSize?(s=s.prev).next=null:l++,(a=n).val}return o=o||{},e.clear=function(){s=a=null,l=0},"test"===process.env.NODE_ENV&&(e.getCache=function(){return[a,s,l]}),e}var memize_1=memize,sprintf={};function postfix(e){for(var t,n,r,i,o=[],a=[];t=e.match(PATTERN);){for(n=t[0],(r=e.substr(0,t.index).trim())&&o.push(r);i=a.pop();){if(TERMINATORS[n]){if(TERMINATORS[n][0]===i){n=TERMINATORS[n][1]||n;break}}else if(0<=OPENERS.indexOf(i)||PRECEDENCE[i]<PRECEDENCE[n]){a.push(i);break}o.push(i)}TERMINATORS[n]||a.push(n),e=e.substr(t.index+n.length)}return(e=e.trim())&&o.push(e),o.concat(a.reverse())}!function(e){function p(e){return function(e,t){var n,r,i,o,a,s,l,u,c=1,d=e.length,f="";for(r=0;r<d;r++)if("string"==typeof e[r])f+=e[r];else if("object"==typeof e[r]){if((o=e[r]).keys)for(n=t[c],i=0;i<o.keys.length;i++){if(null==n)throw new Error(p('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[i],o.keys[i-1]));n=n[o.keys[i]]}else n=o.param_no?t[o.param_no]:t[c++];if(h.not_type.test(o.type)&&h.not_primitive.test(o.type)&&n instanceof Function&&(n=n()),h.numeric_arg.test(o.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(p("[sprintf] expecting number but found %T",n));switch(h.number.test(o.type)&&(l=0<=n),o.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o.width?parseInt(o.width):0);break;case"e":n=o.precision?parseFloat(n).toExponential(o.precision):parseFloat(n).toExponential();break;case"f":n=o.precision?parseFloat(n).toFixed(o.precision):parseFloat(n);break;case"g":n=o.precision?String(Number(n.toPrecision(o.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o.precision?n.substring(0,o.precision):n;break;case"t":n=String(!!n),n=o.precision?n.substring(0,o.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o.precision?n.substring(0,o.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o.precision?n.substring(0,o.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}h.json.test(o.type)?f+=n:(!h.number.test(o.type)||l&&!o.sign?u="":(u=l?"+":"-",n=n.toString().replace(h.sign,"")),a=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",s=o.width-(u+n).length,s=o.width&&0<s?a.repeat(s):"",f+=o.align?u+n+s:"0"===a?u+s+n:s+u+n)}return f}(function(e){if(l[e])return l[e];var t,n=e,r=[],i=0;for(;n;){if(null!==(t=h.text.exec(n)))r.push(t[0]);else if(null!==(t=h.modulo.exec(n)))r.push("%");else{if(null===(t=h.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var o=[],a=t[2],s=[];if(null===(s=h.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=h.key_access.exec(a)))o.push(s[1]);else{if(null===(s=h.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(s[1])}t[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return l[e]=r}(e),arguments)}function t(e,t){return p.apply(null,[e].concat(t||[]))}var h,l;h={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},l=Object.create(null),e.sprintf=p,e.vsprintf=t,"undefined"!=typeof window&&(window.sprintf=p,window.vsprintf=t)}(sprintf),memize_1(console.error);var PRECEDENCE={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},OPENERS=["(","?"],TERMINATORS={")":["("],":":["?","?:"]},PATTERN=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/,OPERATORS={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return t<e},">=":function(e,t){return t<=e},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};function evaluate(e,t){for(var n,r,i,o,a,s=[],l=0;l<e.length;l++){if(o=e[l],i=OPERATORS[o]){for(n=i.length,r=Array(n);n--;)r[n]=s.pop();try{a=i.apply(null,r)}catch(e){return e}}else a=t.hasOwnProperty(o)?t[o]:+o;s.push(a)}return s[0]}function compile(e){var t=postfix(e);return function(e){return evaluate(t,e)}}function pluralForms(e){var t=compile(e);return function(e){return+t({n:e})}}var DEFAULT_OPTIONS$1={contextDelimiter:"",onMissingKey:null};function getPluralExpression(e){for(var t,n=e.split(";"),r=0;r<n.length;r++)if(0===(t=n[r].trim()).indexOf("plural="))return t.substr(7)}function Tannin(e,t){for(var n in this.data=e,this.pluralForms={},this.options={},DEFAULT_OPTIONS$1)this.options[n]=(void 0!==t&&n in t?t:DEFAULT_OPTIONS$1)[n]}function ownKeys$a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(e){_defineProperty$c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}Tannin.prototype.getPluralForm=function(e,t){var n,r,i=this.pluralForms[e];return i||("function"!=typeof(r=(n=this.data[e][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=pluralForms(getPluralExpression(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms))),i=this.pluralForms[e]=r),i(t)},Tannin.prototype.dcnpgettext=function(e,t,n,r,i){var o=void 0===i?0:this.getPluralForm(e,i),i=n;return t&&(i=t+this.options.contextDelimiter+n),(i=this.data[e][i])&&i[o]?i[o]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),0===o?n:r)};var DEFAULT_LOCALE_DATA$2={"":{plural_forms:function(e){return 1===e?0:1}}},I18N_HOOK_REGEXP$2=/^i18n\.(n?gettext|has_translation)(_|$)/,createI18n$2=function(e,t,a){function n(){u.forEach(function(e){return e()})}function r(e,t){c(e,t),n()}function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default",t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0;return o.data[e]||c(void 0,e),o.dcnpgettext(e,t,n,r,i)}function l(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default"}function i(e,t,n){var r=s(n,t,e);return a?(r=a.applyFilters("i18n.gettext_with_context",r,e,t,n),a.applyFilters("i18n.gettext_with_context_"+l(n),r,e,t,n)):r}var o=new Tannin({}),u=new Set,c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";o.data[t]=_objectSpread$j(_objectSpread$j(_objectSpread$j({},DEFAULT_LOCALE_DATA$2),o.data[t]),e),o.data[t][""]=_objectSpread$j(_objectSpread$j({},DEFAULT_LOCALE_DATA$2[""]),o.data[t][""])};return e&&r(e,t),a&&(a.addAction("hookAdded","core/i18n",t=function(e){I18N_HOOK_REGEXP$2.test(e)&&n()}),a.addAction("hookRemoved","core/i18n",t)),{getLocaleData:function(){return o.data[0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default"]},setLocaleData:r,resetLocaleData:function(e,t){o.data={},o.pluralForms={},r(e,t)},subscribe:function(e){return u.add(e),function(){return u.delete(e)}},__:function(e,t){var n=s(t,void 0,e);return a?(n=a.applyFilters("i18n.gettext",n,e,t),a.applyFilters("i18n.gettext_"+l(t),n,e,t)):n},_x:i,_n:function(e,t,n,r){var i=s(r,void 0,e,t,n);return a?(i=a.applyFilters("i18n.ngettext",i,e,t,n,r),a.applyFilters("i18n.ngettext_"+l(r),i,e,t,n,r)):i},_nx:function(e,t,n,r,i){var o=s(i,r,e,t,n);return a?(o=a.applyFilters("i18n.ngettext_with_context",o,e,t,n,r,i),a.applyFilters("i18n.ngettext_with_context_"+l(i),o,e,t,n,r,i)):o},isRTL:function(){return"rtl"===i("ltr","text direction")},hasTranslation:function(e,t,n){var r,i=!(null===(r=o.data)||void 0===r||null===(i=r[null!=n?n:"default"])||void 0===i||!i[t?t+""+e:e]);return a&&(i=a.applyFilters("i18n.has_translation",i,e,t,n),i=a.applyFilters("i18n.has_translation_"+l(n),i,e,t,n)),i}}};function validateNamespace$1(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function validateHookName$1(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function createAddHook$1(l,u){return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:10,i=l[u];if(validateHookName$1(t)&&validateNamespace$1(e))if("function"==typeof n)if("number"==typeof r){var o={callback:n,priority:r,namespace:e};if(i[t]){for(var a=i[t].handlers,s=a.length;0<s&&!(r>=a[s-1].priority);s--);s===a.length?a[s]=o:a.splice(s,0,o),i.__current.forEach(function(e){e.name===t&&e.currentIndex>=s&&e.currentIndex++})}else i[t]={handlers:[o],runs:0};"hookAdded"!==t&&l.doAction("hookAdded",t,e,n,r)}else console.error("If specified, the hook priority must be a number.");else console.error("The hook callback must be a function.")}}function createRemoveHook$1(a,s){var l=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(n,e){var r=a[s];if(validateHookName$1(n)&&(l||validateNamespace$1(e))){if(!r[n])return 0;var i=0;if(l)i=r[n].handlers.length,r[n]={runs:r[n].runs,handlers:[]};else for(var o=r[n].handlers,t=o.length-1;0<=t;t--)!function(t){o[t].namespace===e&&(o.splice(t,1),i++,r.__current.forEach(function(e){e.name===n&&e.currentIndex>=t&&e.currentIndex--}))}(t);return"hookRemoved"!==n&&a.doAction("hookRemoved",n,e),i}}}function createHasHook$1(r,i){return function(e,t){var n=r[i];return void 0!==t?e in n&&n[e].handlers.some(function(e){return e.namespace===t}):e in n}}function createRunHook$1(l,u){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(e){var t=l[u];t[e]||(t[e]={handlers:[],runs:0}),t[e].runs++;var n=t[e].handlers;"production"!==process.env.NODE_ENV&&"hookAdded"!==e&&t.all&&n.push.apply(n,_toConsumableArray$2(t.all.handlers));for(var r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(!n||!n.length)return c?i[0]:void 0;var a={name:e,currentIndex:0};for(t.__current.push(a);a.currentIndex<n.length;){var s=n[a.currentIndex].callback.apply(null,i);c&&(i[0]=s),a.currentIndex++}return t.__current.pop(),c?i[0]:void 0}}function createCurrentHook$1(t,n){return function(){var e=t[n];return null!==(e=null===(e=e.__current[e.__current.length-1])||void 0===e?void 0:e.name)&&void 0!==e?e:null}}function createDoingHook$1(n,r){return function(e){var t=n[r];return void 0===e?void 0!==t.__current[0]:!!t.__current[0]&&e===t.__current[0].name}}function createDidHook$1(n,r){return function(e){var t=n[r];if(validateHookName$1(e))return t[e]&&t[e].runs?t[e].runs:0}}var _Hooks$1=function e(){_classCallCheck$1(this,e),this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=createAddHook$1(this,"actions"),this.addFilter=createAddHook$1(this,"filters"),this.removeAction=createRemoveHook$1(this,"actions"),this.removeFilter=createRemoveHook$1(this,"filters"),this.hasAction=createHasHook$1(this,"actions"),this.hasFilter=createHasHook$1(this,"filters"),this.removeAllActions=createRemoveHook$1(this,"actions",!0),this.removeAllFilters=createRemoveHook$1(this,"filters",!0),this.doAction=createRunHook$1(this,"actions"),this.applyFilters=createRunHook$1(this,"filters",!0),this.currentAction=createCurrentHook$1(this,"actions"),this.currentFilter=createCurrentHook$1(this,"filters"),this.doingAction=createDoingHook$1(this,"actions"),this.doingFilter=createDoingHook$1(this,"filters"),this.didAction=createDidHook$1(this,"actions"),this.didFilter=createDidHook$1(this,"filters")};function createHooks$1(){return new _Hooks$1}var defaultHooks$1=createHooks$1();defaultHooks$1.addAction,defaultHooks$1.addFilter,defaultHooks$1.removeAction,defaultHooks$1.removeFilter,defaultHooks$1.hasAction,defaultHooks$1.hasFilter,defaultHooks$1.removeAllActions,defaultHooks$1.removeAllFilters,defaultHooks$1.doAction,defaultHooks$1.applyFilters,defaultHooks$1.currentAction,defaultHooks$1.currentFilter,defaultHooks$1.doingAction,defaultHooks$1.doingFilter,defaultHooks$1.didAction,defaultHooks$1.didFilter,defaultHooks$1.actions,defaultHooks$1.filters;var i18n$2=createI18n$2(void 0,void 0,defaultHooks$1);i18n$2.getLocaleData.bind(i18n$2),i18n$2.setLocaleData.bind(i18n$2),i18n$2.resetLocaleData.bind(i18n$2),i18n$2.subscribe.bind(i18n$2);var __$2=i18n$2.__.bind(i18n$2);i18n$2._x.bind(i18n$2),i18n$2._n.bind(i18n$2),i18n$2._nx.bind(i18n$2),i18n$2.isRTL.bind(i18n$2),i18n$2.hasTranslation.bind(i18n$2);var select=defaultRegistry.select;defaultRegistry.resolveSelect;var dispatch=defaultRegistry.dispatch;defaultRegistry.subscribe,defaultRegistry.registerGenericStore;var registerStore=defaultRegistry.registerStore;defaultRegistry.use,defaultRegistry.register;const consolePrefix="SweetAlert2:",uniqueArray=t=>{const n=[];for(let e=0;e<t.length;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n},capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1),objectValues=t=>Object.keys(t).map(e=>t[e]),toArray=e=>Array.prototype.slice.call(e),warn=e=>{console.warn(`${consolePrefix} ${"object"==typeof e?e.join(" "):e}`)},error=e=>{console.error(`${consolePrefix} ${e}`)},previousWarnOnceMessages=[],warnOnce=e=>{previousWarnOnceMessages.includes(e)||(previousWarnOnceMessages.push(e),warn(e))},warnAboutDeprecation=(e,t)=>{warnOnce(`"${e}" is deprecated and will be removed in the next major release. Please use "${t}" instead.`)},callIfFunction=e=>"function"==typeof e?e():e,hasToPromiseFn=e=>e&&"function"==typeof e.toPromise,asPromise=e=>hasToPromiseFn(e)?e.toPromise():Promise.resolve(e),isPromise=e=>e&&Promise.resolve(e)===e,DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),isJqueryElement=e=>"object"==typeof e&&e.jquery,isElement$4=e=>e instanceof Element||isJqueryElement(e),argsToParams=n=>{const r={};return"object"!=typeof n[0]||isElement$4(n[0])?["title","html","icon"].forEach((e,t)=>{t=n[t];"string"==typeof t||isElement$4(t)?r[e]=t:void 0!==t&&error(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof t}`)}):Object.assign(r,n[0]),r},swalPrefix="swal2-",prefix=e=>{const t={};for(const n in e)t[e[n]]=swalPrefix+e[n];return t},swalClasses=prefix(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),iconTypes=prefix(["success","warning","info","question","error"]),getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=e=>{const t=getContainer();return t?t.querySelector(e):null},elementByClass=e=>elementBySelector(`.${e}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getTitle=()=>elementByClass(swalClasses.title),getContent=()=>elementByClass(swalClasses.content),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps$1=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getActions=()=>elementByClass(swalClasses.actions),getHeader=()=>elementByClass(swalClasses.header),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const e=toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((e,t)=>(e=parseInt(e.getAttribute("tabindex")),(t=parseInt(t.getAttribute("tabindex")))<e?1:e<t?-1:0));var t=toArray(getPopup().querySelectorAll(focusable)).filter(e=>"-1"!==e.getAttribute("tabindex"));return uniqueArray(e.concat(t)).filter(e=>isVisible$2(e))},isModal=()=>!isToast()&&!document.body.classList.contains(swalClasses["no-backdrop"]),isToast=()=>document.body.classList.contains(swalClasses["toast-shown"]),isLoading=()=>getPopup().hasAttribute("data-loading"),states={previousBodyPadding:null},setInnerHtml=(t,e)=>{if(t.textContent="",e){const n=new DOMParser,r=n.parseFromString(e,"text/html");toArray(r.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),toArray(r.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)})}},hasClass=(t,e)=>{if(!e)return!1;var n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},removeCustomClasses=(t,n)=>{toArray(t.classList).forEach(e=>{objectValues(swalClasses).includes(e)||objectValues(iconTypes).includes(e)||objectValues(n.showClass).includes(e)||t.classList.remove(e)})},applyCustomClass=(e,t,n)=>{if(removeCustomClasses(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return warn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof t.customClass[n]}"`);addClass(e,t.customClass[n])}};function getInput$1(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return getChildByClass(e,swalClasses[t]);case"checkbox":return e.querySelector(`.${swalClasses.checkbox} input`);case"radio":return e.querySelector(`.${swalClasses.radio} input:checked`)||e.querySelector(`.${swalClasses.radio} input:first-child`);case"range":return e.querySelector(`.${swalClasses.range} input`);default:return getChildByClass(e,swalClasses.input)}}const focusInput=e=>{var t;e.focus(),"file"!==e.type&&(t=e.value,e.value="",e.value=t)},toggleClass=(e,t,n)=>{e&&t&&(t="string"==typeof t?t.split(/\s+/).filter(Boolean):t).forEach(t=>{e.forEach?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)})},addClass=(e,t)=>{toggleClass(e,t,!0)},removeClass=(e,t)=>{toggleClass(e,t,!1)},getChildByClass=(t,n)=>{for(let e=0;e<t.childNodes.length;e++)if(hasClass(t.childNodes[e],n))return t.childNodes[e]},applyNumericalStyle=(e,t,n)=>{(n=n===`${parseInt(n)}`?parseInt(n):n)||0===parseInt(n)?e.style[t]="number"==typeof n?`${n}px`:n:e.style.removeProperty(t)},show=(e,t="flex")=>{e.style.display=t},hide=e=>{e.style.display="none"},setStyle=(e,t,n,r)=>{const i=e.querySelector(t);i&&(i.style[n]=r)},toggle=(e,t,n)=>{t?show(e,n):hide(e)},isVisible$2=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$2(getConfirmButton())&&!isVisible$2(getDenyButton())&&!isVisible$2(getCancelButton()),isScrollable=e=>!!(e.scrollHeight>e.clientHeight),hasCssAnimation=e=>{const t=window.getComputedStyle(e);var n=parseFloat(t.getPropertyValue("animation-duration")||"0"),e=parseFloat(t.getPropertyValue("transition-duration")||"0");return 0<n||0<e},contains=(e,t)=>{if("function"==typeof e.contains)return e.contains(t)},animateTimerProgressBar=(e,t=!1)=>{const n=getTimerProgressBar();isVisible$2(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},stopTimerProgressBar=()=>{const e=getTimerProgressBar();var t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),n=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width=`${n}%`},isNodeEnv=()=>"undefined"==typeof window||"undefined"==typeof document,sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses.content}" class="${swalClasses.popup}" tabindex="-1">
   <div class="${swalClasses.header}">
     <ul class="${swalClasses["progress-steps"]}"></ul>
     <div class="${swalClasses.icon}"></div>
     <img class="${swalClasses.image}" />
     <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
     <button type="button" class="${swalClasses.close}"></button>
   </div>
   <div class="${swalClasses.content}">
     <div id="${swalClasses.content}" class="${swalClasses["html-container"]}"></div>
     <input class="${swalClasses.input}" />
     <input type="file" class="${swalClasses.file}" />
     <div class="${swalClasses.range}">
       <input type="range" />
       <output></output>
     </div>
     <select class="${swalClasses.select}"></select>
     <div class="${swalClasses.radio}"></div>
     <label for="${swalClasses.checkbox}" class="${swalClasses.checkbox}">
       <input type="checkbox" />
       <span class="${swalClasses.label}"></span>
     </label>
     <textarea class="${swalClasses.textarea}"></textarea>
     <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   </div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const e=getContainer();return!!e&&(e.parentNode.removeChild(e),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0)};let oldInputVal;const resetValidationMessage$1=e=>{Swal.isVisible()&&oldInputVal!==e.target.value&&Swal.resetValidationMessage(),oldInputVal=e.target.value},addInputChangeListeners=()=>{const e=getContent(),t=getChildByClass(e,swalClasses.input),n=getChildByClass(e,swalClasses.file),r=e.querySelector(`.${swalClasses.range} input`),i=e.querySelector(`.${swalClasses.range} output`),o=getChildByClass(e,swalClasses.select),a=e.querySelector(`.${swalClasses.checkbox} input`),s=getChildByClass(e,swalClasses.textarea);t.oninput=resetValidationMessage$1,n.onchange=resetValidationMessage$1,o.onchange=resetValidationMessage$1,a.onchange=resetValidationMessage$1,s.oninput=resetValidationMessage$1,r.oninput=e=>{resetValidationMessage$1(e),i.value=r.value},r.onchange=e=>{resetValidationMessage$1(e),r.nextSibling.value=r.value}},getTarget=e=>"string"==typeof e?document.querySelector(e):e,setupAccessibility=e=>{const t=getPopup();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},setupRTL=e=>{"rtl"===window.getComputedStyle(e).direction&&addClass(getContainer(),swalClasses.rtl)},init=e=>{var t=resetOldContainer();if(isNodeEnv())error("SweetAlert2 requires document to initialize");else{const n=document.createElement("div");n.className=swalClasses.container,t&&addClass(n,swalClasses["no-transition"]),setInnerHtml(n,sweetHTML);const r=getTarget(e.target);r.appendChild(n),setupAccessibility(e),setupRTL(r),addInputChangeListeners()}},parseHtmlToContainer=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?handleObject(e,t):e&&setInnerHtml(t,e)},handleObject=(e,t)=>{e.jquery?handleJqueryElem(t,e):setInnerHtml(t,e.toString())},handleJqueryElem=(t,n)=>{if(t.textContent="",0 in n)for(let e=0;e in n;e++)t.appendChild(n[e].cloneNode(!0));else t.appendChild(n.cloneNode(!0))},animationEndEvent=(()=>{if(isNodeEnv())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})(),measureScrollbar=()=>{const e=document.createElement("div");e.className=swalClasses["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},renderActions=(e,t)=>{const n=getActions();var r=getLoader(),i=getConfirmButton(),o=getDenyButton(),a=getCancelButton();t.showConfirmButton||t.showDenyButton||t.showCancelButton||hide(n),applyCustomClass(n,t,"actions"),renderButton(i,"confirm",t),renderButton(o,"deny",t),renderButton(a,"cancel",t),handleButtonsStyling(i,o,a,t),t.reverseButtons&&(n.insertBefore(a,r),n.insertBefore(o,r),n.insertBefore(i,r)),setInnerHtml(r,t.loaderHtml),applyCustomClass(r,t,"loader")};function handleButtonsStyling(e,t,n,r){if(!r.buttonsStyling)return removeClass([e,t,n],swalClasses.styled);addClass([e,t,n],swalClasses.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}function renderButton(e,t,n){toggle(e,n[`show${capitalizeFirstLetter(t)}Button`],"inline-block"),setInnerHtml(e,n[`${t}ButtonText`]),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]),e.className=swalClasses[t],applyCustomClass(e,n,`${t}Button`),addClass(e,n[`${t}ButtonClass`])}function handleBackdropParam(e,t){"string"==typeof t?e.style.background=t:t||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(e,t){t in swalClasses?addClass(e,swalClasses[t]):(warn('The "position" parameter is not valid, defaulting to "center"'),addClass(e,swalClasses.center))}function handleGrowParam(e,t){!t||"string"!=typeof t||(t=`grow-${t}`)in swalClasses&&addClass(e,swalClasses[t])}const renderContainer=(e,t)=>{const n=getContainer();n&&(handleBackdropParam(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),handlePositionParam(n,t.position),handleGrowParam(n,t.grow),applyCustomClass(n,t,"container"),(t=document.body.getAttribute("data-swal2-queue-step"))&&(n.setAttribute("data-queue-step",t),document.body.removeAttribute("data-swal2-queue-step")))};var privateProps={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const inputTypes=["input","file","range","select","radio","checkbox","textarea"],renderInput=(e,r)=>{const i=getContent();e=privateProps.innerParams.get(e);const o=!e||r.input!==e.input;inputTypes.forEach(e=>{var t=swalClasses[e];const n=getChildByClass(i,t);setAttributes(e,r.inputAttributes),n.className=t,o&&hide(n)}),r.input&&(o&&showInput(r),setCustomClass(r))},showInput=e=>{if(!renderInputType[e.input])return error(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${e.input}"`);var t=getInputContainer(e.input);const n=renderInputType[e.input](t,e);show(n),setTimeout(()=>{focusInput(n)})},removeAttributes=t=>{for(let e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}},setAttributes=(e,t)=>{const n=getInput$1(getContent(),e);if(n){removeAttributes(n);for(const r in t)"range"===e&&"placeholder"===r||n.setAttribute(r,t[r])}},setCustomClass=e=>{var t=getInputContainer(e.input);e.customClass&&addClass(t,e.customClass.input)},setInputPlaceholder=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},setInputLabel=(e,t,n)=>{if(n.inputLabel){e.id=swalClasses.input;const i=document.createElement("label");var r=swalClasses["input-label"];i.setAttribute("for",e.id),i.className=r,addClass(i,n.customClass.inputLabel),i.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",i)}},getInputContainer=e=>{e=swalClasses[e]||swalClasses.input;return getChildByClass(getContent(),e)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:isPromise(t.inputValue)||warn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t.inputValue}"`),setInputLabel(e,e,t),setInputPlaceholder(e,t),e.type=t.input,e),renderInputType.file=(e,t)=>(setInputLabel(e,e,t),setInputPlaceholder(e,t),e),renderInputType.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,r.value=t.inputValue,setInputLabel(n,e,t),e},renderInputType.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");setInnerHtml(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return setInputLabel(e,e,t),e},renderInputType.radio=e=>(e.textContent="",e),renderInputType.checkbox=(e,t)=>{const n=getInput$1(getContent(),"checkbox");n.value=1,n.id=swalClasses.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return setInnerHtml(r,t.inputPlaceholder),e},renderInputType.textarea=(t,e)=>{t.value=e.inputValue,setInputPlaceholder(t,e),setInputLabel(t,t,e);const n=e=>parseInt(window.getComputedStyle(e).paddingLeft)+parseInt(window.getComputedStyle(e).paddingRight);if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(getPopup()).width);new MutationObserver(()=>{var e=t.offsetWidth+n(getPopup())+n(getContent());e>r?getPopup().style.width=`${e}px`:getPopup().style.width=null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};const renderContent=(e,t)=>{const n=getHtmlContainer();applyCustomClass(n,t,"htmlContainer"),t.html?(parseHtmlToContainer(t.html,n),show(n,"block")):t.text?(n.textContent=t.text,show(n,"block")):hide(n),renderInput(e,t),applyCustomClass(getContent(),t,"content")},renderFooter=(e,t)=>{var n=getFooter();toggle(n,t.footer),t.footer&&parseHtmlToContainer(t.footer,n),applyCustomClass(n,t,"footer")},renderCloseButton=(e,t)=>{const n=getCloseButton();setInnerHtml(n,t.closeButtonHtml),applyCustomClass(n,t,"closeButton"),toggle(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},renderIcon=(e,t)=>{var n=privateProps.innerParams.get(e),e=getIcon();return n&&t.icon===n.icon?(setContent(e,t),void applyStyles(e,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(iconTypes).indexOf(t.icon)?(error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),hide(e)):(show(e),setContent(e,t),applyStyles(e,t),void addClass(e,t.showClass.icon)):hide(e)},applyStyles=(e,t)=>{for(const n in iconTypes)t.icon!==n&&removeClass(e,iconTypes[n]);addClass(e,iconTypes[t.icon]),setColor(e,t),adjustSuccessIconBackgoundColor(),applyCustomClass(e,t,"icon")},adjustSuccessIconBackgoundColor=()=>{const e=getPopup();var t=window.getComputedStyle(e).getPropertyValue("background-color");const n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<n.length;e++)n[e].style.backgroundColor=t},setContent=(e,t)=>{var n;e.textContent="",t.iconHtml?setInnerHtml(e,iconContent(t.iconHtml)):"success"===t.icon?setInnerHtml(e,`
      <div class="swal2-success-circular-line-left"></div>
      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
      <div class="swal2-success-circular-line-right"></div>
    `):"error"===t.icon?setInnerHtml(e,`
      <span class="swal2-x-mark">
        <span class="swal2-x-mark-line-left"></span>
        <span class="swal2-x-mark-line-right"></span>
      </span>
    `):(n={question:"?",warning:"!",info:"i"},setInnerHtml(e,iconContent(n[t.icon])))},setColor=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(e,n,"backgroundColor",t.iconColor);setStyle(e,".swal2-success-ring","borderColor",t.iconColor)}},iconContent=e=>`<div class="${swalClasses["icon-content"]}">${e}</div>`,renderImage=(e,t)=>{const n=getImage();if(!t.imageUrl)return hide(n);show(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),applyNumericalStyle(n,"width",t.imageWidth),applyNumericalStyle(n,"height",t.imageHeight),n.className=swalClasses.image,applyCustomClass(n,t,"image")};let currentSteps=[];const queue=function(e){warnAboutDeprecation("Swal.queue()","async/await");const i=this;currentSteps=e;const o=(e,t)=>{currentSteps=[],e(t)},a=[];return new Promise(r=>{!function t(n,e){n<currentSteps.length?(document.body.setAttribute("data-swal2-queue-step",n),i.fire(currentSteps[n]).then(e=>{void 0!==e.value?(a.push(e.value),t(n+1)):o(r,{dismiss:e.dismiss})})):o(r,{value:a})}(0)})},getQueueStep=()=>getContainer()&&getContainer().getAttribute("data-queue-step"),insertQueueStep=(e,t)=>t&&t<currentSteps.length?currentSteps.splice(t,0,e):currentSteps.push(e),deleteQueueStep=e=>{void 0!==currentSteps[e]&&currentSteps.splice(e,1)},createStepElement=e=>{var t=document.createElement("li");return addClass(t,swalClasses["progress-step"]),setInnerHtml(t,e),t},createLineElement=e=>{const t=document.createElement("li");return addClass(t,swalClasses["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t},renderProgressSteps=(e,n)=>{const r=getProgressSteps$1();if(!n.progressSteps||0===n.progressSteps.length)return hide(r);show(r),r.textContent="";const i=parseInt(void 0===n.currentProgressStep?getQueueStep():n.currentProgressStep);i>=n.progressSteps.length&&warn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.progressSteps.forEach((e,t)=>{e=createStepElement(e);r.appendChild(e),t===i&&addClass(e,swalClasses["active-progress-step"]),t!==n.progressSteps.length-1&&(t=createLineElement(n),r.appendChild(t))})},renderTitle=(e,t)=>{const n=getTitle();toggle(n,t.title||t.titleText,"block"),t.title&&parseHtmlToContainer(t.title,n),t.titleText&&(n.innerText=t.titleText),applyCustomClass(n,t,"title")},renderHeader=(e,t)=>{var n=getHeader();applyCustomClass(n,t,"header"),renderProgressSteps(e,t),renderIcon(e,t),renderImage(e,t),renderTitle(e,t),renderCloseButton(e,t)},renderPopup=(e,t)=>{var n=getContainer();const r=getPopup();t.toast?(applyNumericalStyle(n,"width",t.width),r.style.width="100%"):applyNumericalStyle(r,"width",t.width),applyNumericalStyle(r,"padding",t.padding),t.background&&(r.style.background=t.background),hide(getValidationMessage()),addClasses$1(r,t)},addClasses$1=(e,t)=>{e.className=`${swalClasses.popup} ${isVisible$2(e)?t.showClass.popup:""}`,t.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(e,swalClasses.toast)):addClass(e,swalClasses.modal),applyCustomClass(e,t,"popup"),"string"==typeof t.customClass&&addClass(e,t.customClass),t.icon&&addClass(e,swalClasses[`icon-${t.icon}`])},render=(e,t)=>{renderPopup(e,t),renderContainer(e,t),renderHeader(e,t),renderContent(e,t),renderActions(e,t),renderFooter(e,t),"function"==typeof t.didRender?t.didRender(getPopup()):"function"==typeof t.onRender&&t.onRender(getPopup())},isVisible$1=()=>isVisible$2(getPopup()),clickConfirm=()=>getConfirmButton()&&getConfirmButton().click(),clickDeny=()=>getDenyButton()&&getDenyButton().click(),clickCancel=()=>getCancelButton()&&getCancelButton().click();function fire(...e){return new this(...e)}function mixin(n){class e extends this{_main(e,t){return super._main(e,Object.assign({},n,t))}}return e}const showLoading=e=>{let t=getPopup();t||Swal.fire(),t=getPopup();var n=getActions();const r=getLoader();!e&&isVisible$2(getConfirmButton())&&(e=getConfirmButton()),show(n),e&&(hide(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),addClass([t,n],swalClasses.loading),show(r),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement&&globalState.previousActiveElement.focus?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=r=>new Promise(e=>{if(!r)return e();var t=window.scrollX,n=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),e()},RESTORE_FOCUS_TIMEOUT),void 0!==t&&void 0!==n&&window.scrollTo(t,n)}),getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){var e=globalState.timeout.start();return animateTimerProgressBar(e),e}},toggleTimer=()=>{var e=globalState.timeout;return e&&(e.running?stopTimer:resumeTimer)()},increaseTimer=e=>{if(globalState.timeout){e=globalState.timeout.increase(e);return animateTimerProgressBar(e,!0),e}},isTimerRunning=()=>globalState.timeout&&globalState.timeout.isRunning();let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(e="data-swal-template"){clickHandlers[e]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in clickHandlers){var n=e.getAttribute(r);if(n)return void clickHandlers[r].fire({template:n})}},defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=e=>Object.prototype.hasOwnProperty.call(defaultParams,e),isUpdatableParameter=e=>-1!==updatableParams.indexOf(e),isDeprecatedParameter=e=>deprecatedParams[e],checkIfParamIsValid=e=>{isValidParameter(e)||warn(`Unknown parameter "${e}"`)},checkIfToastParamIsValid=e=>{toastIncompatibleParams.includes(e)&&warn(`The parameter "${e}" is incompatible with toasts`)},checkIfParamIsDeprecated=e=>{isDeprecatedParameter(e)&&warnAboutDeprecation(e,isDeprecatedParameter(e))},showWarningsForParams=e=>{for(const t in e)checkIfParamIsValid(t),e.toast&&checkIfToastParamIsValid(t),checkIfParamIsDeprecated(t)};var staticMethods=Object.freeze({__proto__:null,isValidParameter:isValidParameter,isUpdatableParameter:isUpdatableParameter,isDeprecatedParameter:isDeprecatedParameter,argsToParams:argsToParams,getContainer:getContainer,getPopup:getPopup,getTitle:getTitle,getContent:getContent,getHtmlContainer:getHtmlContainer,getImage:getImage,getIcon:getIcon,getInputLabel:getInputLabel,getCloseButton:getCloseButton,getActions:getActions,getConfirmButton:getConfirmButton,getDenyButton:getDenyButton,getCancelButton:getCancelButton,getLoader:getLoader,getHeader:getHeader,getFooter:getFooter,getTimerProgressBar:getTimerProgressBar,getFocusableElements:getFocusableElements,getValidationMessage:getValidationMessage,isLoading:isLoading,isVisible:isVisible$1,clickConfirm:clickConfirm,clickDeny:clickDeny,clickCancel:clickCancel,fire:fire,mixin:mixin,queue:queue,getQueueStep:getQueueStep,insertQueueStep:insertQueueStep,deleteQueueStep:deleteQueueStep,showLoading:showLoading,enableLoading:showLoading,getTimerLeft:getTimerLeft,stopTimer:stopTimer,resumeTimer:resumeTimer,toggleTimer:toggleTimer,increaseTimer:increaseTimer,isTimerRunning:isTimerRunning,bindClickHandler:bindClickHandler});function hideLoading(){if(privateProps.innerParams.get(this)){const t=privateProps.domCache.get(this);hide(t.loader);var e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?show(e[0],"inline-block"):allButtonsAreHidden()&&hide(t.actions),removeClass([t.popup,t.actions],swalClasses.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}function getInput(e){var t=privateProps.innerParams.get(e||this),e=privateProps.domCache.get(e||this);return e?getInput$1(e.content,t.input):null}const fixScrollbar=()=>{null===states.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(states.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${states.previousBodyPadding+measureScrollbar()}px`)},undoScrollbar=()=>{null!==states.previousBodyPadding&&(document.body.style.paddingRight=`${states.previousBodyPadding}px`,states.previousBodyPadding=null)},iOSfix=()=>{var e;(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!hasClass(document.body,swalClasses.iosfix)&&(e=document.body.scrollTop,document.body.style.top=`${-1*e}px`,addClass(document.body,swalClasses.iosfix),lockBodyScroll(),addBottomPaddingForTallPopups())},addBottomPaddingForTallPopups=()=>{navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||getPopup().scrollHeight>window.innerHeight-44&&(getContainer().style.paddingBottom="44px")},lockBodyScroll=()=>{const e=getContainer();let t;e.ontouchstart=e=>{t=shouldPreventTouchMove(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},shouldPreventTouchMove=e=>{var t=e.target,n=getContainer();return!isStylys(e)&&!isZoom(e)&&(t===n||!(isScrollable(n)||"INPUT"===t.tagName||isScrollable(getContent())&&getContent().contains(t)))},isStylys=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,isZoom=e=>e.touches&&1<e.touches.length,undoIOSfix=()=>{var e;hasClass(document.body,swalClasses.iosfix)&&(e=parseInt(document.body.style.top,10),removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=-1*e)},isIE11=()=>!!window.MSInputMethodContext&&!!document.documentMode,fixVerticalPositionIE=()=>{const e=getContainer();var t=getPopup();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},IEfix=()=>{"undefined"!=typeof window&&isIE11()&&(fixVerticalPositionIE(),window.addEventListener("resize",fixVerticalPositionIE))},undoIEfix=()=>{"undefined"!=typeof window&&isIE11()&&window.removeEventListener("resize",fixVerticalPositionIE)},setAriaHidden=()=>{const e=toArray(document.body.children);e.forEach(e=>{e===getContainer()||contains(e,getContainer())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{const e=toArray(document.body.children);e.forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})};var privateMethods={swalPromiseResolve:new WeakMap};function removePopupAndResetState(e,t,n,r){isToast()?triggerDidCloseAndDispose(e,r):(restoreActiveElement(n).then(()=>triggerDidCloseAndDispose(e,r)),globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture}),globalState.keydownHandlerAdded=!1),t.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&t.parentNode.removeChild(t),isModal()&&(undoScrollbar(),undoIOSfix(),undoIEfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(e){var t=getPopup();if(t){e=prepareResolveValue(e);var n=privateProps.innerParams.get(this);if(n&&!hasClass(t,n.hideClass.popup)){const i=privateMethods.swalPromiseResolve.get(this);removeClass(t,n.showClass.popup),addClass(t,n.hideClass.popup);var r=getContainer();removeClass(r,n.showClass.backdrop),addClass(r,n.hideClass.backdrop),handlePopupAnimation(this,t,n),i(e)}}}const prepareResolveValue=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),handlePopupAnimation=(e,t,n)=>{var r=getContainer(),i=animationEndEvent&&hasCssAnimation(t),{onClose:o,onAfterClose:a,willClose:s,didClose:l}=n;runDidClose(t,s,o),i?animatePopup(e,t,r,n.returnFocus,l||a):removePopupAndResetState(e,r,n.returnFocus,l||a)},runDidClose=(e,t,n)=>{null!==t&&"function"==typeof t?t(e):null!==n&&"function"==typeof n&&n(e)},animatePopup=(e,t,n,r,i)=>{globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,e,n,r,i),t.addEventListener(animationEndEvent,function(e){e.target===t&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback)})},triggerDidCloseAndDispose=(e,t)=>{setTimeout(()=>{"function"==typeof t&&t(),e._destroy()})};function setButtonsDisabled(e,t,n){const r=privateProps.domCache.get(e);t.forEach(e=>{r[e].disabled=n})}function setInputDisabled(e,t){if(!e)return!1;if("radio"===e.type){const n=e.parentNode.parentNode,r=n.querySelectorAll("input");for(let e=0;e<r.length;e++)r[e].disabled=t}else e.disabled=t}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){return setInputDisabled(this.getInput(),!1)}function disableInput(){return setInputDisabled(this.getInput(),!0)}function showValidationMessage(e){const t=privateProps.domCache.get(this);var n=privateProps.innerParams.get(this);setInnerHtml(t.validationMessage,e),t.validationMessage.className=swalClasses["validation-message"],n.customClass&&n.customClass.validationMessage&&addClass(t.validationMessage,n.customClass.validationMessage),show(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",swalClasses["validation-message"]),focusInput(r),addClass(r,swalClasses.inputerror))}function resetValidationMessage(){var e=privateProps.domCache.get(this);e.validationMessage&&hide(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),removeClass(t,swalClasses.inputerror))}function getProgressSteps(){return privateProps.domCache.get(this).progressSteps}class Timer{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var defaultInputValidators={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function setDefaultInputValidators(t){t.inputValidator||Object.keys(defaultInputValidators).forEach(e=>{t.input===e&&(t.inputValidator=defaultInputValidators[e])})}function validateCustomTargetElement(e){e.target&&("string"!=typeof e.target||document.querySelector(e.target))&&("string"==typeof e.target||e.target.appendChild)||(warn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function setParameters(e){setDefaultInputValidators(e),e.showLoaderOnConfirm&&!e.preConfirm&&warn("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=callIfFunction(e.animation),validateCustomTargetElement(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),init(e)}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=e=>{e="string"==typeof e.template?document.querySelector(e.template):e.template;if(!e)return{};e=e.content||e;return showWarningsForElements(e),Object.assign(getSwalParams(e),getSwalButtons(e),getSwalImage(e),getSwalIcon(e),getSwalInput(e),getSwalStringParams(e,swalStringParams))},getSwalParams=e=>{const r={};return toArray(e.querySelectorAll("swal-param")).forEach(e=>{showWarningsForAttributes(e,["name","value"]);var t=e.getAttribute("name");let n=e.getAttribute("value");"boolean"==typeof defaultParams[t]&&"false"===n&&(n=!1),"object"==typeof defaultParams[t]&&(n=JSON.parse(n)),r[t]=n}),r},getSwalButtons=e=>{const n={};return toArray(e.querySelectorAll("swal-button")).forEach(e=>{showWarningsForAttributes(e,["type","color","aria-label"]);var t=e.getAttribute("type");n[`${t}ButtonText`]=e.innerHTML,n[`show${capitalizeFirstLetter(t)}Button`]=!0,e.hasAttribute("color")&&(n[`${t}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(n[`${t}ButtonAriaLabel`]=e.getAttribute("aria-label"))}),n},getSwalImage=e=>{const t={},n=e.querySelector("swal-image");return n&&(showWarningsForAttributes(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},getSwalIcon=e=>{const t={},n=e.querySelector("swal-icon");return n&&(showWarningsForAttributes(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},getSwalInput=e=>{const n={},t=e.querySelector("swal-input");t&&(showWarningsForAttributes(t,["type","label","placeholder","value"]),n.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(n.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(n.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(n.inputValue=t.getAttribute("value")));e=e.querySelectorAll("swal-input-option");return e.length&&(n.inputOptions={},toArray(e).forEach(e=>{showWarningsForAttributes(e,["value"]);var t=e.getAttribute("value"),e=e.innerHTML;n.inputOptions[t]=e})),n},getSwalStringParams=(e,t)=>{const n={};for(const r in t){const i=t[r],o=e.querySelector(i);o&&(showWarningsForAttributes(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},showWarningsForElements=t=>{const n=swalStringParams.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);toArray(t.querySelectorAll("*")).forEach(e=>{e.parentNode===t&&(e=e.tagName.toLowerCase(),-1===n.indexOf(e)&&warn(`Unrecognized element <${e}>`))})},showWarningsForAttributes=(t,n)=>{toArray(t.attributes).forEach(e=>{-1===n.indexOf(e.name)&&warn([`Unrecognized attribute "${e.name}" on <${t.tagName.toLowerCase()}>.`,`${n.length?`Allowed attributes are: ${n.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=e=>{const t=getContainer(),n=getPopup();"function"==typeof e.willOpen?e.willOpen(n):"function"==typeof e.onBeforeOpen&&e.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;addClasses(t,n,e),setTimeout(()=>{setScrollingVisibility(t,n)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer(t,e.scrollbarPadding,r),setAriaHidden()),isToast()||globalState.previousActiveElement||(globalState.previousActiveElement=document.activeElement),runDidOpen(n,e),removeClass(t,swalClasses["no-transition"])},runDidOpen=(e,t)=>{"function"==typeof t.didOpen?setTimeout(()=>t.didOpen(e)):"function"==typeof t.onOpen&&setTimeout(()=>t.onOpen(e))},swalOpenAnimationFinished=e=>{const t=getPopup();if(e.target===t){const n=getContainer();t.removeEventListener(animationEndEvent,swalOpenAnimationFinished),n.style.overflowY="auto"}},setScrollingVisibility=(e,t)=>{animationEndEvent&&hasCssAnimation(t)?(e.style.overflowY="hidden",t.addEventListener(animationEndEvent,swalOpenAnimationFinished)):e.style.overflowY="auto"},fixScrollContainer=(e,t,n)=>{iOSfix(),IEfix(),t&&"hidden"!==n&&fixScrollbar(),setTimeout(()=>{e.scrollTop=0})},addClasses=(e,t,n)=>{addClass(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),show(t),setTimeout(()=>{addClass(t,n.showClass.popup),t.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT),addClass([document.documentElement,document.body],swalClasses.shown),n.heightAuto&&n.backdrop&&!n.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])},handleInputOptionsAndValue=(e,t)=>{"select"===t.input||"radio"===t.input?handleInputOptions(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(hasToPromiseFn(t.inputValue)||isPromise(t.inputValue))&&handleInputValue(e,t)},getInputValue=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return getCheckboxValue(n);case"radio":return getRadioValue(n);case"file":return getFileValue(n);default:return t.inputAutoTrim?n.value.trim():n.value}},getCheckboxValue=e=>e.checked?1:0,getRadioValue=e=>e.checked?e.value:null,getFileValue=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,handleInputOptions=(t,n)=>{const r=getContent(),i=e=>populateInputOptions[n.input](r,formatInputOptions(e),n);hasToPromiseFn(n.inputOptions)||isPromise(n.inputOptions)?(showLoading(getConfirmButton()),asPromise(n.inputOptions).then(e=>{t.hideLoading(),i(e)})):"object"==typeof n.inputOptions?i(n.inputOptions):error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof n.inputOptions}`)},handleInputValue=(t,n)=>{const r=t.getInput();hide(r),asPromise(n.inputValue).then(e=>{r.value="number"===n.input?parseFloat(e)||0:`${e}`,show(r),r.focus(),t.hideLoading()}).catch(e=>{error(`Error in inputValue promise: ${e}`),r.value="",show(r),r.focus(),t.hideLoading()})},populateInputOptions={select:(e,t,i)=>{const o=getChildByClass(e,swalClasses.select),a=(e,t,n)=>{const r=document.createElement("option");r.value=n,setInnerHtml(r,t),r.selected=isSelected(n,i.inputValue),e.appendChild(r)};t.forEach(e=>{var t=e[0];const n=e[1];if(Array.isArray(n)){const r=document.createElement("optgroup");r.label=t,r.disabled=!1,o.appendChild(r),n.forEach(e=>a(r,e[1],e[0]))}else a(o,n,t)}),o.focus()},radio:(e,t,o)=>{const a=getChildByClass(e,swalClasses.radio);t.forEach(e=>{var t=e[0],e=e[1];const n=document.createElement("input"),r=document.createElement("label");n.type="radio",n.name=swalClasses.radio,n.value=t,isSelected(t,o.inputValue)&&(n.checked=!0);const i=document.createElement("span");setInnerHtml(i,e),i.className=swalClasses.label,r.appendChild(n),r.appendChild(i),a.appendChild(r)});const n=a.querySelectorAll("input");n.length&&n[0].focus()}},formatInputOptions=n=>{const r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((e,t)=>{let n=e;"object"==typeof n&&(n=formatInputOptions(n)),r.push([t,n])}):Object.keys(n).forEach(e=>{let t=n[e];"object"==typeof t&&(t=formatInputOptions(t)),r.push([e,t])}),r},isSelected=(e,t)=>t&&t.toString()===e.toString(),handleConfirmButtonClick=(e,t)=>{e.disableButtons(),t.input?handleConfirmOrDenyWithInput(e,t,"confirm"):confirm(e,t,!0)},handleDenyButtonClick=(e,t)=>{e.disableButtons(),t.returnInputValueOnDeny?handleConfirmOrDenyWithInput(e,t,"deny"):deny(e,t,!1)},handleCancelButtonClick=(e,t)=>{e.disableButtons(),t(DismissReason.cancel)},handleConfirmOrDenyWithInput=(e,t,n)=>{var r=getInputValue(e,t);t.inputValidator?handleInputValidator(e,t,r):e.getInput().checkValidity()?("deny"===n?deny:confirm)(e,t,r):(e.enableButtons(),e.showValidationMessage(t.validationMessage))},handleInputValidator=(t,n,r)=>{t.disableInput();const e=Promise.resolve().then(()=>asPromise(n.inputValidator(r,n.validationMessage)));e.then(e=>{t.enableButtons(),t.enableInput(),e?t.showValidationMessage(e):confirm(t,n,r)})},deny=(t,e,n)=>{if(e.showLoaderOnDeny&&showLoading(getDenyButton()),e.preDeny){const r=Promise.resolve().then(()=>asPromise(e.preDeny(n,e.validationMessage)));r.then(e=>{!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})})}else t.closePopup({isDenied:!0,value:n})},succeedWith=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},confirm=(t,e,n)=>{if(e.showLoaderOnConfirm&&showLoading(),e.preConfirm){t.resetValidationMessage();const r=Promise.resolve().then(()=>asPromise(e.preConfirm(n,e.validationMessage)));r.then(e=>{isVisible$2(getValidationMessage())||!1===e?t.hideLoading():succeedWith(t,void 0===e?n:e)})}else succeedWith(t,n)},addKeydownHandler=(t,e,n,r)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=e=>keydownHandler(t,e,r),e.keydownTarget=n.keydownListenerCapture?window:getPopup(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},setFocus=(e,t,n)=>{const r=getFocusableElements();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();getPopup().focus()},arrowKeysNextButton=["ArrowRight","ArrowDown","Right","Down"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp","Left","Up"],escKeys=["Escape","Esc"],keydownHandler=(e,t,n)=>{var r=privateProps.innerParams.get(e);r&&(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?handleEnter(e,t,r):"Tab"===t.key?handleTab(t,r):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes(t.key)?handleArrows(t.key):escKeys.includes(t.key)&&handleEsc(t,r,n))},handleEnter=(e,t,n)=>{t.isComposing||t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML&&(["textarea","file"].includes(n.input)||(clickConfirm(),t.preventDefault()))},handleTab=(e,t)=>{var n=e.target,r=getFocusableElements();let i=-1;for(let e=0;e<r.length;e++)if(n===r[e]){i=e;break}e.shiftKey?setFocus(t,i,-1):setFocus(t,i,1),e.stopPropagation(),e.preventDefault()},handleArrows=e=>{const t=getConfirmButton(),n=getDenyButton(),r=getCancelButton();if([t,n,r].includes(document.activeElement)){e=arrowKeysNextButton.includes(e)?"nextElementSibling":"previousElementSibling";const i=document.activeElement[e];i&&i.focus()}},handleEsc=(e,t,n)=>{callIfFunction(t.allowEscapeKey)&&(e.preventDefault(),n(DismissReason.esc))},handlePopupClick=(e,t,n)=>{privateProps.innerParams.get(e).toast?handleToastClick(e,t,n):(handleModalMousedown(t),handleContainerMousedown(t),handleModalClick(e,t,n))},handleToastClick=(t,e,n)=>{e.popup.onclick=()=>{var e=privateProps.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||n(DismissReason.close)}};let ignoreOutsideClick=!1;const handleModalMousedown=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,e.target!==t.popup&&!t.popup.contains(e.target)||(ignoreOutsideClick=!0)}}},handleModalClick=(n,r,i)=>{r.container.onclick=e=>{var t=privateProps.innerParams.get(n);ignoreOutsideClick?ignoreOutsideClick=!1:e.target===r.container&&callIfFunction(t.allowOutsideClick)&&i(DismissReason.backdrop)}};function _main(e,t={}){showWarningsForParams(Object.assign({},t,e)),globalState.currentInstance&&globalState.currentInstance._destroy(),globalState.currentInstance=this;e=prepareParams(e,t);setParameters(e),Object.freeze(e),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);t=populateDomCache(this);return render(this,e),privateProps.innerParams.set(this,e),swalPromise(this,t,e)}const prepareParams=(e,t)=>{var n=getTemplateParams(e);const r=Object.assign({},defaultParams,t,n,e);return r.showClass=Object.assign({},defaultParams.showClass,r.showClass),r.hideClass=Object.assign({},defaultParams.hideClass,r.hideClass),!1===e.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r},swalPromise=(n,r,i)=>new Promise(e=>{const t=e=>{n.closePopup({isDismissed:!0,dismiss:e})};privateMethods.swalPromiseResolve.set(n,e),r.confirmButton.onclick=()=>handleConfirmButtonClick(n,i),r.denyButton.onclick=()=>handleDenyButtonClick(n,i),r.cancelButton.onclick=()=>handleCancelButtonClick(n,t),r.closeButton.onclick=()=>t(DismissReason.close),handlePopupClick(n,r,t),addKeydownHandler(n,globalState,i,t),handleInputOptionsAndValue(n,i),openPopup(i),setupTimer(globalState,i,t),initFocus(r,i),setTimeout(()=>{r.container.scrollTop=0})}),populateDomCache=e=>{var t={popup:getPopup(),container:getContainer(),content:getContent(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps$1()};return privateProps.domCache.set(e,t),t},setupTimer=(e,t,n)=>{var r=getTimerProgressBar();hide(r),t.timer&&(e.timeout=new Timer(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(show(r),setTimeout(()=>{e.timeout&&e.timeout.running&&animateTimerProgressBar(t.timer)})))},initFocus=(e,t)=>{if(!t.toast)return callIfFunction(t.allowEnterKey)?void(focusButton(e,t)||setFocus(t,-1,1)):blurActiveElement()},focusButton=(e,t)=>t.focusDeny&&isVisible$2(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&isVisible$2(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!isVisible$2(e.confirmButton))&&(e.confirmButton.focus(),!0),blurActiveElement=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};function update(t){var e=getPopup(),n=privateProps.innerParams.get(this);if(!e||hasClass(e,n.hideClass.popup))return warn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r={};Object.keys(t).forEach(e=>{Swal.isUpdatableParameter(e)?r[e]=t[e]:warn(`Invalid parameter to update: "${e}". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`)});n=Object.assign({},n,r);render(this,n),privateProps.innerParams.set(this,n),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}function _destroy(){var e=privateProps.domCache.get(this),t=privateProps.innerParams.get(this);t&&(e.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),globalState.deferDisposalTimer&&(clearTimeout(globalState.deferDisposalTimer),delete globalState.deferDisposalTimer),runDidDestroy(t),disposeSwal(this))}const runDidDestroy=e=>{"function"==typeof e.didDestroy?e.didDestroy():"function"==typeof e.onDestroy&&e.onDestroy()},disposeSwal=e=>{delete e.params,delete globalState.keydownHandler,delete globalState.keydownTarget,unsetWeakMaps(privateProps),unsetWeakMaps(privateMethods)},unsetWeakMaps=e=>{for(const t in e)e[t]=new WeakMap};var instanceMethods=Object.freeze({__proto__:null,hideLoading:hideLoading,disableLoading:hideLoading,getInput:getInput,close:close,closePopup:close,closeModal:close,closeToast:close,enableButtons:enableButtons,disableButtons:disableButtons,enableInput:enableInput,disableInput:disableInput,showValidationMessage:showValidationMessage,resetValidationMessage:resetValidationMessage,getProgressSteps:getProgressSteps,_main:_main,update:update,_destroy:_destroy});let currentInstance;class SweetAlert$1{constructor(...e){"undefined"!=typeof window&&("undefined"==typeof Promise&&error("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),currentInstance=this,e=Object.freeze(this.constructor.argsToParams(e)),Object.defineProperties(this,{params:{value:e,writable:!1,enumerable:!0,configurable:!0}}),e=this._main(this.params),privateProps.promise.set(this,e))}then(e){const t=privateProps.promise.get(this);return t.then(e)}finally(e){const t=privateProps.promise.get(this);return t.finally(e)}}Object.assign(SweetAlert$1.prototype,instanceMethods),Object.assign(SweetAlert$1,staticMethods),Object.keys(instanceMethods).forEach(t=>{SweetAlert$1[t]=function(...e){if(currentInstance)return currentInstance[t](...e)}}),SweetAlert$1.DismissReason=DismissReason,SweetAlert$1.version="10.16.9";const Swal=SweetAlert$1;Swal.default=Swal,memize_1(console.error);const DEFAULT_LOCALE_DATA$1={"":{plural_forms(e){return 1===e?0:1}}},I18N_HOOK_REGEXP$1=/^i18n\.(n?gettext|has_translation)(_|$)/,createI18n$1=(e,t,s)=>{const l=new Tannin({}),n=new Set,r=()=>{n.forEach(e=>e())};const o=(e,t="default")=>{l.data[t]={...DEFAULT_LOCALE_DATA$1,...l.data[t],...e},l.data[t][""]={...DEFAULT_LOCALE_DATA$1[""],...l.data[t][""]}},i=(e,t)=>{o(e,t),r()};const a=(e="default",t,n,r,i)=>(l.data[e]||o(void 0,e),l.dcnpgettext(e,t,n,r,i)),u=(e="default")=>e;const c=(e,t,n)=>{let r=a(n,t,e);return s?(r=s.applyFilters("i18n.gettext_with_context",r,e,t,n),s.applyFilters("i18n.gettext_with_context_"+u(n),r,e,t,n)):r};return e&&i(e,t),s&&(s.addAction("hookAdded","core/i18n",t=e=>{I18N_HOOK_REGEXP$1.test(e)&&r()}),s.addAction("hookRemoved","core/i18n",t)),{getLocaleData:(e="default")=>l.data[e],setLocaleData:i,resetLocaleData:(e,t)=>{l.data={},l.pluralForms={},i(e,t)},subscribe:e=>(n.add(e),()=>n.delete(e)),__:(e,t)=>{let n=a(t,void 0,e);return s?(n=s.applyFilters("i18n.gettext",n,e,t),s.applyFilters("i18n.gettext_"+u(t),n,e,t)):n},_x:c,_n:(e,t,n,r)=>{let i=a(r,void 0,e,t,n);return s?(i=s.applyFilters("i18n.ngettext",i,e,t,n,r),s.applyFilters("i18n.ngettext_"+u(r),i,e,t,n,r)):i},_nx:(e,t,n,r,i)=>{let o=a(i,r,e,t,n);return s?(o=s.applyFilters("i18n.ngettext_with_context",o,e,t,n,r,i),s.applyFilters("i18n.ngettext_with_context_"+u(i),o,e,t,n,r,i)):o},isRTL:()=>"rtl"===c("ltr","text direction"),hasTranslation:(e,t,n)=>{var r,i,o=t?t+""+e:e;let a=!(null===(r=l.data)||void 0===r||null===(i=r[null!=n?n:"default"])||void 0===i||!i[o]);return s&&(a=s.applyFilters("i18n.has_translation",a,e,t,n),a=s.applyFilters("i18n.has_translation_"+u(n),a,e,t,n)),a}}};function validateNamespace(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}function validateHookName(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}function createAddHook(s,l){return function(n,e,t,r=10){const i=s[l];if(validateHookName(n)&&validateNamespace(e))if("function"==typeof t)if("number"==typeof r){var o={callback:t,priority:r,namespace:e};if(i[n]){const a=i[n].handlers;let t;for(t=a.length;0<t&&!(r>=a[t-1].priority);t--);t===a.length?a[t]=o:a.splice(t,0,o),i.__current.forEach(e=>{e.name===n&&e.currentIndex>=t&&e.currentIndex++})}else i[n]={handlers:[o],runs:0};"hookAdded"!==n&&s.doAction("hookAdded",n,e,t,r)}else console.error("If specified, the hook priority must be a number.");else console.error("The hook callback must be a function.")}}function createRemoveHook(t,e,a=!1){return function(n,r){const i=t[e];if(validateHookName(n)&&(a||validateNamespace(r))){if(!i[n])return 0;let e=0;if(a)e=i[n].handlers.length,i[n]={runs:i[n].runs,handlers:[]};else{const o=i[n].handlers;for(let t=o.length-1;0<=t;t--)o[t].namespace===r&&(o.splice(t,1),e++,i.__current.forEach(e=>{e.name===n&&e.currentIndex>=t&&e.currentIndex--}))}return"hookRemoved"!==n&&t.doAction("hookRemoved",n,r),e}}}function createHasHook(r,i){return function(e,t){const n=r[i];return void 0!==t?e in n&&n[e].handlers.some(e=>e.namespace===t):e in n}}function createRunHook(s,l,u=!1){return function(e,...t){const n=s[l];n[e]||(n[e]={handlers:[],runs:0}),n[e].runs++;const r=n[e].handlers;if("production"!==process.env.NODE_ENV&&"hookAdded"!==e&&n.all&&r.push(...n.all.handlers),!r||!r.length)return u?t[0]:void 0;const i={name:e,currentIndex:0};for(n.__current.push(i);i.currentIndex<r.length;){const a=r[i.currentIndex];var o=a.callback.apply(null,t);u&&(t[0]=o),i.currentIndex++}return n.__current.pop(),u?t[0]:void 0}}function createCurrentHook(t,n){return function(){var e=t[n];return null!==(e=null===(e=e.__current[e.__current.length-1])||void 0===e?void 0:e.name)&&void 0!==e?e:null}}function createDoingHook(n,r){return function(e){var t=n[r];return void 0===e?void 0!==t.__current[0]:!!t.__current[0]&&e===t.__current[0].name}}function createDidHook(n,r){return function(e){var t=n[r];if(validateHookName(e))return t[e]&&t[e].runs?t[e].runs:0}}class _Hooks{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=createAddHook(this,"actions"),this.addFilter=createAddHook(this,"filters"),this.removeAction=createRemoveHook(this,"actions"),this.removeFilter=createRemoveHook(this,"filters"),this.hasAction=createHasHook(this,"actions"),this.hasFilter=createHasHook(this,"filters"),this.removeAllActions=createRemoveHook(this,"actions",!0),this.removeAllFilters=createRemoveHook(this,"filters",!0),this.doAction=createRunHook(this,"actions"),this.applyFilters=createRunHook(this,"filters",!0),this.currentAction=createCurrentHook(this,"actions"),this.currentFilter=createCurrentHook(this,"filters"),this.doingAction=createDoingHook(this,"actions"),this.doingFilter=createDoingHook(this,"filters"),this.didAction=createDidHook(this,"actions"),this.didFilter=createDidHook(this,"filters")}}function createHooks(){return new _Hooks}const defaultHooks=createHooks(),{addAction,addFilter,removeAction,removeFilter,hasAction,hasFilter,removeAllActions,removeAllFilters,doAction,applyFilters,currentAction,currentFilter,doingAction,doingFilter,didAction,didFilter,actions:actions$1,filters}=defaultHooks,i18n$1=createI18n$1(void 0,void 0,defaultHooks);i18n$1.getLocaleData.bind(i18n$1),i18n$1.setLocaleData.bind(i18n$1),i18n$1.resetLocaleData.bind(i18n$1),i18n$1.subscribe.bind(i18n$1);const __$1=i18n$1.__.bind(i18n$1);function createNonceMiddleware(e){const i=(e,t)=>{var{headers:n={}}=e;for(const r in n)if("x-wp-nonce"===r.toLowerCase()&&n[r]===i.nonce)return t(e);return t({...e,headers:{...n,"X-WP-Nonce":i.nonce}})};return i.nonce=e,i}i18n$1._x.bind(i18n$1),i18n$1._n.bind(i18n$1),i18n$1._nx.bind(i18n$1),i18n$1.isRTL.bind(i18n$1),i18n$1.hasTranslation.bind(i18n$1);const namespaceAndEndpointMiddleware=(e,t)=>{let n=e.path;var r,i;return"string"==typeof e.namespace&&"string"==typeof e.endpoint&&(r=e.namespace.replace(/^\/|\/$/g,""),i=e.endpoint.replace(/^\//,""),n=i?r+"/"+i:r),delete e.namespace,delete e.endpoint,t({...e,path:n})},createRootURLMiddleware=o=>(e,i)=>namespaceAndEndpointMiddleware(e,e=>{let t=e.url,n=e.path,r;return"string"==typeof n&&(-1!==(r=o).indexOf("?")&&(n=n.replace("?","&")),n=n.replace(/^\//,""),"string"==typeof r&&-1!==r.indexOf("?")&&(n=n.replace("?","&")),t=r+n),i({...e,url:t})});function getStablePath(e){e=e.split("?");const t=e[1];e=e[0];return t?e+"?"+t.split("&").map(e=>e.split("=")).sort((e,t)=>e[0].localeCompare(t[0])).map(e=>e.join("=")).join("&"):e}function createPreloadingMiddleware(n){const a=Object.keys(n).reduce((e,t)=>(e[getStablePath(t)]=n[t],e),{});return(e,t)=>{var{parse:n=!0}=e;if("string"==typeof e.path){var r=e.method||"GET",i=getStablePath(e.path);if("GET"===r&&a[i]){var o=a[i];return delete a[i],Promise.resolve(n?o.body:new window.Response(JSON.stringify(o.body),{status:200,statusText:"OK",headers:o.headers}))}if("OPTIONS"===r&&a[r]&&a[r][i])return Promise.resolve(n?a[r][i].body:a[r][i])}return t(e)}}function getQueryString(e){let t;try{t=new URL(e,"http://example.com").search.substring(1)}catch(e){}if(t)return t}function buildQueryString(e){let n="";const r=Object.entries(e);for(;a=r.shift();){let[e,t]=a;var i,o,a=Array.isArray(t)||t&&t.constructor===Object;if(a)for([i,o]of Object.entries(t).reverse())r.unshift([`${e}[${i}]`,o]);else void 0!==t&&(null===t&&(t=""),n+="&"+[e,t].map(encodeURIComponent).join("="))}return n.substr(1)}function setPath(n,r,i){var e=r.length,o=e-1;for(let t=0;t<e;t++){let e=r[t];!e&&Array.isArray(n)&&(e=n.length.toString());var a=!isNaN(Number(r[t+1]));n[e]=t===o?i:n[e]||(a?[]:{}),Array.isArray(n[e])&&!a&&(n[e]={...n[e]}),n=n[e]}}function getQueryArgs(e){return(getQueryString(e)||"").replace(/\+/g,"%20").split("&").reduce((e,t)=>{const[n,r=""]=t.split("=").filter(Boolean).map(decodeURIComponent);return n&&setPath(e,n.replace(/\]/g,"").split("["),r),e},{})}function addQueryArgs(e="",t){if(!t||!Object.keys(t).length)return e;let n=e;var r=e.indexOf("?");return-1!==r&&(t=Object.assign(getQueryArgs(e),t),n=n.substr(0,r)),n+"?"+buildQueryString(t)}function getQueryArg(e,t){return getQueryArgs(e)[t]}function hasQueryArg(e,t){return void 0!==getQueryArg(e,t)}const modifyQuery=({path:e,url:t,...n},r)=>({...n,url:t&&addQueryArgs(t,r),path:e&&addQueryArgs(e,r)}),parseResponse$1=e=>e.json?e.json():Promise.reject(e),parseLinkHeader=e=>{if(!e)return{};e=e.match(/<([^>]+)>; rel="next"/);return e?{next:e[1]}:{}},getNextPageUrl=e=>{var e=parseLinkHeader(e.headers.get("link"))["next"];return e},requestContainsUnboundedQuery=e=>{var t=!!e.path&&-1!==e.path.indexOf("per_page=-1"),e=!!e.url&&-1!==e.url.indexOf("per_page=-1");return t||e},fetchAllMiddleware=async(e,t)=>{if(!1===e.parse)return t(e);if(!requestContainsUnboundedQuery(e))return t(e);var n=await apiFetch({...modifyQuery(e,{per_page:100}),parse:!1}),t=await parseResponse$1(n);if(!Array.isArray(t))return t;let r=getNextPageUrl(n);if(!r)return t;let i=[].concat(t);for(;r;){var o=await apiFetch({...e,path:void 0,url:r,parse:!1}),a=await parseResponse$1(o);i=i.concat(a),r=getNextPageUrl(o)}return i},OVERRIDE_METHODS=new Set(["PATCH","PUT","DELETE"]),DEFAULT_METHOD="GET",httpV1Middleware=(e,t)=>{const{method:n=DEFAULT_METHOD}=e;return t(e=OVERRIDE_METHODS.has(n.toUpperCase())?{...e,headers:{...e.headers,"X-HTTP-Method-Override":n,"Content-Type":"application/json"},method:"POST"}:e)},userLocaleMiddleware=(e,t)=>("string"!=typeof e.url||hasQueryArg(e.url,"_locale")||(e.url=addQueryArgs(e.url,{_locale:"user"})),"string"!=typeof e.path||hasQueryArg(e.path,"_locale")||(e.path=addQueryArgs(e.path,{_locale:"user"})),t(e)),parseResponse=(e,t=!0)=>t?204===e.status?null:e.json?e.json():Promise.reject(e):e,parseJsonAndNormalizeError=e=>{const t={code:"invalid_json",message:__$1("The response is not a valid JSON response.")};if(!e||!e.json)throw t;return e.json().catch(()=>{throw t})},parseResponseAndNormalizeError=(e,t=!0)=>Promise.resolve(parseResponse(e,t)).catch(e=>parseAndThrowError(e,t));function parseAndThrowError(e,t=!0){if(!t)throw e;return parseJsonAndNormalizeError(e).then(e=>{var t={code:"unknown_error",message:__$1("An unknown error occurred.")};throw e||t})}const mediaUploadMiddleware=(n,t)=>{if(!(n.path&&-1!==n.path.indexOf("/wp/v2/media")||n.url&&-1!==n.url.indexOf("/wp/v2/media")))return t(n);let r=0;const i=e=>(r++,t({path:`/wp/v2/media/${e}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch(()=>r<5?i(e):(t({path:`/wp/v2/media/${e}?force=true`,method:"DELETE"}),Promise.reject())));return t({...n,parse:!1}).catch(e=>{var t=e.headers.get("x-wp-upload-attachment-id");return 500<=e.status&&e.status<600&&t?i(t).catch(()=>!1!==n.parse?Promise.reject({code:"post_process",message:__$1("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(e)):parseAndThrowError(e,n.parse)}).then(e=>parseResponseAndNormalizeError(e,n.parse))},DEFAULT_HEADERS={Accept:"application/json, */*;q=0.1"},DEFAULT_OPTIONS={credentials:"include"},middlewares=[userLocaleMiddleware,namespaceAndEndpointMiddleware,httpV1Middleware,fetchAllMiddleware];function registerMiddleware(e){middlewares.unshift(e)}const checkStatus=e=>{if(200<=e.status&&e.status<300)return e;throw e},defaultFetchHandler=e=>{const{url:t,path:n,data:r,parse:i=!0,...o}=e;let{body:a,headers:s}=e;s={...DEFAULT_HEADERS,...s},r&&(a=JSON.stringify(r),s["Content-Type"]="application/json");const l=window.fetch(t||n||window.location.href,{...DEFAULT_OPTIONS,...o,body:a,headers:s});return l.then(e=>Promise.resolve(e).then(checkStatus).catch(e=>parseAndThrowError(e,i)).then(e=>parseResponseAndNormalizeError(e,i)),e=>{if(e&&"AbortError"===e.name)throw e;throw{code:"fetch_error",message:__$1("You are probably offline.")}})};let fetchHandler=defaultFetchHandler;function setFetchHandler(e){fetchHandler=e}function apiFetch(t){const e=middlewares.reduceRight((t,n)=>e=>n(e,t),fetchHandler);return e(t).catch(e=>"rest_cookie_invalid_nonce"!==e.code?Promise.reject(e):window.fetch(apiFetch.nonceEndpoint).then(checkStatus).then(e=>e.text()).then(e=>(apiFetch.nonceMiddleware.nonce=e,apiFetch(t))))}function ownKeys$9(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}apiFetch.use=registerMiddleware,apiFetch.setFetchHandler=setFetchHandler,apiFetch.createNonceMiddleware=createNonceMiddleware,apiFetch.createPreloadingMiddleware=createPreloadingMiddleware,apiFetch.createRootURLMiddleware=createRootURLMiddleware,apiFetch.fetchAllMiddleware=fetchAllMiddleware,apiFetch.mediaUploadMiddleware=mediaUploadMiddleware;var SweetAlert=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Swal.fire(_objectSpread$i({target:null!==(e=null==t?void 0:t.target)&&void 0!==e?e:"#notificationx",type:null!==(e=null==t?void 0:t.type)&&void 0!==e?e:"success",html:null==t?void 0:t.html,title:null!==(e=null==t?void 0:t.title)&&void 0!==e?e:"Title Goes Here: title",text:null!==(e=null==t?void 0:t.text)&&void 0!==e?e:"Test Goes Here: text",icon:null!==(e=null==t?void 0:t.icon)&&void 0!==e?e:(null==t?void 0:t.type)||"success",timer:null!==(e=null==t?void 0:t.timer)&&void 0!==e?e:null},t))},ObjectFilter=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!t)return!1;var r={},i=Object.keys(t).filter(function(e){return n(e)});return e?i:(i.map(function(e){r[e]=t[e]}),r)},isExists=function(e,t){var n=_typeof$3(e);switch(!0){case"object"===n&&isArray(e):return e.includes(t);case"object"===n&&!isArray(e):return void 0!==(null==e?void 0:e[t]);default:return e===t}},triggerDefaults=function(e,t){var n,r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!isEmptyObj(e)&&"object"===_typeof$3(e))for(var o in e)o===i&&(n=e[o].indexOf("@"),r=e[o].indexOf(":"),0===n&&0<r&&(n=e[o].substr(1,r-1),o=e[o].substr(r+1),r=getStoreData().getSavedFieldValue(n,t),""!=n&&""!=o&&setStoreData().setFieldValue({name:n,value:_defineProperty$d({},n,r||o)})))},getStoreData=function(){return select("formbuilder")},setStoreData=function(){return dispatch("formbuilder")},wpFetch=function(e){return apiFetch(_objectSpread$i(_objectSpread$i({},e),{},{method:"POST"}))},processAjaxData=function(n){var r={};return Object.keys(n).map(function(e){var t;0===n[e].indexOf("@")?""!=(t=n[e].substr(1))&&(t=getStoreData().getFieldValue(t),r[e]=t||"undefined"):r[e]=n[e]}),r};function _extends(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return(Object.assign||function(e){for(var t=1;t<i.length;t++){var n,r=i[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,i)}const WP_ZONE="WP",VALID_UTC_OFFSET=/^[+-][0-1][0-9](:?[0-9][0-9])?$/;let settings={l10n:{locale:"en",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],meridiem:{am:"am",pm:"pm",AM:"AM",PM:"PM"},relative:{future:"%s from now",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}},formats:{time:"g: i a",date:"F j, Y",datetime:"F j, Y g: i a",datetimeAbbreviated:"M j, Y g: i a"},timezone:{offset:"0",string:"",abbr:""}};function __experimentalGetSettings(){return settings}function setupWPTimezone(){momentLib.tz.add(momentLib.tz.pack({name:WP_ZONE,abbrs:[WP_ZONE],untils:[null],offsets:[60*-settings.timezone.offset||0]}))}const MINUTE_IN_SECONDS=60,HOUR_IN_MINUTES=60,HOUR_IN_SECONDS=60*MINUTE_IN_SECONDS,formatMap={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S(e){var t=e.format("D");const n=e.format("Do");return n.replace(t,"")},w:"d",z(e){return(parseInt(e.format("DDD"),10)-1).toString()},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t(e){return e.daysInMonth()},L(e){return e.isLeapYear()?"1":"0"},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B(e){const t=momentLib(e).utcOffset(60);var n=parseInt(t.format("s"),10),r=parseInt(t.format("m"),10),e=parseInt(t.format("H"),10);return parseInt(((n+r*MINUTE_IN_SECONDS+e*HOUR_IN_SECONDS)/86.4).toString(),10)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSSSSS",v:"SSS",e:"zz",I(e){return e.isDST()?"1":"0"},O:"ZZ",P:"Z",T:"z",Z(e){const t=e.format("Z");var n="-"===t[0]?-1:1,e=t.substring(1).split(":").map(e=>parseInt(e,10));return n*(e[0]*HOUR_IN_MINUTES+e[1])*MINUTE_IN_SECONDS},c:"YYYY-MM-DDTHH:mm:ssZ",r:"ddd, D MMM YYYY HH:mm:ss ZZ",U:"X"};function format(e,t=new Date){let n,r;const i=[],o=momentLib(t);for(n=0;n<e.length;n++)if("\\"!==(r=e[n]))if(r in formatMap){const a=formatMap[r];"string"!=typeof a?i.push("["+a(o)+"]"):i.push(a)}else i.push("["+r+"]");else n++,i.push("["+e[n]+"]");return o.format(i.join("[]"))}function date(e,t=new Date,n){return format(e,buildMoment(t,n))}function buildMoment(e,t=""){const n=momentLib(e);return t&&!isUTCOffset(t)?n.tz(t):t&&isUTCOffset(t)?n.utcOffset(t):settings.timezone.string?n.tz(settings.timezone.string):n.utcOffset(settings.timezone.offset)}function isUTCOffset(e){return"number"==typeof e||VALID_UTC_OFFSET.test(e)}setupWPTimezone();var isString=function(e){return null!==e&&"string"==typeof e},isNumber$1=function(e){return null!==e&&"number"==typeof e},isInteger=function(e){return String(Math.floor(Number(e)))===e},isFunction=function(e){return null!==e&&"function"==typeof e},isArray=function(e){return null!==e&&"object"===_typeof$3(e)&&Array.isArray(e)},isObject=function(e){return null!==e&&"object"===_typeof$3(e)&&!isArray(e)},isVisible=function(e,t){if(null==t||!t.rules||null==t.name)return!0;e=when(t.rules,e);return Boolean(e)},withState$1=function(e){return Boolean(["group","section"].includes(e))},isEmptyObj=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},getIn=function(e,t,n,r){void 0===r&&(r=0);for(var i=toPath(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e},sortingFields=function(e){return[].concat(e).sort(function(e,t){return null==e.priority||null==t.priority?0:e.priority>t.priority?1:-1})},getSelectedValues=function(e){return Array.from(e).filter(function(e){return e.selected}).map(function(e){return e.value})},executeChange=function(e,t){var n,r,i,o,a=t,s=e;return isString(e)||(e.persist&&e.persist(),r=(n=e.target||e.currentTarget).type,i=n.name,o=n.value,e=n.checked,n.options,n.multiple,a=t||i,s=/number|range/.test(r)?(i=parseFloat(o),isNaN(i)?"":i):/checkbox/.test(r)?e:o),{field:a,val:s}},objectWithoutPropertiesLoose=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r},setIn=function(e,t,n){for(var r=clone(e),i=r,o=0,a=toPath(t);o<a.length-1;o++){var s=a[o],l=getIn(e,a.slice(0,o+1));i=l&&(isObject(l)||Array.isArray(l))?i[s]=clone(l):(l=a[o+1],i[s]=isInteger(l)&&0<=Number(l)?[]:{})}return(0===o?e:i)[a[o]]===n?e:(void 0===n?delete i[a[o]]:i[a[o]]=n,0===o&&void 0===n&&delete r[a[o]],r)},validFieldProps=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=e.type,t=["validation_rules","default","rules","meta","switch"].concat(_toConsumableArray$3(t));"select"!==n&&"radio-card"!==n&&"toggle"!==n&&e.multiple&&t.push("options"),"group"!==n&&"repeater"!==n&&"section"!==n&&"button"!==n&&t.push("fields");t=objectWithoutPropertiesLoose(e,t);return null==e||!e.label||null!=e&&e.placeholder||(t.placeholder=e.label),t},hitAAJX=function(r){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null!==i&&r){var e=!0;if(e=null!=r&&r.rules?when(null==r?void 0:r.rules,i.values):e){var o={};return Object.keys(r.data).map(function(e){var t,n;-1<r.data[e].indexOf("@")?(n=r.data[e].substr(1),o[e]=null===(t=i.values)||void 0===t?void 0:t[n]):o[e]=r.data[e]}),wpFetch({path:r.api,data:o}).then(function(t){var e,n;return"success"==(null==t?void 0:t.status)&&null!=t&&t.redirect&&(window.location=null==t?void 0:t.redirect),null!=t&&null!==(e=t.data)&&void 0!==e&&e.context&&isObject(null==t||null===(n=t.data)||void 0===n?void 0:n.context)&&Object.keys(t.data.context).map(function(e){i.setFieldValue(e,t.data.context[e])}),null!=r&&r.trigger&&isString(null==r?void 0:r.trigger)&&(e=r.trigger.indexOf("@"),n=r.trigger.indexOf(":"),0===e&&0<n&&(e=r.trigger.substr(1,n-1),"true"==(n=r.trigger.substr(n+1))?n=!0:"false"==n&&(n=!1),i.setFieldValue(e,n))),t})}}return Promise.reject(!1)},getTime=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=__experimentalGetSettings();return momentLib.utc(e||void 0).utcOffset(+(null==r||null===(t=r.timezone)||void 0===t?void 0:t.offset),n)},merge=function(e,t,n){var r=_toConsumableArray$3(e),t=t.filter(function(t){return r.findIndex(function(e){return e[n]===t[n]})<=-1});return[].concat(_toConsumableArray$3(r),_toConsumableArray$3(t))},intersect_1=intersect;function many(e){var t={},n=e.length-1,r=e[0],i=e[n];for(o in r)t[r[o]]=0;for(var o=1;o<=n;o++){var a,s=e[o];for(a in s)t[l=s[a]]===o-1&&(t[l]=o)}var l,u=[];for(o in i)t[l=i[o]]===n&&u.push(l);return u}function intersect(e,t){if(!t)return many(e);for(var n=[],r=0;r<e.length;r++)-1<indexOf(t,e[r])&&n.push(e[r]);return n}function indexOf(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}intersect.big=function(e,t){if(!t)return many(e);for(var n=[],r={},i=0;i<t.length;i++)r[t[i]]=!0;for(i=0;i<e.length;i++)r[e[i]]&&n.push(e[i]);return n};var _typeof=function(e){return("function"!=typeof Symbol||"symbol"!==_typeof$3(Symbol.iterator))&&e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof$3(e)},get=function(e,t){var n=!(2<(arguments.length<=2?0:arguments.length-2)&&void 0!==(arguments.length<=4?void 0:arguments[4]))||arguments.length<=4?void 0:arguments[4];return String.prototype.split.call(t,/[,[\].]+?/).filter(Boolean).reduce(function(e,t){return e&&Object.hasOwnProperty.call(e,t)?e[t]:n},e)},rules={is:function(e,t,n){return get(n,e)==t},"!is":function(e,t,n){return!rules.is(e,t,n)},includes:function(e,t,n){if(!isEmptyObj(n)){n=get(n,e);if("function"!=_typeof(n)){if(isArray(t)&&isArray(n))return null===(e=intersect_1(n,t))||void 0===e?void 0:e.length;if(isArray(t)&&"string"==_typeof(n))return t.includes(n);if(isArray(n)&&"string"==_typeof(t))return n.includes(t)}}return!1},"!includes":function(e,t,n){return!rules.includes(e,t,n)},isOfType:function(e,t,n){return _typeof(get(n,e))===t},"!isOfType":function(e,t,n){return!rules.isOfType(e,t,n)},allOf:function(e,t,n){if(!Array.isArray(t))throw Error('"allOf" condition requires an array as #3 argument');var r=get(n,e);return t.every(function(e){return r.includes(e)})},anyOf:function(e,t,n){if(!Array.isArray(t))throw Error('"anyOf" condition requires an array as #3 argument');e=get(n,e);return t.includes(e)},gt:function(e,t,n){return get(n,e)>t},gte:function(e,t,n){return get(n,e)>=t},lt:function(e,t,n){return get(n,e)<t},lte:function(e,t,n){return get(n,e)<=t}},logicalRules={and:function(e){return!e.includes(!1)},or:function(e){return e.includes(!0)},not:function(e){if(1!==e.length)throw Error('"not" can have only one comparison rule, multiple rules given');return!e[0]}},isValidCondition=function(e){return!!(Array.isArray(e)&&Array.isArray(e[1])&&e[0]&&logicalRules[e[0].toLowerCase()])},processRule=function(e,t){var n=e[0],r=e[1],e=e[2];if("string"!=typeof n||void 0===rules[n])throw Error("Invalid comparison rule "+n+".");return rules[n](r,e,t)},processCondition=function(e,t){return logicalRules[e.toLowerCase()](t)},validate=function(e,n){if(!isValidCondition(e))return processRule(e,n);var t=e.slice(0,1)[0],e=e.slice(1).map(function(e,t){return(isValidCondition(e)?when:processRule)(e,n)});return processCondition(t,e)},when=function(e,t){return"function"==typeof e?Promise.resolve(e(t)):validate(e,t)};function ownKeys$8(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var DEFAULT_STATE={savedValues:{type:"conversions",source:"edd"},values:{},touched:{},errors:{}},actions={setSavedValues:function(e){return{type:"SET_SAVED_VALUES",payload:e}},setFieldValue:function(e){return{type:"FIELD_VALUE",name:e.name,payload:e.value}},removeFieldValue:function(e){return{type:"REMOVE_FIELD_VALUE",payload:e}},resetFieldValue:function(e){return{type:"RESET_FIELD_VALUE",payload:e}},setFieldTouched:function(e){return{type:"FIELD_TOUCHED",payload:e}},setError:function(e){return{type:"FIELD_ERROR",payload:e}},removeError:function(e){return{type:"REMOVE_FIELD_ERROR",payload:e}}},store={reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:DEFAULT_STATE,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_SAVED_VALUES":var n=_objectSpread$h({},e);return n=_objectSpread$h(_objectSpread$h({},n),{},{values:t.payload,savedValues:t.payload});case"FIELD_VALUE":var r=_objectSpread$h({},e),i=t.payload;return t.name,_objectSpread$h(_objectSpread$h({},r),{},{values:_objectSpread$h(_objectSpread$h({},null===r||void 0===r?void 0:r.values),i)});case"REMOVE_FIELD_VALUE":var o=_objectSpread$h({},e),i=t.payload;return null!==(r=o.values)&&void 0!==r&&r[i]&&delete o.values[i],o;case"RESET_FIELD_VALUE":var a=_objectSpread$h({},e);return null!==(o=a.values)&&void 0!==o&&o[t.payload]&&(delete a.values[t.payload],null!==(o=a.savedValues)&&void 0!==o&&o[t.payload]&&(a.values[t.payload]=a.savedValues[t.payload])),a;case"FIELD_ERROR":return _objectSpread$h(_objectSpread$h({},e),{},{errors:_objectSpread$h(_objectSpread$h({},e.errors),t.payload)});case"REMOVE_FIELD_ERROR":a=_objectSpread$h({},e);return delete a.errors[t.payload],a;case"FIELD_TOUCHED":return _objectSpread$h(_objectSpread$h({},e),{},{touched:_objectSpread$h(_objectSpread$h({},e.touched),t.payload)})}return e},actions:actions,selectors:{getValues:function(e){return e.values},getFieldValue:function(e,t){return null===(e=e.values)||void 0===e?void 0:e[t]},getSavedFieldValue:function(e,t,n){var r;return null!==n?(null===(r=e.savedValues)||void 0===r?void 0:r[n])===(null===(r=e.values)||void 0===r?void 0:r[n])&&(null===(n=e.savedValues)||void 0===n?void 0:n[t]):null===(e=e.savedValues)||void 0===e?void 0:e[t]},isTouched:function(e,t){return null===(e=e.touched)||void 0===e?void 0:e[t]},getError:function(e,t){return null===(e=e.errors)||void 0===e?void 0:e[t]},isVisible:function(e,t){if(!t.rules||null==t.name)return!0;e=when(t.rules,e.values);return Boolean(e)}}},Menu=function(e){var t;if(void 0===e.tabs)throw new Error("There are no tabs defined!");var a=e.active,s=e.setActive,n=e.tabs,l=e.config,u=e.context,r=useState([]),i=_slicedToArray$1(r,2),r=i[0],o=i[1];useEffect(function(){var e=n.filter(function(e){return isVisible(null==u?void 0:u.values,e)});o(e)},[n,null==u||null===(t=u.values)||void 0===t?void 0:t.source]);var c=classNames("wprf-tab-menu-wrapper",null==e?void 0:e.className,{"wprf-tab-menu-sidebar":null==l?void 0:l.sidebar},null==u||null===(c=u.values)||void 0===c?void 0:c.source),d=r.findIndex(function(e){return e.id===a});return createElement("div",{className:c},createElement("ul",{className:"wprf-tab-nav"},r.map(function(t,e){var n,r,i,o;return createElement("li",{className:classNames("wprf-tab-nav-item",(n={},_defineProperty$d(n,"".concat(t.classes),t.classes),_defineProperty$d(n,"wprf-active-nav",a===t.id),_defineProperty$d(n,"wprf-tab-complete",!(null==l||!l.completionTrack)&&e<=d),n)),"data-key":t.id,key:t.id,onClick:function(){var e;return(null===(e=null==l?void 0:l.clickable)||void 0===e||e)&&s(t.id)}},(null==t?void 0:t.icon)&&(isString(t.icon)&&!isObject(t.icon)?createElement("img",{src:t.icon,alt:null==t?void 0:t.label}):isObject(t.icon)?null==u||null===(r=u.icons)||void 0===r||null===(i=r[null==t||null===(i=t.icon)||void 0===i?void 0:i.type])||void 0===i?void 0:i[null==t||null===(o=t.icon)||void 0===o?void 0:o.name]:""),createElement("span",null,t.label))})))},BuilderContext=createContext(void 0);BuilderContext.displayName="production"===process.env.NODE_ENV?"Anonymous":"BuilderContext";var BuilderProvider=BuilderContext.Provider,BuilderConsumer=BuilderContext.Consumer;function useBuilderContext(){return useContext(BuilderContext)}var useOptions=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fields";if(null==t||!t[n])throw new Error("#options param need to set in order to use useOptions hook.");var r=t.value,i=t.multiple,o=useBuilderContext(),e=useState(t[n]),a=_slicedToArray$1(e,2),s=a[0],l=a[1],e=useState([]),a=_slicedToArray$1(e,2),u=a[0],c=a[1],e=useState({options:null,parentIndex:null}),a=_slicedToArray$1(e,2),d=a[0],e=a[1],a=useState(null),a=_slicedToArray$1(a,2),f=a[0],p=a[1],a=useState(null),a=_slicedToArray$1(a,2),h=a[0],g=a[1];return useEffect(function(){var e=t.ajax&&(null===(e=o.getTabFields(null==t?void 0:t.parentIndex))||void 0===e?void 0:e[n])||s;c(o.eligibleOptions(e)),p(o.eligibleOption(e,r,null!=i&&i))},[r,s]),useEffect(function(){l(t[n]),c(o.eligibleOptions(t[n]))},[t]),useEffect(function(){c(o.eligibleOptions(s))},[s]),useEffect(function(){null!=d.options&&l(d.options)},[d]),useEffect(function(){var e;null!=f&&(e=i?isArray(f)&&f.map(function(e){return e.value})||r:f.value||r,g(e))},[f]),useEffect(function(){var e,t;0===u.filter(function(e){return e.value===h}).length&&(t=sortingFields(u),g((null==t||null===(e=t[0])||void 0===e?void 0:e.value)||r))},[h,u]),{options:sortingFields(u),option:h,selectedOption:f,setOptions:c,setData:e}},useTrigger=function(e){var i=e.context;null!=e&&e.trigger&&isArray(null==e?void 0:e.trigger)&&null!=e&&e.trigger.map(function(e){var t=(null==e?void 0:e.type)||"setFieldValue";if(null!=e&&e.action&&isObject(null==e?void 0:e.action))for(var n in null==e?void 0:e.action){var r=n;-1<r.indexOf(".")&&(r=r.split("."));n=null==e?void 0:e.action[n];""!=r&&i[t](r,n)}})},useDefaults=function(e,t,n,r){if(null!=r&&null!=(null==r?void 0:r.defaults)&&!isEmptyObj(r.defaults)){var i=r.defaults;if(null!=i&&!isEmptyObj(i)){var o={};if(null!=i&&i[n]&&isString(null==i?void 0:i[n])){var a=i[n].indexOf("@"),s=i[n].indexOf(":");0===a&&0<s&&(r=i[n].substr(1,s-1),a=i[n].substr(s+1),s=t.getValueForDefault(r,e),""!=r&&""!=a&&(a="false"!==a&&a,o[r]=s||a,t.setValue(r,s||a)))}else if(null!=i&&i[n]&&(isArray(null==i?void 0:i[n])||isObject(null==i?void 0:i[n])))for(var l=0,u=Object.values(null==i?void 0:i[n]);l<u.length;l++){var c=u[l],d=c.indexOf("@"),f=c.indexOf(":");0===d&&0<f&&(d=c.substr(1,f-1),f=c.substr(f+1),-1<c.indexOf(".")&&(d=d.split(".")),c=t.getValueForDefault(d,e),""!=d&&""!=f&&(f="false"!==f&&f,o[d]=c||f,t.setValue(d,c||f)))}return{defaultsData:o}}}};function ownKeys$7(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var builderReducer=function(e,t){switch(t.type){case"SET_CONTEXT":return _extends({},e,setIn(e,t.payload.field,t.payload.value));case"SET_ACTIVE_TAB":return _objectSpread$g(_objectSpread$g({},e),{},{config:_objectSpread$g(_objectSpread$g({},e.config),{},{active:t.payload})});case"SET_REDIRECT":return _objectSpread$g(_objectSpread$g({},e),{},{redirect:_objectSpread$g(_objectSpread$g({},e.redirect),t.payload)});case"SET_VALUES":return _extends({},e,setIn(e,"values",t.payload));case"SET_SAVED_VALUES":return _extends({},e,setIn(e,"savedValues",t.payload));case"SET_FIELD_VALUE":return _extends({},e,{values:setIn(e.values,t.payload.field,t.payload.value)});case"SET_TOUCHED":return _extends({},e,{touched:t.payload});case"SET_ERRORS":return _extends({},e,{errors:t.payload});case"SET_STATUS":return _extends({},e,{status:t.payload});case"SET_ISSUBMITTING":return _objectSpread$g(_objectSpread$g({},e),{},{isSubmitting:t.payload});case"SET_ISVALIDATING":return _extends({},e,{isValidating:t.payload});case"SET_FIELD_TOUCHED":return _objectSpread$g(_objectSpread$g({},e),{},{touched:_objectSpread$g(_objectSpread$g({},e.touched),{},_defineProperty$d({},t.payload.field,t.payload.value))});case"SET_FIELD_ERROR":case"RESET_FORM":return _extends({},e,t.payload);case"SUBMIT_ATTEMPT":return _extends({},e,{isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return _extends({},e,{isSubmitting:!1});case"SET_FORM_FIELD":return null===t.payload.field?_extends({},e,setIn(e,"tabs",t.payload.value)):_extends({},e,{tabs:setIn(e.tabs,t.payload.field,t.payload.value)});case"SET_ICONS":return _extends({},e,{icons:setIn(e.icons,t.payload.name,t.payload.icons)});case"SET_ALERTS":return _extends({},e,{alerts:setIn(e.common,t.payload.name,t.payload.value)});case"SET_COMMONS":return _extends({},e,{common:setIn(e.common,t.payload.name,t.payload.value)});default:return e}};function ownKeys$6(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var useBuilder=function(e){var t=useRef(null);useEffect(function(){return t.current=!0,function(){t.current=!1}},[]);var n=useReducer(builderReducer,_objectSpread$f(_objectSpread$f({},e),{},{savedValues:e.savedValues||{},values:e.values||{},errors:e.initialErrors||{},touched:e.initialTouched||{},icons:e.initialIcons||{},common:{},alerts:{},tabs:sortingFields(e.tabs)})),r=_slicedToArray$1(n,2),c=r[0],i=r[1],o=useEventCallback(function(e,t,n){i({type:"SET_CONTEXT",payload:{field:e,value:t}})}),a=useEventCallback(function(e,t){e="function"==typeof e?e(c.values):e;return i({type:"SET_VALUES",payload:e}),void 0!==t&&t?e:Promise.resolve()}),s=useEventCallback(function(e,t){e="function"==typeof e?e(c.values):e;return i({type:"SET_SAVED_VALUES",payload:e}),void 0!==t&&t?e:Promise.resolve()}),l=useEventCallback(function(e,t,n){i({type:"SET_FIELD_VALUE",payload:{field:e,value:t}})}),u=useEventCallback(function(e,t){i({type:"SET_FORM_FIELD",payload:{field:e,value:t}})}),d=useCallback(function(e){return getIn(c.values,e)},[c]),f=useEventCallback(function(e,t,n){i({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t=t||!0}})}),p=useCallback(function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.persist&&e.persist();var n=e.target,r=n.name,i=n.id;n.outerHTML,f(t||r||i,!0)},[f]),h=useEventCallback(function(t){return"string"==typeof t?function(e){return p(e,t)}:void p(t)}),g=useCallback(function(e,t){e=executeChange(e,t),t=e.field,e=e.val;t&&l(t,e)},[l,c.values]),m=useEventCallback(function(t,e){return null!=e&&e.isPro&&!1===Boolean(c.is_pro_active)?(null===(e=c.alerts)||void 0===e||null!==(e=e.pro_alert)&&void 0!==e&&e.fire(),!1):"string"==typeof t?function(e){return g(t,e)}:void g(t)}),y=useCallback(function(e){var t,n,r,i=_objectSpread$f({},e),o=validFieldProps(i),a=o.name,s=o.type,l=o.parent,u=o.parenttype;null!=i&&i.is_pro&&(o.is_pro=!(null!=i&&i.is_pro&&!0===Boolean(c.is_pro_active))),r=l&&"group"===u?null!==(t=null==(t=null!==(t=getIn(c.values,l))&&void 0!==t?t:{})?void 0:t[a])&&void 0!==t?t:null==i?void 0:i.default:l&&"repeater"===u?null!==(n=null==(l=null!==(l=getIn(c.values,l))&&void 0!==l?l:[])||null===(n=l[o.index])||void 0===n?void 0:n[a])&&void 0!==n?n:null==i?void 0:i.default:null!==(r=getIn(c.values,a))&&void 0!==r?r:null==i?void 0:i.default,o.onChange=m,o.onBlur=h;i=o.value;return"checkbox"===s?(o.checked=!!r,o.value=!!r,isString(r)&&"0"===r?(o.checked=!1,o.value=!1):(o.checked=Boolean(r),o.value=Boolean(r))):"radio"===s?(o.checked=r===i,o.value=i):o.value="date"===s&&null==r?getTime():r,o.visible=isVisible(c.values,e),o},[h,m,c.values]),v=useCallback(function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return n=null!==r?null===(r=getIn(c.values,r))||void 0===r?void 0:r[e]:getIn(c.values,e)||(null===(n=t.meta)||void 0===n?void 0:n.default),_objectSpread$f(_objectSpread$f({},t.meta),{},{value:n,error:getIn(c.errors,e),touched:!!getIn(c.touched,e),visible:isVisible(c.values,t),initialValue:"",initialTouched:"",initialError:""})},[c.errors,c.touched,c.values]),b=useCallback(function(e){if(0<e.length)return e.filter(function(e){return null!=e&&e.rules?when(e.rules,c.values):e});return e},[c.errors,c.touched,c.values]),_=useCallback(function(e,t){if(e.length){var n=[];return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&isArray(t)?n=e.filter(function(e){return t.includes(e.value)}):0<(n=e.filter(function(e){return e.value==t})).length?n[0]:""}return e},[c.errors,c.touched,c.values]),w=useCallback(function(){return{setValue:function(e,t){return l(e,t)},getValue:function(e){return getIn(c.values,e)},getValueForDefault:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return(null===t||getIn(c.savedValues,t)===getIn(c.values,t))&&getIn(c.savedValues,e)}}},[c.errors,c.touched,c.values,c.savedValues]),S=useCallback(function(e){return getIn(c.tabs,e)},[c]),E=useEventCallback(function(e){i({type:"SET_ISSUBMITTING",payload:e})}),C=useEventCallback(function(e){i({type:"SET_ACTIVE_TAB",payload:e})}),$=useEventCallback(function(e){i({type:"SET_REDIRECT",payload:e})}),k=useEventCallback(function(e,t){i({type:"SET_ICONS",payload:{name:e,icons:t}})}),n=useEventCallback(function(e,t){i({type:"SET_COMMONS",payload:{name:e,value:t}})}),r=useEventCallback(function(e,t){i({type:"SET_ALERTS",payload:{name:e,value:t}})});return _objectSpread$f(_objectSpread$f(_objectSpread$f({},e),c),{},{setContext:o,values:c.values,savedValues:c.savedValues,errors:c.errors,touched:c.touched,isSubmitting:!1,setActiveTab:C,setRedirect:$,setSubmitting:E,setValues:a,setSavedValues:s,setFieldValue:l,getFieldValue:d,handleBlur:h,handleChange:m,getFieldProps:y,getFieldMeta:v,getFieldHelpers:w,eligibleOptions:b,eligibleOption:_,getTabFields:S,setFormField:u,registerIcons:k,registerCommon:n,registerAlert:r})},useIsomorphicLayoutEffect="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?useLayoutEffect:useEffect,useEventCallback=function(e){var o=useRef(e);return useIsomorphicLayoutEffect(function(){o.current=e}),useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return o.current.apply(void 0,t)},[])},Row=function(e){var t=classNames("wprf-row clearfix wprf-flex",null==e?void 0:e.className);return createElement("div",{className:t},null==e?void 0:e.children)},Column=function(e){var t=classNames("wprf-column",null==e?void 0:e.className,(t={},_defineProperty$d(t,"wprf-column-".concat(12/(null==e?void 0:e.column)),(null==e?void 0:e.column)&&12!==e.column),_defineProperty$d(t,"wprf-column-12",12===e.column),t));return createElement("div",{className:t},null==e?void 0:e.children)},Label=function(e){var t,n,r,i=classNames("wprf-input-label",null==e?void 0:e.className);return createElement("label",{htmlFor:null==e?void 0:e.htmlFor,className:i},(null==e||null===(t=e.badge)||void 0===t?void 0:t.value)&&createElement("div",{className:"wprf-badge"},createElement("sup",{className:classNames("wprf-badge-item",{"wprf-badge-active":null==e||null===(n=e.badge)||void 0===n?void 0:n.active})},null==e||null===(r=e.badge)||void 0===r?void 0:r.label)),!(null!=e&&e.src)&&(null==e?void 0:e.children),(null==e?void 0:e.src)&&createElement(Image,{className:"wprf-label-image",src:e.src,alt:null==e?void 0:e.label}))},Image=function(e){if(null==e||!e.src)return createElement("p",null,"No Source( src ) Defined");var t=classNames(["wprf-input-image",null==e?void 0:e.className]);return createElement("img",{className:t,src:null==e?void 0:e.src,alt:null==e?void 0:e.alt})},BadgeComp=function(e){var t=e.componentClasses,e=e.label;return createElement("div",{className:"wprf-badge"},createElement("sup",{className:t},e))},Badge=function(e){var t=useBuilderContext(),n=e.label,r=e.active,i=e.position,o=void 0===i?"right":i,a=e.renderLabel,i=e.renderComponent;void 0===n&&(n="Pro");e=classNames("wprf-badge-item",{"wprf-badge-active":r}),r={};return t.is_pro_active||(r={onClick:function(e){e.preventDefault(),t.alerts.pro_alert.fire()}}),createElement("div",_extends$1({className:classNames("wprf-badge-wrapper",{"pro-deactivated":!t.is_pro_active})},r),"left"===o&&0<n.length&&createElement(Fragment,null,a(createElement(BadgeComp,{componentClasses:e,label:n}),"left")),"right"===o&&0<n.length&&createElement(Fragment,null,a(createElement(BadgeComp,{componentClasses:e,label:n}),"right")),i())},_excluded$5=["id","label","badge","badgePosition","context"],ControlLabel=function(e){var t,n=e.id,r=e.label,i=e.badge,o=e.badgePosition,a=e.context,e=_objectWithoutProperties(e,_excluded$5);if(r&&0<r.length)return createElement("div",{className:"wprf-control-label"},"left"==o&&i,createElement("label",{htmlFor:n},r),(null==e?void 0:e.link)&&createElement("a",{rel:"nofollow",target:"_blank",href:e.link},null==a||null===(t=a.icons)||void 0===t?void 0:t.link),"right"==o&&i)},ControlField=function(e){var t=e.position,n=e.description,r=e.renderComponent,e=e.help;return createElement("div",{className:"wprf-control-field"},"left"===t&&n&&createElement("p",{className:"wprf-description",dangerouslySetInnerHTML:{__html:n}}),r(),"right"===t&&n&&createElement("p",{className:"wprf-description",dangerouslySetInnerHTML:{__html:n}}),e&&createElement("p",{className:"wprf-help",dangerouslySetInnerHTML:{__html:e}}))},_excluded$4=["label","id","name","type","style","is_pro","badge"];function ownKeys$5(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var withLabel=function(h){return function(t){var e,n,r,i=t.label,o=t.id,a=t.name,s=t.type,l=t.style,u=t.is_pro,c=t.badge,d=_objectWithoutProperties(t,_excluded$4);null==o&&(o=a);var f=_objectSpread$e({description:{position:"right"}},l),l=classNames((l={},_defineProperty$d(l,"wprf-style-".concat(null==f?void 0:f.type),(null==f?void 0:f.type)||!1),_defineProperty$d(l,"wprf-label-none",void 0===i||""===i||0===i.length),_defineProperty$d(l,"wprf-".concat((null==f||null===(e=f.label)||void 0===e?void 0:e.position)||"inline","-label"),(null===(n=null==f||null===(n=f.label)||void 0===n?void 0:n.position)||void 0===n||n)&&null!=i),l));if("hidden"===s)return createElement(h,_extends$1({},t,{id:o}));var p=validFieldProps(t,["description","label","help","style"]),a=classNames("wprf-control-wrapper","wprf-type-".concat(s),l,null==t?void 0:t.classes,_defineProperty$d({},"wprf-name-".concat(a),a));return createElement("div",{className:a},1==u&&createElement(Badge,_extends$1({},c,{renderLabel:function(e,t){return createElement(ControlLabel,_extends$1({},p,{context:null==d?void 0:d.context,id:o,label:i,badge:e,badgePosition:t}))},renderComponent:function(){var e;return createElement(ControlField,{help:null==t?void 0:t.help,description:null==t?void 0:t.description,position:null==f||null===(e=f.description)||void 0===e?void 0:e.position,renderComponent:function(){return createElement(h,_extends$1({},p,{id:o}))}})}})),(0==u||null==u)&&createElement(Fragment,null,i&&0<i.length&&createElement(ControlLabel,_extends$1({},p,{context:null==d?void 0:d.context,label:i,id:o})),createElement(ControlField,{help:null==t?void 0:t.help,description:null==t?void 0:t.description,position:null==f||null===(r=f.description)||void 0===r?void 0:r.position,renderComponent:function(){return createElement(h,_extends$1({},p,{id:o}))}})))}},withProps=function(l){var u=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){var e=useBuilderContext(),t=n.trigger,r=e.getFieldProps(n),i=e.getFieldMeta(r.name,n),o=e.getFieldHelpers();null!=e&&e.quickBuilder&&null!=e&&e.show&&(e.show.includes(n.name)||(r.classes=null!=r&&r.classes?r.classes+" hidden":" hidden"));var a=null!=n&&n.parentIndex?_toConsumableArray$3(n.parentIndex):[];r.parentIndex=a,r.context=e,isFunction(n.onChange)&&(r.onChange=n.onChange),isFunction(n.onBlur)&&(r.onBlur=n.onBlur);var s=useRef({});return useEffect(function(){return s.current[n.name]=!0,function(){s.current[n.name]=!1}},[]),useEffect(function(){var e,t;i.visible&&s.current[n.name]&&(u||"group"===r.type?(e=null==n?void 0:n.parent,t=null==n?void 0:n.parenttype,e&&"group"===t&&r.value&&o.setValue([e,r.name],r.value)):o.setValue(r.name,r.value))},[i.visible]),useEffect(function(){s.current[n.name]&&isObject(t)&&!isEmptyObj(t)&&useDefaults(r.name,o,r.value,t)},[r.value,i.visible]),i.visible?createElement(l,r):createElement(Fragment,null)}},Field=function(e){if(!e.type||0===e.type.length)throw console.error(e),new Error("Field must have a #type. see documentation.");switch(e.type){case"text":case"checkbox":case"radio":case"email":case"range":case"number":case"hidden":return createElement(Input$1,e);case"textarea":return createElement(Textarea$1,e);case"message":return createElement(Message,e);case"select":return createElement(Select$1,e);case"slider":return createElement(Slider,e);case"group":return createElement(Group$1,e);case"radio-card":return createElement(Radio,e);case"section":return createElement(Section$1,e);case"date":return createElement(Date$1,e);case"toggle":return createElement(Toggle,e);case"colorpicker":return createElement(ColorPicker$1,e);case"repeater":return createElement(Repeater,e);case"media":return createElement(Media$1,e);case"editor":return createElement(Editor$1,e);case"advanced-template":return createElement(AdvancedTemplate,e);case"action":return createElement(Action,e);case"button":return createElement(Button$1,e);case"modal":return createElement(Modal,e);default:return createElement(Fragment,null)}},GenericField=withProps(Field,!0),Field$1=withProps(Field),DateControl=function(e){var t=e.name,n=e.value,r=e.onChange,i=__experimentalGetSettings(),o=null!==(e=null==e?void 0:e.format)&&void 0!==e?e:i.formats.datetime,a=getTime(n),s=/a(?!\\)/i.test(i.formats.datetime.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));return useEffect(function(){n||r({target:{type:"date",name:t,value:a}})},[]),createElement(Dropdown,{className:"wprf-control-datetime",renderToggle:function(e){e.isOpen;e=e.onToggle;return createElement(Button$2,{isTertiary:!0,onClick:e},date(o,a,void 0))},renderContent:function(){return createElement(DateTimePicker,{currentDate:date(o,a,void 0),onChange:function(e){r({target:{type:"date",name:t,value:getTime(e,!0)}})},is12Hour:s})}})},Date$1=withLabel(DateControl);function ownKeys$4(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Input=function(t){var n=validFieldProps(t,["is_pro","visible","trigger","disable","parentIndex","context","badge"]),e=useCallback(function(e){return n.onChange(e,{isPro:!!t.is_pro})},[null==n?void 0:n.value]);return"checkbox"===n.type&&null!=n&&n.name&&(n.checked=(null==n?void 0:n.checked)||(null==n?void 0:n.value)),React$1.createElement("input",_objectSpread$d(_objectSpread$d({},n),{},{onChange:e}))};Input.defaultProps={type:"text"};var GenericInput=React$1.memo(Input),Input$1=withLabel(React$1.memo(Input));function ownKeys$3(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Textarea=function(t){var n=validFieldProps(t,["is_pro","visible","trigger","disable","parentIndex","context"]),e=useCallback(function(e){return n.onChange(e,{isPro:!!t.is_pro})},[null==n?void 0:n.value]);return React$1.createElement("textarea",_objectSpread$c(_objectSpread$c({},n),{},{onChange:e,rows:5}))},Textarea$1=withLabel(React$1.memo(Textarea)),_excluded$3=["name","fields"],Group=function(n){var r=n.name,e=n.fields,i=_objectWithoutProperties(n,_excluded$3);if(!e||!isArray(e)||0===e.length)throw new Error("You should give a #fields arguments to a group field.");var o=useBuilderContext(),a=useCallback(function(e){e.persist&&e.persist();var t=executeChange(e),e=t.field,t=t.val;o.setFieldValue([r,e],t)},[n.value]),t=sortingFields(e);useEffect(function(){o.setFormField([].concat(_toConsumableArray$3(n.parentIndex),["fields"]),t)},[]);var s=t.map(function(e,t){t=[].concat(_toConsumableArray$3(n.parentIndex),["fields",t]);return createElement(GenericField,_extends$1({},i,{key:e.name,index:n.index,onChange:a},e,{parenttype:"group",parent:r,parentIndex:t}))}),e=classNames("wprf-group-control-inner",{"wprf-display-inline":"inline"===(null==n?void 0:n.display)});return createElement("div",{className:"wprf-group-control"},createElement("div",{className:e},s))},Group$1=withLabel(Group),Select=function(i){var o=useBuilderContext(),e=i.id,t=i.name,n=i.multiple,r=i.placeholder,a=i.search,s=void 0!==a&&a,l=i.onChange,u=i.parentIndex,c=useOptions(i,"options"),d=c.options,f=c.selectedOption,p=c.setData,a=useState(null),c=_slicedToArray$1(a,2),h=c[0],g=c[1],a=useState(!1),c=_slicedToArray$1(a,2),a=c[0],m=c[1],c=useState(!1),c=_slicedToArray$1(c,2),y=c[0];c[1];function v(){var e;if(null!=i&&i.ajax&&when(null==i||null===(e=i.ajax)||void 0===e?void 0:e.rules,o.values)){m(!0);var r={};if(Object.keys(null==i?void 0:i.ajax.data).map(function(e){var t,n;-1<(null==i?void 0:i.ajax.data[e].indexOf("@"))?(n=null==i?void 0:i.ajax.data[e].substr(1),r[e]=null===(t=o.values)||void 0===t?void 0:t[n]):r[e]=null==i?void 0:i.ajax.data[e]}),!y)return wpFetch({path:null==i?void 0:i.ajax.api,data:r}).then(function(e){m(!1);var t=merge(i.options,e,"value");return o.setFormField([].concat(_toConsumableArray$3(u),["options"]),t),p({options:t,parentIndex:[].concat(_toConsumableArray$3(u),["options"])}),e})}}return useEffect(function(){!isArray(h)&&isObject(h)&&l({target:{type:"select",name:t,value:h.value,options:d,multiple:n}}),isArray(h)&&l({target:{type:"select",name:t,value:h.map(function(e){return e.value}),options:d,multiple:n}})},[h]),useEffect(function(){v()},[]),useEffect(function(){null!=i&&i.menuOpen&&v()},[null==i?void 0:i.menuOpen]),createElement("div",{className:"wprf-select-wrapper"},createElement(ReactSelect,{isDisabled:null==i?void 0:i.disable,classNamePrefix:"wprf-select",isSearchable:null!=s&&s,id:e,name:t,isMulti:null!=n&&n,placeholder:r,isLoading:a,options:d,value:f,onMenuOpen:v,onMenuClose:function(){m(!1)},isOptionDisabled:function(e){return null==e?void 0:e.disabled},onChange:function(e){return g(e)}}))},Select$1=withLabel(Select);function createHigherOrderComponent(n,r){return e=>{const t=n(e);e=e.displayName||e.name||"Component";return t.displayName=`${upperFirst(camelCase(r))}(${e})`,t}}const logged=Object.create(null);function deprecated(e,t={}){var{since:n,version:r,alternative:i,plugin:o,link:a,hint:s}=t,s=`${e} is deprecated${n?` since version ${n}`:""}${r?` and will be removed${o?` from ${o}`:""} in version ${r}`:""}.${i?` Please use ${i} instead.`:""}${a?` See: ${a}`:""}${s?` Note: ${s}`:""}`;s in logged||(doAction("deprecated",e,t,s),console.warn(s),logged[s]=!0)}const instanceMap=new WeakMap;function createId(e){var t=instanceMap.get(e)||0;return instanceMap.set(e,t+1),t}function useInstanceId(t,n,r=""){return useMemo(()=>{if(r)return r;var e=createId(t);return n?`${n}-${e}`:e},[t])}function withState(t={}){return deprecated("wp.compose.withState",{alternative:"wp.element.useState"}),createHigherOrderComponent(e=>class extends Component{constructor(e){super(e),this.setState=this.setState.bind(this),this.state=t}render(){return createElement$1(e,_extends$2({},this.props,this.state,{setState:this.setState}))}},"withState")}var RepeaterField=function e(t){var n=t.fields,r=t.onChange,i=t.index,o=t.parent,a=useState(t.isOpen),a=_slicedToArray$1(a,2),s=a[0],l=a[1],u=useInstanceId(e);return createElement("div",{className:"wprf-repeater-field"},createElement("div",{className:"wprf-repeater-field-title",onClick:function(){return l(!s)}},createElement("h4",null,"#ID: ",t.index),createElement("div",{className:"wprf-repeater-field-controls"},createElement(Icon,{onClick:function(){return t.clone(t.index)},icon:"admin-page"}),createElement(Icon,{onClick:function(){return t.remove(t.index)},icon:"trash"}))),s&&createElement("div",{className:"wprf-repeater-inner-field"},n.map(function(e,t){return createElement(GenericField,_extends$1({key:"field-".concat(i,"-").concat(t)},e,{id:"field-".concat(u,"-").concat(i,"-").concat(t),index:i,parenttype:"repeater",parent:o,onChange:function(e){return r(e,i)}}))})))};function ownKeys$2(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var GenericToggle=function(t){var e,n,r=_objectSpread$b({type:"",label:{position:"right"},column:4},t.style),i=useMemo$1(function(){var e=!1;return null!=t&&t.checked&&isObject(t.checked)&&isString(null==t?void 0:t.value)?e=t.checked[t.value]:isString(t.value)||(e=t.value),e},[null==t?void 0:t.checked,t.value]),o=classNames("wprf-toggle-wrap",(o={},_defineProperty$d(o,"wprf-".concat(null==r?void 0:r.type),0<(null==r?void 0:r.type.length)),_defineProperty$d(o,"wprf-checked",Boolean(i)),_defineProperty$d(o,"wprf-label-position-".concat(null==r||null===(e=r.label)||void 0===e?void 0:e.position),null==r||null===(n=r.label)||void 0===n?void 0:n.position),o),null==t?void 0:t.classes);return createElement("div",{className:o},createElement(GenericInput,_objectSpread$b(_objectSpread$b({},t),{},{type:"checkbox",placeholder:void 0})),createElement(Label,{htmlFor:t.id}))},GenericToggle$1=withLabel(GenericToggle),ModalContent=function(n){var e=n.isLoading;n.closeModal;var t=useState([]),r=_slicedToArray$1(t,2),t=r[0],i=r[1];return useEffect(function(){var e=sortingFields(n.body.fields).map(function(e,t){t=[].concat(_toConsumableArray$3(n.parentIndex),["fields",t]);return createElement(Field$1,_extends$1({key:e.name},e,{parentIndex:t}))});i(e)},[]),createElement("div",{className:"wprf-modal-body"},e&&createElement(Loading,null),!e&&createElement(Fragment,null,createElement("div",{className:"wprf-modal-content"},0<t.length&&t),createElement("div",{className:"wprf-modal-footer clearfix"},createElement("div",{className:"wprf-modal-footer-left"},(null===(t=n.body)||void 0===t?void 0:t.footer)&&isString(n.body.footer)&&createElement("p",null,n.body.footer),createElement(GenericField,_extends$1({type:"button"},null==n?void 0:n.confirm_button))))))},ModalHeader=function(e){e=e.content;return createElement("div",{className:"wprf-modal-header"},e&&isString(e)&&createElement("h3",null,e))},Loading=function(e){return createElement("p",null,"Loading...")},toolbarOptions={options:["inline","blockType","textAlign","colorPicker","link"],inline:{options:["bold","italic","underline","strikethrough","monospace"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"],className:void 0,component:void 0,dropdownClassName:void 0}};function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys$1(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Toggle=function(t){var e=t.options,r=t.value,n=t.multiple,i=t.style,o=sortingFields(e),a=_objectSpread$a({column:4},i);if(n){function s(e){var t=e.target||e.currentTarget;u(function(e){return _objectSpread$a(_objectSpread$a({},e),{},_defineProperty$d({},t.value,t.checked))})}var n=useState({}),n=_slicedToArray$1(n,2),l=n[0],u=n[1];return useEffect(function(){t.onChange({target:{type:"toggle",name:t.name,value:l}})},[l]),useEffect(function(){if(isObject(r))u(r);else{var e,t={},n=_createForOfIteratorHelper(o);try{for(n.s();!(e=n.n()).done;)t[e.value.value]=r}catch(e){n.e(e)}finally{n.f()}u(t)}},[]),createElement("div",{className:"wprf-toggle-wrapper wprf-control"},createElement(Row,null,o.map(function(e){return createElement(Column,{key:e.value,column:a.column},createElement(GenericToggle$1,_objectSpread$a(_objectSpread$a({},e),{},{context:null==t?void 0:t.context,id:e.value,checked:null!=l&&l[e.value]?r:!(null==l||!l[e.value]),type:"checkbox",onChange:s,style:a})))})))}return createElement(GenericToggle$1,t)},_excluded$2=["label","value","icon","is_pro"];function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty$d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var RadioCard=function e(t){var a=useBuilderContext(),n=useOptions(t,"options"),r=n.options,s=n.option;if(!r)throw new Error("#options is a required arguments for RadioCard field.");var l=useInstanceId(e),n=classNames(["wprf-control","wprf-radio-card","wprf-input-radio-set-wrap",null==t?void 0:t.className]),u=_objectSpread$9({},null==t?void 0:t.style),c=validFieldProps(t,["options","placeholder","style","trigger"]);return useEffect(function(){s&&t.onChange({target:{type:"radio-card",name:t.name,value:s}})},[s]),createElement("div",{className:n},createElement(Row,null,r.map(function(e,t){var n=e.label,r=e.value,i=e.icon,o=e.is_pro,e=_objectWithoutProperties(e,_excluded$2);return createElement(Column,{column:+(null==e?void 0:e.column)||4,key:t},createElement("div",{className:classNames("wprf-input-radio-option",{"wprf-option-has-image":null!=i&&i,"wprf-option-selected":r==s})},createElement(Label,{className:classNames(_defineProperty$d({"wprf-label-has-image":null!=i&&i},"wprf-size-".concat(u.size),null!==(e=i&&(null==u?void 0:u.size))&&void 0!==e&&e)),htmlFor:"wprf-input-radio-".concat(l,"-").concat(t),src:i,badge:{label:o?"Pro":"Free",value:o,active:Boolean(a.is_pro_active)}},n),createElement(GenericInput,_extends$1({},c,{is_pro:o,type:"radio",value:r,checked:r===s,id:"wprf-input-radio-".concat(l,"-").concat(t)}))))})))},Radio=withLabel(RadioCard),Section=function(n){var t=useBuilderContext(),e=useState(null!==(r=n.collapsed)&&void 0!==r&&r),r=_slicedToArray$1(e,2),i=r[0],o=r[1],e=useState([]),r=_slicedToArray$1(e,2),e=r[0],a=r[1];useEffect(function(){var e=sortingFields(n.fields);t.setFormField([].concat(_toConsumableArray$3(n.parentIndex),["fields"]),e);e=e.map(function(e,t){t=[].concat(_toConsumableArray$3(n.parentIndex),["fields",t]);return createElement(Field$1,_extends$1({key:e.name},e,{parentIndex:t}))});a(e)},[]);r=classNames("wprf-control-section",null==n?void 0:n.classes,null==n?void 0:n.name,{"wprf-section-collapsed":(null==n?void 0:n.collapsible)&&i});return createElement("div",{className:r},n.placeholder&&createElement("div",{className:"wprf-section-title"},createElement("h4",null,n.placeholder),n.collapsible&&createElement("button",{onClick:function(){return o(!i)}},"Icon")),createElement("div",{className:"wprf-section-fields"},e))},Section$1=React$1.memo(Section),Repeater=function(e){var r=e.name;e.value;var t=e.button,n=e.fields,i=useBuilderContext(),e=useState(null===(e=i.values)||void 0===e?void 0:e[r]),e=_slicedToArray$1(e,2),o=e[0],a=e[1];useEffect(function(){var e;null!=(null===(e=i.values)||void 0===e?void 0:e[r])&&a(null===(e=i.values)||void 0===e?void 0:e[r])},[null===(e=i.values)||void 0===e?void 0:e[r]]);var s=useCallback(function(e){var t=_toConsumableArray$3(o);t.splice(e,1),i.setFieldValue(r,t)},[o]),l=useCallback(function(e){var t=_toConsumableArray$3(o);0<t.length&&(e=(null==t?void 0:t[e])||{},i.setFieldValue([r,o.length],e))},[o]);return useEffect(function(){null==o&&a([{}])},[]),createElement("div",{className:"wprf-repeater-control"},createElement("div",{className:"wprf-repeater-content"},o&&0<(null==o?void 0:o.length)&&o.map(function(e,t){return createElement(RepeaterField,{isOpen:!0,key:t,fields:n,index:t,parent:r,clone:l,remove:s,onChange:function(e){return function(e,t){e.persist&&e.persist();var n=executeChange(e),e=n.field,n=n.val;i.setFieldValue([r,t,e],n)}(e,t)}})})),createElement("div",{className:"wprf-repeater-label"},createElement("button",{className:"wprf-repeater-button",onClick:function(){return i.setFieldValue(r,[].concat(_toConsumableArray$3(o),[{}]))}},null==t?void 0:t.label)))},Slider=function(t){var n=t.name,e=t.id,r=t.label,i=t.units,o=t.value,a=t.min,s=t.max,l=t.unit;t.tooltip;var u=t.reset,o=useState(o||0),o=_slicedToArray$1(o,2),c=o[0],d=o[1],l=useState(l),l=_slicedToArray$1(l,2),f=l[0],p=l[1];return useEffect(function(){var e;c&&(isNumber$1(c)?e=f?"".concat(c).concat(f):"".concat(c):isString(c)&&(e=-1<c.indexOf(f)?"".concat(c):"".concat(c).concat(f)),t.onChange({target:{type:"slider",name:n,value:e}}))},[c,f]),createElement("div",{className:"wprf-slider-wrap"},createElement("div",{className:"wprf-slider-control-head"},createElement(Label,{htmlFor:e||n},r),isArray(i)&&0<i.length&&createElement("div",{className:"wprf-slider-units"},i.map(function(e,t){return createElement(Button$2,{key:t,isSmall:!0,isPrimary:!0,onClick:function(){return p(e)},className:e==f?"unit-active":""},e)}))),createElement("div",{className:"wprf-slider-control"},createElement(RangeControl,{allowReset:null==u||u,value:parseInt(c),min:a,max:s,onChange:function(e){return d(e)}})))},ColorPicker=function(e){var t=e.value,n=e.name,r=e.id,i=e.onChange,e=useState(!1),e=_slicedToArray$1(e,2),o=e[0],a=e[1],e=useState(t||null),e=_slicedToArray$1(e,2),s=e[0],l=e[1],e=useState(null),e=_slicedToArray$1(e,2),u=e[0],c=e[1],e=useRef(null);useEffect(function(){c(t)},[]);var d;return useEffect(function(){i({target:{type:"colorpicker",name:n,value:s}})},[s]),d=e,useEffect(function(){function e(e){d.current&&!d.current.contains(e.target)&&a(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[d]),createElement(Fragment,null,createElement("div",{className:"wprf-colorpicker-wrap",ref:e},createElement("input",{type:"hidden",value:t,name:n,id:r}),createElement("span",{className:"wprf-picker-display",style:{backgroundColor:t,borderColor:t},onClick:function(){return a(!o)}}),o&&createElement(Fragment,null,createElement("button",{className:"wprf-colorpicker-reset",onClick:function(e){e.preventDefault(),l(u),a(!1)}},__$2("Reset","wprf")),createElement(ColorPicker$2,{color:t,onChangeComplete:function(e){return l(e.hex)}}))))},ColorPicker$1=withLabel(ColorPicker),Action=function(e){return createElement(Fragment,null,applyFilters(e.action,e))};memize_1(console.error);const DEFAULT_LOCALE_DATA={"":{plural_forms(e){return 1===e?0:1}}},I18N_HOOK_REGEXP=/^i18n\.(n?gettext|has_translation)(_|$)/,createI18n=(e,t,s)=>{const l=new Tannin({}),n=new Set,r=()=>{n.forEach(e=>e())};const o=(e,t="default")=>{l.data[t]={...DEFAULT_LOCALE_DATA,...l.data[t],...e},l.data[t][""]={...DEFAULT_LOCALE_DATA[""],...l.data[t][""]}},i=(e,t)=>{o(e,t),r()};const a=(e="default",t,n,r,i)=>(l.data[e]||o(void 0,e),l.dcnpgettext(e,t,n,r,i)),u=(e="default")=>e;const c=(e,t,n)=>{let r=a(n,t,e);return s?(r=s.applyFilters("i18n.gettext_with_context",r,e,t,n),s.applyFilters("i18n.gettext_with_context_"+u(n),r,e,t,n)):r};return e&&i(e,t),s&&(s.addAction("hookAdded","core/i18n",t=e=>{I18N_HOOK_REGEXP.test(e)&&r()}),s.addAction("hookRemoved","core/i18n",t)),{getLocaleData:(e="default")=>l.data[e],setLocaleData:i,resetLocaleData:(e,t)=>{l.data={},l.pluralForms={},i(e,t)},subscribe:e=>(n.add(e),()=>n.delete(e)),__:(e,t)=>{let n=a(t,void 0,e);return s?(n=s.applyFilters("i18n.gettext",n,e,t),s.applyFilters("i18n.gettext_"+u(t),n,e,t)):n},_x:c,_n:(e,t,n,r)=>{let i=a(r,void 0,e,t,n);return s?(i=s.applyFilters("i18n.ngettext",i,e,t,n,r),s.applyFilters("i18n.ngettext_"+u(r),i,e,t,n,r)):i},_nx:(e,t,n,r,i)=>{let o=a(i,r,e,t,n);return s?(o=s.applyFilters("i18n.ngettext_with_context",o,e,t,n,r,i),s.applyFilters("i18n.ngettext_with_context_"+u(i),o,e,t,n,r,i)):o},isRTL:()=>"rtl"===c("ltr","text direction"),hasTranslation:(e,t,n)=>{var r,i,o=t?t+""+e:e;let a=!(null===(r=l.data)||void 0===r||null===(i=r[null!=n?n:"default"])||void 0===i||!i[o]);return s&&(a=s.applyFilters("i18n.has_translation",a,e,t,n),a=s.applyFilters("i18n.has_translation_"+u(n),a,e,t,n)),a}}},i18n=createI18n(void 0,void 0,defaultHooks);i18n.getLocaleData.bind(i18n),i18n.setLocaleData.bind(i18n),i18n.resetLocaleData.bind(i18n),i18n.subscribe.bind(i18n);const __=i18n.__.bind(i18n);i18n._x.bind(i18n),i18n._n.bind(i18n),i18n._nx.bind(i18n),i18n.isRTL.bind(i18n),i18n.hasTranslation.bind(i18n);const wp=window["wp"],DEFAULT_EMPTY_GALLERY=[],getFeaturedImageMediaFrame=()=>wp.media.view.MediaFrame.Select.extend({featuredImageToolbar(e){this.createSelectToolbar(e,{text:wp.media.view.l10n.setFeaturedImage,state:this.options.state})},editState(){const e=this.state("featured-image").get("selection"),t=new wp.media.view.EditImage({model:e.single(),controller:this}).render();this.content.set(t),t.loadEditor()},createStates:function(){this.on("toolbar:create:featured-image",this.featuredImageToolbar,this),this.on("content:render:edit-image",this.editState,this),this.states.add([new wp.media.controller.FeaturedImage,new wp.media.controller.EditImage({model:this.options.editImage})])}}),getGalleryDetailsMediaFrame=()=>wp.media.view.MediaFrame.Post.extend({galleryToolbar(){var e=this.state().get("editing");this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:e?wp.media.view.l10n.updateGallery:wp.media.view.l10n.insertGallery,priority:80,requires:{library:!0},click(){const e=this.controller,t=e.state();e.close(),t.trigger("update",t.get("library")),e.setState(e.options.state),e.reset()}}}}))},editState(){const e=this.state("gallery").get("selection"),t=new wp.media.view.EditImage({model:e.single(),controller:this}).render();this.content.set(t),t.loadEditor()},createStates:function(){this.on("toolbar:create:main-gallery",this.galleryToolbar,this),this.on("content:render:edit-image",this.editState,this),this.states.add([new wp.media.controller.Library({id:"gallery",title:wp.media.view.l10n.createGalleryTitle,priority:40,toolbar:"main-gallery",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query(defaults({type:"image"},this.options.library))}),new wp.media.controller.EditImage({model:this.options.editImage}),new wp.media.controller.GalleryEdit({library:this.options.selection,editing:this.options.editing,menu:"gallery",displaySettings:!1,multiple:!0}),new wp.media.controller.GalleryAdd])}}),slimImageObject=e=>{return pick(e,["sizes","mime","type","subtype","id","url","alt","link","caption"])},getAttachmentsCollection=e=>wp.media.query({order:"ASC",orderby:"post__in",post__in:e,posts_per_page:-1,query:!0,type:"image"});class MediaUpload extends Component$1{constructor({allowedTypes:e,gallery:t=!1,unstableFeaturedImageFlow:n=!1,modalClass:r,multiple:i=!1,title:o=__("Select or Upload Media")}){if(super(...arguments),this.openModal=this.openModal.bind(this),this.onOpen=this.onOpen.bind(this),this.onSelect=this.onSelect.bind(this),this.onUpdate=this.onUpdate.bind(this),this.onClose=this.onClose.bind(this),t)this.buildAndSetGalleryFrame();else{const a={title:o,multiple:i};e&&(a.library={type:e}),this.frame=wp.media(a)}r&&this.frame.$el.addClass(r),n&&this.buildAndSetFeatureImageFrame(),this.initializeListeners()}initializeListeners(){this.frame.on("select",this.onSelect),this.frame.on("update",this.onUpdate),this.frame.on("open",this.onOpen),this.frame.on("close",this.onClose)}buildAndSetGalleryFrame(){var{addToGallery:t=!1,allowedTypes:n,multiple:r=!1,value:i=DEFAULT_EMPTY_GALLERY}=this.props;if(i!==this.lastGalleryValue){this.lastGalleryValue=i,this.frame&&this.frame.remove();let e;e=t?"gallery-library":i&&i.length?"gallery-edit":"gallery",this.GalleryDetailsMediaFrame||(this.GalleryDetailsMediaFrame=getGalleryDetailsMediaFrame());const o=getAttachmentsCollection(i);t=new wp.media.model.Selection(o.models,{props:o.props.toJSON(),multiple:r});this.frame=new this.GalleryDetailsMediaFrame({mimeType:n,state:e,multiple:r,selection:t,editing:!(!i||!i.length)}),wp.media.frame=this.frame,this.initializeListeners()}}buildAndSetFeatureImageFrame(){const e=getFeaturedImageMediaFrame(),t=getAttachmentsCollection(this.props.value);var n=new wp.media.model.Selection(t.models,{props:t.props.toJSON()});this.frame=new e({mimeType:this.props.allowedTypes,state:"featured-image",multiple:this.props.multiple,selection:n,editing:!!this.props.value}),wp.media.frame=this.frame}componentWillUnmount(){this.frame.remove()}onUpdate(e){const{onSelect:t,multiple:n=!1}=this.props,r=this.frame.state(),i=e||r.get("selection");i&&i.models.length&&(n?t(i.models.map(e=>slimImageObject(e.toJSON()))):t(slimImageObject(i.models[0].toJSON())))}onSelect(){const{onSelect:e,multiple:t=!1}=this.props;var n=this.frame.state().get("selection").toJSON();e(t?n:n[0])}onOpen(){var e;if(this.updateCollection(),Array.isArray(this.props.value)?!(null===(e=this.props.value)||void 0===e||!e.length):!!this.props.value){if(!this.props.gallery){const t=this.frame.state().get("selection");castArray(this.props.value).forEach(e=>{t.add(wp.media.attachment(e))})}getAttachmentsCollection(castArray(this.props.value)).more()}}onClose(){const e=this.props["onClose"];e&&e()}updateCollection(){var e=this.frame.content.get();if(e&&e.collection){const t=e.collection;t.toArray().forEach(e=>e.trigger("destroy",e)),t.mirroring._hasMore=!0,t.more()}}openModal(){this.props.gallery&&this.buildAndSetGalleryFrame(),this.frame.open()}render(){return this.props.render({open:this.openModal})}}var Media=function(t){var e=useState(null!==(e=t.value)&&void 0!==e&&e.url?t.value:null),e=_slicedToArray$1(e,2),n=e[0],r=e[1];return useEffect(function(){t.onChange({target:{type:"media",name:t.name,value:n}})},[n]),createElement("div",{className:"wprf-control wprf-media"},null!=n&&createElement("div",{className:"wprf-image-preview"},null!=n&&(null==n?void 0:n.url)&&createElement("img",{src:n.url,alt:n.title})),createElement("div",{className:"wprf-image-uploader"},createElement(MediaUpload,{onSelect:function(e){r({id:e.id,title:e.title,url:e.url})},multiple:!1,allowedTypes:["image"],value:n,render:function(e){e=e.open;return createElement(Fragment,null,null!=n&&createElement("button",{className:"wprf-btn wprf-image-remove-btn",onClick:function(){return r(null)}},(null==t?void 0:t.remove)||"Remove"),createElement("button",{className:"wprf-btn wprf-image-upload-btn",onClick:e},null!=n?(null==t?void 0:t.reset)||"Change Image":(null==t?void 0:t.button)||"Upload"))}})))},Media$1=withLabel(Media),immutable={exports:{}};immutable.exports=function(){var r=Array.prototype.slice;function e(e,t){if(t)e.prototype=Object.create(t.prototype);e.prototype.constructor=e}function l(e){return c(e)?e:G(e)}function s(e){return d(e)?e:W(e)}function u(e){return f(e)?e:Y(e)}function i(e){return c(e)&&!p(e)?e:X(e)}function c(e){return!!(e&&e[t])}function d(e){return!!(e&&e[n])}function f(e){return!!(e&&e[o])}function p(e){return d(e)||f(e)}function h(e){return!!(e&&e[a])}e(s,l),e(u,l),e(i,l),l.isIterable=c,l.isKeyed=d,l.isIndexed=f,l.isAssociative=p,l.isOrdered=h,l.Keyed=s,l.Indexed=u,l.Set=i;var t="@@__IMMUTABLE_ITERABLE__@@",n="@@__IMMUTABLE_KEYED__@@",o="@@__IMMUTABLE_INDEXED__@@",a="@@__IMMUTABLE_ORDERED__@@",g="delete",b=5,m=1<<b,_=m-1,v={},y={value:false},w={value:false};function S(e){e.value=false;return e}function E(e){e&&(e.value=true)}function C(){}function $(e,t){t=t||0;var n=Math.max(0,e.length-t);var r=new Array(n);for(var i=0;i<n;i++)r[i]=e[i+t];return r}function k(e){if(e.size===undefined)e.size=e.__iterate(T);return e.size}function O(e,t){if(typeof t!=="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?k(e)+t:t}function T(){return true}function x(e,t,n){return(e===0||n!==undefined&&e<=-n)&&(t===undefined||n!==undefined&&t>=n)}function A(e,t){return D(e,t,0)}function I(e,t){return D(e,t,t)}function D(e,t,n){return e===undefined?n:e<0?Math.max(0,t+e):t===undefined?e:Math.min(t,e)}var R=0,B=1,M=2,P=typeof Symbol==="function"&&Symbol.iterator,L="@@iterator",N=P||L;function j(e){this.next=e}function F(e,t,n,r){var i=e===0?t:e===1?n:[t,n];r?r.value=i:r={value:i,done:false};return r}function K(){return{value:undefined,done:true}}function U(e){return!!z(e)}function V(e){return e&&typeof e.next==="function"}function H(e){var t=z(e);return t&&t.call(e)}function z(e){var t=e&&(P&&e[P]||e[L]);if(typeof t==="function")return t}function q(e){return e&&typeof e.length==="number"}function G(e){return e===null||e===undefined?ae():c(e)?e.toSeq():ue(e)}function W(e){return e===null||e===undefined?ae().toKeyedSeq():c(e)?d(e)?e.toSeq():e.fromEntrySeq():se(e)}function Y(e){return e===null||e===undefined?ae():!c(e)?le(e):d(e)?e.entrySeq():e.toIndexedSeq()}function X(e){return(e===null||e===undefined?ae():!c(e)?le(e):d(e)?e.entrySeq():e).toSetSeq()}j.prototype.toString=function(){return"[Iterator]"},j.KEYS=R,j.VALUES=B,j.ENTRIES=M,j.prototype.inspect=j.prototype.toSource=function(){return this.toString()},j.prototype[N]=function(){return this},e(G,l),G.of=function(){return G(arguments)},G.prototype.toSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq {","}")},G.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this},G.prototype.__iterate=function(e,t){return de(this,e,t,true)},G.prototype.__iterator=function(e,t){return fe(this,e,t,true)},e(W,G),W.prototype.toKeyedSeq=function(){return this},e(Y,G),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return de(this,e,t,false)},Y.prototype.__iterator=function(e,t){return fe(this,e,t,false)},e(X,G),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},G.isSeq=oe,G.Keyed=W,G.Set=X,G.Indexed=Y;var J="@@__IMMUTABLE_SEQ__@@",Z,Q,ee;function te(e){this._array=e;this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e;this._keys=t;this.size=t.length}function re(e){this._iterable=e;this.size=e.length||e.size}function ie(e){this._iterator=e;this._iteratorCache=[]}function oe(e){return!!(e&&e[J])}function ae(){return Z||(Z=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():V(e)?new ie(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():typeof e==="object"?new ne(e):undefined;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, "+"or keyed object: "+e);return t}function le(e){var t=ce(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){var t=ce(e)||typeof e==="object"&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ce(e){return q(e)?new te(e):V(e)?new ie(e):U(e)?new re(e):undefined}function de(e,t,n,r){var i=e._cache;if(i){var o=i.length-1;for(var a=0;a<=o;a++){var s=i[n?o-a:a];if(t(s[1],r?s[0]:a,e)===false)return a+1}return a}return e.__iterateUncached(t,n)}function fe(e,t,n,r){var i=e._cache;if(i){var o=i.length-1;var a=0;return new j(function(){var e=i[n?o-a:a];return a++>o?K():F(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function pe(e,t){return t?he(t,e,"",{"":e}):ge(e)}function he(n,r,e,t){if(Array.isArray(r))return n.call(t,e,Y(r).map(function(e,t){return he(n,e,t,r)}));if(me(r))return n.call(t,e,W(r).map(function(e,t){return he(n,e,t,r)}));return r}function ge(e){if(Array.isArray(e))return Y(e).map(ge).toList();if(me(e))return W(e).map(ge).toMap();return e}function me(e){return e&&(e.constructor===Object||e.constructor===undefined)}function ye(e,t){if(e===t||e!==e&&t!==t)return true;if(!e||!t)return false;if(typeof e.valueOf==="function"&&typeof t.valueOf==="function"){e=e.valueOf();t=t.valueOf();if(e===t||e!==e&&t!==t)return true;if(!e||!t)return false}if(typeof e.equals==="function"&&typeof t.equals==="function"&&e.equals(t))return true;return false}function ve(n,e){if(n===e)return true;if(!c(e)||n.size!==undefined&&e.size!==undefined&&n.size!==e.size||n.__hash!==undefined&&e.__hash!==undefined&&n.__hash!==e.__hash||d(n)!==d(e)||f(n)!==f(e)||h(n)!==h(e))return false;if(n.size===0&&e.size===0)return true;var r=!p(n);if(h(n)){var i=n.entries();return e.every(function(e,t){var n=i.next().value;return n&&ye(n[1],e)&&(r||ye(n[0],t))})&&i.next().done}var o=false;if(n.size===undefined)if(e.size===undefined){if(typeof n.cacheResult==="function")n.cacheResult()}else{o=true;var t=n;n=e;e=t}var a=true;var s=e.__iterate(function(e,t){if(r?!n.has(e):o?!ye(e,n.get(t,v)):!ye(n.get(t,v),e)){a=false;return false}});return a&&n.size===s}function be(e,t){if(!(this instanceof be))return new be(e,t);this._value=e;this.size=t===undefined?Infinity:Math.max(0,t);if(this.size===0){if(Q)return Q;Q=this}}function _e(e,t){if(!e)throw new Error(t)}function we(e,t,n){if(!(this instanceof we))return new we(e,t,n);_e(n!==0,"Cannot step a Range by 0");e=e||0;if(t===undefined)t=Infinity;n=n===undefined?1:Math.abs(n);if(t<e)n=-n;this._start=e;this._end=t;this._step=n;this.size=Math.max(0,Math.ceil((t-e)/n-1)+1);if(this.size===0){if(ee)return ee;ee=this}}function Se(){throw TypeError("Abstract")}function Ee(){}function Ce(){}function $e(){}G.prototype[J]=true,e(te,Y),te.prototype.get=function(e,t){return this.has(e)?this._array[O(this,e)]:t},te.prototype.__iterate=function(e,t){var n=this._array;var r=n.length-1;for(var i=0;i<=r;i++)if(e(n[t?r-i:i],i,this)===false)return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array;var r=n.length-1;var i=0;return new j(function(){return i>r?K():F(e,i,n[t?r-i++:i++])})},e(ne,W),ne.prototype.get=function(e,t){if(t!==undefined&&!this.has(e))return t;return this._object[e]},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){var n=this._object;var r=this._keys;var i=r.length-1;for(var o=0;o<=i;o++){var a=r[t?i-o:o];if(e(n[a],a,this)===false)return o+1}return o},ne.prototype.__iterator=function(t,n){var r=this._object;var i=this._keys;var o=i.length-1;var a=0;return new j(function(){var e=i[n?o-a:a];return a++>o?K():F(t,e,r[e])})},ne.prototype[a]=true,e(re,Y),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable;var r=H(n);var i=0;if(V(r)){var o;while(!(o=r.next()).done)if(e(o.value,i++,this)===false)break}return i},re.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable;var r=H(n);if(!V(r))return new j(K);var i=0;return new j(function(){var e=r.next();return e.done?e:F(t,i++,e.value)})},e(ie,Y),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterator;var r=this._iteratorCache;var i=0;while(i<r.length)if(e(r[i],i++,this)===false)return i;var o;while(!(o=n.next()).done){var a=o.value;r[i]=a;if(e(a,i++,this)===false)break}return i},ie.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator;var r=this._iteratorCache;var i=0;return new j(function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return F(t,i,r[i++])})},e(be,Y),be.prototype.toString=function(){if(this.size===0)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return ye(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return x(e,t,n)?this:new be(this._value,I(t,n)-A(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){if(ye(this._value,e))return 0;return-1},be.prototype.lastIndexOf=function(e){if(ye(this._value,e))return this.size;return-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===false)return n+1;return n},be.prototype.__iterator=function(e,t){var n=this;var r=0;return new j(function(){return r<n.size?F(e,r++,n._value):K()})},be.prototype.equals=function(e){return e instanceof be?ye(this._value,e._value):ve(e)},e(we,Y),we.prototype.toString=function(){if(this.size===0)return"Range []";return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},we.prototype.get=function(e,t){return this.has(e)?this._start+O(this,e)*this._step:t},we.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},we.prototype.slice=function(e,t){if(x(e,t,this.size))return this;e=A(e,this.size);t=I(t,this.size);if(t<=e)return new we(0,0);return new we(this.get(e,this._end),this.get(t,this._end),this._step)},we.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},we.prototype.lastIndexOf=function(e){return this.indexOf(e)},we.prototype.__iterate=function(e,t){var n=this.size-1;var r=this._step;var i=t?this._start+n*r:this._start;for(var o=0;o<=n;o++){if(e(i,o,this)===false)return o+1;i+=t?-r:r}return o},we.prototype.__iterator=function(t,n){var r=this.size-1;var i=this._step;var o=n?this._start+r*i:this._start;var a=0;return new j(function(){var e=o;o+=n?-i:i;return a>r?K():F(t,a++,e)})},we.prototype.equals=function(e){return e instanceof we?this._start===e._start&&this._end===e._end&&this._step===e._step:ve(this,e)},e(Se,l),e(Ee,Se),e(Ce,Se),e($e,Se),Se.Keyed=Ee,Se.Indexed=Ce,Se.Set=$e;var ke=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function e(t,n){t=t|0;n=n|0;var r=t&65535;var i=n&65535;return r*i+((t>>>16)*i+r*(n>>>16)<<16>>>0)|0};function Oe(e){return e>>>1&1073741824|e&3221225471}function Te(e){if(e===false||e===null||e===undefined)return 0;if(typeof e.valueOf==="function"){e=e.valueOf();if(e===false||e===null||e===undefined)return 0}if(e===true)return 1;var t=typeof e;if(t==="number"){var n=e|0;if(n!==e)n^=e*4294967295;while(e>4294967295){e/=4294967295;n^=e}return Oe(n)}if(t==="string")return e.length>je?xe(e):Ae(e);if(typeof e.hashCode==="function")return e.hashCode();if(t==="object")return Ie(e);if(typeof e.toString==="function")return Ae(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function xe(e){var t=Ue[e];if(t===undefined){t=Ae(e);if(Ke===Fe){Ke=0;Ue={}}Ke++;Ue[e]=t}return t}function Ae(e){var t=0;for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Oe(t)}function Ie(e){var t;if(Me){t=Pe.get(e);if(t!==undefined)return t}t=e[Ne];if(t!==undefined)return t;if(!Re){t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne];if(t!==undefined)return t;t=Be(e);if(t!==undefined)return t}t=++Le;if(Le&1073741824)Le=0;if(Me)Pe.set(e,t);else if(De!==undefined&&De(e)===false)throw new Error("Non-extensible objects are not allowed as keys.");else if(Re)Object.defineProperty(e,Ne,{enumerable:false,configurable:false,writable:false,value:t});else if(e.propertyIsEnumerable!==undefined&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable){e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};e.propertyIsEnumerable[Ne]=t}else if(e.nodeType!==undefined)e[Ne]=t;else throw new Error("Unable to set a non-enumerable property on object.");return t}var De=Object.isExtensible,Re=function(){try{Object.defineProperty({},"@",{});return true}catch(e){return false}}();function Be(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Me=typeof WeakMap==="function",Pe;if(Me)Pe=new WeakMap;var Le=0,Ne="__immutablehash__";if(typeof Symbol==="function")Ne=Symbol(Ne);var je=16,Fe=255,Ke=0,Ue={};function Ve(e){_e(e!==Infinity,"Cannot perform this action with an infinite size.")}function He(t){return t===null||t===undefined?it():ze(t)&&!h(t)?t:it().withMutations(function(n){var e=s(t);Ve(e.size);e.forEach(function(e,t){return n.set(t,e)})})}function ze(e){return!!(e&&e[qe])}e(He,Ee),He.prototype.toString=function(){return this.__toString("Map {","}")},He.prototype.get=function(e,t){return this._root?this._root.get(0,undefined,e,t):t},He.prototype.set=function(e,t){return ot(this,e,t)},He.prototype.setIn=function(e,t){return this.updateIn(e,v,function(){return t})},He.prototype.remove=function(e){return ot(this,e,v)},He.prototype.deleteIn=function(e){return this.updateIn(e,function(){return v})},He.prototype.update=function(e,t,n){return arguments.length===1?e(this):this.updateIn([e],t,n)},He.prototype.updateIn=function(e,t,n){if(!n){n=t;t=undefined}var r=mt(this,Sn(e),t,n);return r===v?undefined:r},He.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return it()},He.prototype.merge=function(){return ft(this,undefined,arguments)},He.prototype.mergeWith=function(e){var t=r.call(arguments,1);return ft(this,e,t)},He.prototype.mergeIn=function(e){var t=r.call(arguments,1);return this.updateIn(e,it(),function(e){return typeof e.merge==="function"?e.merge.apply(e,t):t[t.length-1]})},He.prototype.mergeDeep=function(){return ft(this,pt,arguments)},He.prototype.mergeDeepWith=function(e){var t=r.call(arguments,1);return ft(this,ht(e),t)},He.prototype.mergeDeepIn=function(e){var t=r.call(arguments,1);return this.updateIn(e,it(),function(e){return typeof e.mergeDeep==="function"?e.mergeDeep.apply(e,t):t[t.length-1]})},He.prototype.sort=function(e){return Ut(dn(this,e))},He.prototype.sortBy=function(e,t){return Ut(dn(this,t,e))},He.prototype.withMutations=function(e){var t=this.asMutable();e(t);return t.wasAltered()?t.__ensureOwner(this.__ownerID):this},He.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},He.prototype.asImmutable=function(){return this.__ensureOwner()},He.prototype.wasAltered=function(){return this.__altered},He.prototype.__iterator=function(e,t){return new et(this,e,t)},He.prototype.__iterate=function(t,e){var n=this;var r=0;this._root&&this._root.iterate(function(e){r++;return t(e[1],e[0],n)},e);return r},He.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;if(!e){this.__ownerID=e;this.__altered=false;return this}return rt(this.size,this._root,e,this.__hash)},He.isMap=ze;var qe="@@__IMMUTABLE_MAP__@@",Ge=He.prototype,We;function Ye(e,t){this.ownerID=e;this.entries=t}function Xe(e,t,n){this.ownerID=e;this.bitmap=t;this.nodes=n}function Je(e,t,n){this.ownerID=e;this.count=t;this.nodes=n}function Ze(e,t,n){this.ownerID=e;this.keyHash=t;this.entries=n}function Qe(e,t,n){this.ownerID=e;this.keyHash=t;this.entry=n}function et(e,t,n){this._type=t;this._reverse=n;this._stack=e._root&&nt(e._root)}function tt(e,t){return F(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var i=Object.create(Ge);i.size=e;i._root=t;i.__ownerID=n;i.__hash=r;i.__altered=false;return i}function it(){return We||(We=rt(0))}function ot(e,t,n){var r;var i;if(!e._root){if(n===v)return e;i=1;r=new Ye(e.__ownerID,[[t,n]])}else{var o=S(y);var a=S(w);r=at(e._root,e.__ownerID,0,undefined,t,n,o,a);if(!a.value)return e;i=e.size+(o.value?n===v?-1:1:0)}if(e.__ownerID){e.size=i;e._root=r;e.__hash=undefined;e.__altered=true;return e}return r?rt(i,r):it()}function at(e,t,n,r,i,o,a,s){if(!e){if(o===v)return e;E(s);E(a);return new Qe(t,r,[i,o])}return e.update(t,n,r,i,o,a,s)}function st(e){return e.constructor===Qe||e.constructor===Ze}function lt(e,t,n,r,i){if(e.keyHash===r)return new Ze(t,r,[e.entry,i]);var o=(n===0?e.keyHash:e.keyHash>>>n)&_;var a=(n===0?r:r>>>n)&_;var s;var l=o===a?[lt(e,t,n+b,r,i)]:(s=new Qe(t,r,i),o<a?[e,s]:[s,e]);return new Xe(t,1<<o|1<<a,l)}function ut(e,t,n,r){if(!e)e=new C;var i=new Qe(e,Te(n),[n,r]);for(var o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,undefined,a[0],a[1])}return i}function ct(e,t,n,r){var i=0;var o=0;var a=new Array(n);for(var s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];if(c!==undefined&&s!==r){i|=l;a[o++]=c}}return new Xe(e,i,a)}function dt(e,t,n,r,i){var o=0;var a=new Array(m);for(var s=0;n!==0;s++,n>>>=1)a[s]=n&1?t[o++]:undefined;a[r]=i;return new Je(e,o+1,a)}function ft(e,t,n){var r=[];for(var i=0;i<n.length;i++){var o=n[i];var a=s(o);if(!c(o))a=a.map(function(e){return pe(e)});r.push(a)}return gt(e,t,r)}function pt(e,t,n){return e&&e.mergeDeep&&c(t)?e.mergeDeep(t):ye(e,t)?e:t}function ht(i){return function(e,t,n){if(e&&e.mergeDeepWith&&c(t))return e.mergeDeepWith(i,t);var r=i(e,t,n);return ye(e,r)?e:r}}function gt(e,i,n){n=n.filter(function(e){return e.size!==0});if(n.length===0)return e;if(e.size===0&&!e.__ownerID&&n.length===1)return e.constructor(n[0]);return e.withMutations(function(r){var e=i?function(t,n){r.update(n,v,function(e){return e===v?t:i(e,t,n)})}:function(e,t){r.set(t,e)};for(var t=0;t<n.length;t++)n[t].forEach(e)})}function mt(e,t,n,r){var i=e===v;var o=t.next();if(o.done){var a=i?n:e;var s=r(a);return s===a?e:s}_e(i||e&&e.set,"invalid keyPath");var l=o.value;var u=i?v:e.get(l,v);var c=mt(u,t,n,r);return c===u?e:c===v?e.remove(l):(i?it():e).set(l,c)}function yt(e){e=e-(e>>1&1431655765);e=(e&858993459)+(e>>2&858993459);e=e+(e>>4)&252645135;e=e+(e>>8);e=e+(e>>16);return e&127}function vt(e,t,n,r){var i=r?e:$(e);i[t]=n;return i}function bt(e,t,n,r){var i=e.length+1;if(r&&t+1===i){e[t]=n;return e}var o=new Array(i);var a=0;for(var s=0;s<i;s++)if(s===t){o[s]=n;a=-1}else o[s]=e[s+a];return o}function _t(e,t,n){var r=e.length-1;if(n&&t===r){e.pop();return e}var i=new Array(r);var o=0;for(var a=0;a<r;a++){if(a===t)o=1;i[a]=e[a+o]}return i}Ge[qe]=true,Ge[g]=Ge.remove,Ge.removeIn=Ge.deleteIn,Ye.prototype.get=function(e,t,n,r){var i=this.entries;for(var o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Ye.prototype.update=function(e,t,n,r,i,o,a){var s=i===v;var l=this.entries;var u=0;for(var c=l.length;u<c;u++)if(ye(r,l[u][0]))break;var d=u<c;if(d?l[u][1]===i:s)return this;E(a);(s||!d)&&E(o);if(s&&l.length===1)return;if(!d&&!s&&l.length>=wt)return ut(e,l,r,i);var f=e&&e===this.ownerID;var p=f?l:$(l);if(d)if(s)u===c-1?p.pop():p[u]=p.pop();else p[u]=[r,i];else p.push([r,i]);if(f){this.entries=p;return this}return new Ye(e,p)},Xe.prototype.get=function(e,t,n,r){if(t===undefined)t=Te(n);var i=1<<((e===0?t:t>>>e)&_);var o=this.bitmap;return(o&i)===0?r:this.nodes[yt(o&i-1)].get(e+b,t,n,r)},Xe.prototype.update=function(e,t,n,r,i,o,a){if(n===undefined)n=Te(r);var s=(t===0?n:n>>>t)&_;var l=1<<s;var u=this.bitmap;var c=(u&l)!==0;if(!c&&i===v)return this;var d=yt(u&l-1);var f=this.nodes;var p=c?f[d]:undefined;var h=at(p,e,t+b,n,r,i,o,a);if(h===p)return this;if(!c&&h&&f.length>=St)return dt(e,f,u,s,h);if(c&&!h&&f.length===2&&st(f[d^1]))return f[d^1];if(c&&h&&f.length===1&&st(h))return h;var g=e&&e===this.ownerID;var m=c?h?u:u^l:u|l;var y=c?h?vt(f,d,h,g):_t(f,d,g):bt(f,d,h,g);if(g){this.bitmap=m;this.nodes=y;return this}return new Xe(e,m,y)},Je.prototype.get=function(e,t,n,r){if(t===undefined)t=Te(n);var i=(e===0?t:t>>>e)&_;var o=this.nodes[i];return o?o.get(e+b,t,n,r):r},Je.prototype.update=function(e,t,n,r,i,o,a){if(n===undefined)n=Te(r);var s=(t===0?n:n>>>t)&_;var l=i===v;var u=this.nodes;var c=u[s];if(l&&!c)return this;var d=at(c,e,t+b,n,r,i,o,a);if(d===c)return this;var f=this.count;if(!c)f++;else if(!d){f--;if(f<Et)return ct(e,u,f,s)}var p=e&&e===this.ownerID;var h=vt(u,s,d,p);if(p){this.count=f;this.nodes=h;return this}return new Je(e,f,h)},Ze.prototype.get=function(e,t,n,r){var i=this.entries;for(var o=0,a=i.length;o<a;o++)if(ye(n,i[o][0]))return i[o][1];return r},Ze.prototype.update=function(e,t,n,r,i,o,a){if(n===undefined)n=Te(r);var s=i===v;if(n!==this.keyHash){if(s)return this;E(a);E(o);return lt(this,e,t,n,[r,i])}var l=this.entries;var u=0;for(var c=l.length;u<c;u++)if(ye(r,l[u][0]))break;var d=u<c;if(d?l[u][1]===i:s)return this;E(a);(s||!d)&&E(o);if(s&&c===2)return new Qe(e,this.keyHash,l[u^1]);var f=e&&e===this.ownerID;var p=f?l:$(l);if(d)if(s)u===c-1?p.pop():p[u]=p.pop();else p[u]=[r,i];else p.push([r,i]);if(f){this.entries=p;return this}return new Ze(e,this.keyHash,p)},Qe.prototype.get=function(e,t,n,r){return ye(n,this.entry[0])?this.entry[1]:r},Qe.prototype.update=function(e,t,n,r,i,o,a){var s=i===v;var l=ye(r,this.entry[0]);if(l?i===this.entry[1]:s)return this;E(a);if(s){E(o);return}if(l){if(e&&e===this.ownerID){this.entry[1]=i;return this}return new Qe(e,this.keyHash,[r,i])}E(o);return lt(this,e,t,Te(r),[r,i])},Ye.prototype.iterate=Ze.prototype.iterate=function(e,t){var n=this.entries;for(var r=0,i=n.length-1;r<=i;r++)if(e(n[t?i-r:r])===false)return false},Xe.prototype.iterate=Je.prototype.iterate=function(e,t){var n=this.nodes;for(var r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&o.iterate(e,t)===false)return false}},Qe.prototype.iterate=function(e,t){return e(this.entry)},e(et,j),et.prototype.next=function(){var e=this._type;var t=this._stack;while(t){var n=t.node;var r=t.index++;var i;if(n.entry){if(r===0)return tt(e,n.entry)}else if(n.entries){i=n.entries.length-1;if(r<=i)return tt(e,n.entries[this._reverse?i-r:r])}else{i=n.nodes.length-1;if(r<=i){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return tt(e,o.entry);t=this._stack=nt(o,t)}continue}}t=this._stack=this._stack.__prev}return K()};var wt=m/4,St=m/2,Et=m/4;function Ct(e){var t=Bt();if(e===null||e===undefined)return t;if($t(e))return e;var r=u(e);var i=r.size;if(i===0)return t;Ve(i);if(i>0&&i<m)return Rt(0,i,b,null,new Tt(r.toArray()));return t.withMutations(function(n){n.setSize(i);r.forEach(function(e,t){return n.set(t,e)})})}function $t(e){return!!(e&&e[kt])}e(Ct,Ce),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("List [","]")},Ct.prototype.get=function(e,t){e=O(this,e);if(e>=0&&e<this.size){e+=this._origin;var n=Nt(this,e);return n&&n.array[e&_]}return t},Ct.prototype.set=function(e,t){return Mt(this,e,t)},Ct.prototype.remove=function(e){return!this.has(e)?this:e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1)},Ct.prototype.insert=function(e,t){return this.splice(e,0,t)},Ct.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=b;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return Bt()},Ct.prototype.push=function(){var n=arguments;var r=this.size;return this.withMutations(function(e){jt(e,0,r+n.length);for(var t=0;t<n.length;t++)e.set(r+t,n[t])})},Ct.prototype.pop=function(){return jt(this,0,-1)},Ct.prototype.unshift=function(){var n=arguments;return this.withMutations(function(e){jt(e,-n.length);for(var t=0;t<n.length;t++)e.set(t,n[t])})},Ct.prototype.shift=function(){return jt(this,1)},Ct.prototype.merge=function(){return Ft(this,undefined,arguments)},Ct.prototype.mergeWith=function(e){var t=r.call(arguments,1);return Ft(this,e,t)},Ct.prototype.mergeDeep=function(){return Ft(this,pt,arguments)},Ct.prototype.mergeDeepWith=function(e){var t=r.call(arguments,1);return Ft(this,ht(e),t)},Ct.prototype.setSize=function(e){return jt(this,0,e)},Ct.prototype.slice=function(e,t){var n=this.size;if(x(e,t,n))return this;return jt(this,A(e,n),I(t,n))},Ct.prototype.__iterator=function(t,e){var n=0;var r=Dt(this,e);return new j(function(){var e=r();return e===xt?K():F(t,n++,e)})},Ct.prototype.__iterate=function(e,t){var n=0;var r=Dt(this,t);var i;while((i=r())!==xt)if(e(i,n++,this)===false)break;return n},Ct.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;if(!e){this.__ownerID=e;return this}return Rt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash)},Ct.isList=$t;var kt="@@__IMMUTABLE_LIST__@@",Ot=Ct.prototype;function Tt(e,t){this.array=e;this.ownerID=t}Ot[kt]=true,Ot[g]=Ot.remove,Ot.setIn=Ge.setIn,Ot.deleteIn=Ot.removeIn=Ge.removeIn,Ot.update=Ge.update,Ot.updateIn=Ge.updateIn,Ot.mergeIn=Ge.mergeIn,Ot.mergeDeepIn=Ge.mergeDeepIn,Ot.withMutations=Ge.withMutations,Ot.asMutable=Ge.asMutable,Ot.asImmutable=Ge.asImmutable,Ot.wasAltered=Ge.wasAltered,Tt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var r=n>>>t&_;if(r>=this.array.length)return new Tt([],e);var i=r===0;var o;if(t>0){var a=this.array[r];o=a&&a.removeBefore(e,t-b,n);if(o===a&&i)return this}if(i&&!o)return this;var s=Lt(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=undefined;if(o)s.array[r]=o;return s},Tt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||this.array.length===0)return this;var r=n-1>>>t&_;if(r>=this.array.length)return this;var i;if(t>0){var o=this.array[r];i=o&&o.removeAfter(e,t-b,n);if(i===o&&r===this.array.length-1)return this}var a=Lt(this,e);a.array.splice(r+1);if(i)a.array[r]=i;return a};var xt={},At,It;function Dt(e,l){var u=e._origin;var c=e._capacity;var o=Kt(c);var a=e._tail;return d(e._root,e._level,0);function d(e,t,n){return t===0?r(e,n):i(e,t,n)}function r(e,t){var n=t===o?a&&a.array:e&&e.array;var r=t>u?0:u-t;var i=c-t;if(i>m)i=m;return function(){if(r===i)return xt;var e=l?--i:r++;return n&&n[e]}}function i(e,n,r){var i;var o=e&&e.array;var a=r>u?0:u-r>>n;var s=(c-r>>n)+1;if(s>m)s=m;return function(){do{if(i){var e=i();if(e!==xt)return e;i=null}if(a===s)return xt;var t=l?--s:a++;i=d(o&&o[t],n-b,r+(t<<n))}while(true)}}}function Rt(e,t,n,r,i,o,a){var s=Object.create(Ot);s.size=t-e;s._origin=e;s._capacity=t;s._level=n;s._root=r;s._tail=i;s.__ownerID=o;s.__hash=a;s.__altered=false;return s}function Bt(){return At||(At=Rt(0,0,b))}function Mt(e,t,n){t=O(e,t);if(t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?jt(e,t).set(0,n):jt(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail;var i=e._root;var o=S(w);if(t>=Kt(e._capacity))r=Pt(r,e.__ownerID,0,t,n,o);else i=Pt(i,e.__ownerID,e._level,t,n,o);if(!o.value)return e;if(e.__ownerID){e._root=i;e._tail=r;e.__hash=undefined;e.__altered=true;return e}return Rt(e._origin,e._capacity,e._level,i,r)}function Pt(e,t,n,r,i,o){var a=r>>>n&_;var s=e&&a<e.array.length;if(!s&&i===undefined)return e;var l;if(n>0){var u=e&&e.array[a];var c=Pt(u,t,n-b,r,i,o);if(c===u)return e;l=Lt(e,t);l.array[a]=c;return l}if(s&&e.array[a]===i)return e;E(o);l=Lt(e,t);if(i===undefined&&a===l.array.length-1)l.array.pop();else l.array[a]=i;return l}function Lt(e,t){if(t&&e&&t===e.ownerID)return e;return new Tt(e?e.array.slice():[],t)}function Nt(e,t){if(t>=Kt(e._capacity))return e._tail;if(t<1<<e._level+b){var n=e._root;var r=e._level;while(n&&r>0){n=n.array[t>>>r&_];r-=b}return n}}function jt(e,t,n){if(t!==undefined)t=t|0;if(n!==undefined)n=n|0;var r=e.__ownerID||new C;var i=e._origin;var o=e._capacity;var a=i+t;var s=n===undefined?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();var l=e._level;var u=e._root;var c=0;while(a+c<0){u=new Tt(u&&u.array.length?[undefined,u]:[],r);l+=b;c+=1<<l}if(c){a+=c;i+=c;s+=c;o+=c}var d=Kt(o);var f=Kt(s);while(f>=1<<l+b){u=new Tt(u&&u.array.length?[u]:[],r);l+=b}var p=e._tail;var h=f<d?Nt(e,s-1):f>d?new Tt([],r):p;if(p&&f>d&&a<o&&p.array.length){u=Lt(u,r);var g=u;for(var m=l;m>b;m-=b){var y=d>>>m&_;g=g.array[y]=Lt(g.array[y],r)}g.array[d>>>b&_]=p}if(s<o)h=h&&h.removeAfter(r,0,s);if(a>=f){a-=f;s-=f;l=b;u=null;h=h&&h.removeBefore(r,0,a)}else if(a>i||f<d){c=0;while(u){var v=a>>>l&_;if(v!==f>>>l&_)break;if(v)c+=(1<<l)*v;l-=b;u=u.array[v]}if(u&&a>i)u=u.removeBefore(r,l,a-c);if(u&&f<d)u=u.removeAfter(r,l,f-c);if(c){a-=c;s-=c}}if(e.__ownerID){e.size=s-a;e._origin=a;e._capacity=s;e._level=l;e._root=u;e._tail=h;e.__hash=undefined;e.__altered=true;return e}return Rt(a,s,l,u,h)}function Ft(e,t,n){var r=[];var i=0;for(var o=0;o<n.length;o++){var a=n[o];var s=u(a);if(s.size>i)i=s.size;if(!c(a))s=s.map(function(e){return pe(e)});r.push(s)}if(i>e.size)e=e.setSize(i);return gt(e,t,r)}function Kt(e){return e<m?0:e-1>>>b<<b}function Ut(t){return t===null||t===undefined?zt():Vt(t)?t:zt().withMutations(function(n){var e=s(t);Ve(e.size);e.forEach(function(e,t){return n.set(t,e)})})}function Vt(e){return ze(e)&&h(e)}function Ht(e,t,n,r){var i=Object.create(Ut.prototype);i.size=e?e.size:0;i._map=e;i._list=t;i.__ownerID=n;i.__hash=r;return i}function zt(){return It||(It=Ht(it(),Bt()))}function qt(e,t,n){var r=e._map;var i=e._list;var o=r.get(t);var a=o!==undefined;var s;var l;if(n===v){if(!a)return e;if(i.size>=m&&i.size>=r.size*2){l=i.filter(function(e,t){return e!==undefined&&o!==t});s=l.toKeyedSeq().map(function(e){return e[0]}).flip().toMap();if(e.__ownerID)s.__ownerID=l.__ownerID=e.__ownerID}else{s=r.remove(t);l=o===i.size-1?i.pop():i.set(o,undefined)}}else if(a){if(n===i.get(o)[1])return e;s=r;l=i.set(o,[t,n])}else{s=r.set(t,i.size);l=i.set(i.size,[t,n])}if(e.__ownerID){e.size=s.size;e._map=s;e._list=l;e.__hash=undefined;return e}return Ht(s,l)}function Gt(e,t){this._iter=e;this._useKeys=t;this.size=e.size}function Wt(e){this._iter=e;this.size=e.size}function Yt(e){this._iter=e;this.size=e.size}function Xt(e){this._iter=e;this.size=e.size}function Jt(i){var e=bn(i);e._iter=i;e.size=i.size;e.flip=function(){return i};e.reverse=function(){var e=i.reverse.apply(this);e.flip=function(){return i.reverse()};return e};e.has=function(e){return i.includes(e)};e.includes=function(e){return i.has(e)};e.cacheResult=_n;e.__iterateUncached=function(n,e){var r=this;return i.__iterate(function(e,t){return n(t,e,r)!==false},e)};e.__iteratorUncached=function(e,t){if(e===M){var n=i.__iterator(e,t);return new j(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1];e.value[1]=t}return e})}return i.__iterator(e===B?R:B,t)};return e}function Zt(o,a,s){var e=bn(o);e.size=o.size;e.has=function(e){return o.has(e)};e.get=function(e,t){var n=o.get(e,v);return n===v?t:a.call(s,n,e,o)};e.__iterateUncached=function(r,e){var i=this;return o.__iterate(function(e,t,n){return r(a.call(s,e,t,n),t,i)!==false},e)};e.__iteratorUncached=function(r,e){var i=o.__iterator(M,e);return new j(function(){var e=i.next();if(e.done)return e;var t=e.value;var n=t[0];return F(r,n,a.call(s,t[1],n,o),e)})};return e}function Qt(i,n){var e=bn(i);e._iter=i;e.size=i.size;e.reverse=function(){return i};if(i.flip)e.flip=function(){var e=Jt(i);e.reverse=function(){return i.flip()};return e};e.get=function(e,t){return i.get(n?e:-1-e,t)};e.has=function(e){return i.has(n?e:-1-e)};e.includes=function(e){return i.includes(e)};e.cacheResult=_n;e.__iterate=function(n,e){var r=this;return i.__iterate(function(e,t){return n(e,t,r)},!e)};e.__iterator=function(e,t){return i.__iterator(e,!t)};return e}function en(s,l,u,c){var e=bn(s);if(c){e.has=function(e){var t=s.get(e,v);return t!==v&&!!l.call(u,t,e,s)};e.get=function(e,t){var n=s.get(e,v);return n!==v&&l.call(u,n,e,s)?n:t}}e.__iterateUncached=function(r,e){var i=this;var o=0;s.__iterate(function(e,t,n){if(l.call(u,e,t,n)){o++;return r(e,c?t:o-1,i)}},e);return o};e.__iteratorUncached=function(i,e){var o=s.__iterator(M,e);var a=0;return new j(function(){while(true){var e=o.next();if(e.done)return e;var t=e.value;var n=t[0];var r=t[1];if(l.call(u,r,n,s))return F(i,c?n:a++,r,e)}})};return e}function tn(n,r,i){var o=He().asMutable();n.__iterate(function(e,t){o.update(r.call(i,e,t,n),0,function(e){return e+1})});return o.asImmutable()}function nn(r,e,i){var o=d(r);var a=(h(r)?Ut():He()).asMutable();r.__iterate(function(t,n){a.update(e.call(i,t,n,r),function(e){return e=e||[],e.push(o?[n,t]:t),e})});var t=vn(r);return a.map(function(e){return gn(r,t(e))})}function rn(s,e,t,l){var n=s.size;if(e!==undefined)e=e|0;if(t!==undefined)t=t|0;if(x(e,t,n))return s;var u=A(e,n);var r=I(t,n);if(u!==u||r!==r)return rn(s.toSeq().cacheResult(),e,t,l);var i=r-u;var c;if(i===i)c=i<0?0:i;var o=bn(s);o.size=c===0?c:s.size&&c||undefined;if(!l&&oe(s)&&c>=0)o.get=function(e,t){e=O(this,e);return e>=0&&e<c?s.get(e+u,t):t};o.__iterateUncached=function(n,e){var r=this;if(c===0)return 0;if(e)return this.cacheResult().__iterate(n,e);var i=0;var o=true;var a=0;s.__iterate(function(e,t){if(!(o&&(o=i++<u))){a++;return n(e,l?t:a-1,r)!==false&&a!==c}});return a};o.__iteratorUncached=function(t,e){if(c!==0&&e)return this.cacheResult().__iterator(t,e);var n=c!==0&&s.__iterator(t,e);var r=0;var i=0;return new j(function(){while(r++<u)n.next();if(++i>c)return K();var e=n.next();if(l||t===B)return e;else if(t===R)return F(t,i-1,undefined,e);else return F(t,i-1,e.value[1],e)})};return o}function on(t,l,u){var e=bn(t);e.__iterateUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterate(r,e);var o=0;t.__iterate(function(e,t,n){return l.call(u,e,t,n)&&++o&&r(e,t,i)});return o};e.__iteratorUncached=function(i,e){var o=this;if(e)return this.cacheResult().__iterator(i,e);var a=t.__iterator(M,e);var s=true;return new j(function(){if(!s)return K();var e=a.next();if(e.done)return e;var t=e.value;var n=t[0];var r=t[1];if(!l.call(u,r,n,o)){s=false;return K()}return i===M?e:F(i,n,r,e)})};return e}function an(t,u,c,d){var e=bn(t);e.__iterateUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterate(r,e);var o=true;var a=0;t.__iterate(function(e,t,n){if(!(o&&(o=u.call(c,e,t,n)))){a++;return r(e,d?t:a-1,i)}});return a};e.__iteratorUncached=function(i,e){var o=this;if(e)return this.cacheResult().__iterator(i,e);var a=t.__iterator(M,e);var s=true;var l=0;return new j(function(){var e,t,n;do{e=a.next();if(e.done)if(d||i===B)return e;else if(i===R)return F(i,l++,undefined,e);else return F(i,l++,e.value[1],e);var r=e.value;t=r[0];n=r[1];s&&(s=u.call(c,n,t,o))}while(s);return i===M?e:F(i,t,n,e)})};return e}function sn(e,t){var n=d(e);var r=[e].concat(t).map(function(e){if(!c(e))e=n?se(e):le(Array.isArray(e)?e:[e]);else if(n)e=s(e);return e}).filter(function(e){return e.size!==0});if(r.length===0)return e;if(r.length===1){var i=r[0];if(i===e||n&&d(i)||f(e)&&f(i))return i}var o=new te(r);if(n)o=o.toKeyedSeq();else if(!f(e))o=o.toSetSeq();o=o.flatten(true);o.size=r.reduce(function(e,t){if(e!==undefined){var n=t.size;if(n!==undefined)return e+n}},0);return o}function ln(e,l,u){var t=bn(e);t.__iterateUncached=function(i,t){var o=0;var a=false;function s(e,n){var r=this;e.__iterate(function(e,t){if((!l||n<l)&&c(e))s(e,n+1);else if(i(e,u?t:o++,r)===false)a=true;return!a},t)}s(e,0);return o};t.__iteratorUncached=function(n,r){var i=e.__iterator(n,r);var o=[];var a=0;return new j(function(){while(i){var e=i.next();if(e.done!==false){i=o.pop();continue}var t=e.value;if(n===M)t=t[1];if((!l||o.length<l)&&c(t)){o.push(i);i=t.__iterator(n,r)}else return u?e:F(n,a++,t,e)}return K()})};return t}function un(n,r,i){var o=vn(n);return n.toSeq().map(function(e,t){return o(r.call(i,e,t,n))}).flatten(true)}function cn(o,a){var e=bn(o);e.size=o.size&&o.size*2-1;e.__iterateUncached=function(n,e){var r=this;var i=0;o.__iterate(function(e,t){return(!i||n(a,i++,r)!==false)&&n(e,i++,r)!==false},e);return i};e.__iteratorUncached=function(e,t){var n=o.__iterator(B,t);var r=0;var i;return new j(function(){if(!i||r%2){i=n.next();if(i.done)return i}return r%2?F(e,r++,a):F(e,r++,i.value,i)})};return e}function dn(n,r,i){if(!r)r=wn;var e=d(n);var o=0;var a=n.toSeq().map(function(e,t){return[t,e,o++,i?i(e,t,n):e]}).toArray();a.sort(function(e,t){return r(e[3],t[3])||e[2]-t[2]}).forEach(e?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]});return e?W(a):f(n)?Y(a):X(a)}function fn(n,r,i){if(!r)r=wn;if(i){var e=n.toSeq().map(function(e,t){return[e,i(e,t,n)]}).reduce(function(e,t){return pn(r,e[1],t[1])?t:e});return e&&e[0]}else return n.reduce(function(e,t){return pn(r,e,t)?t:e})}function pn(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n===undefined||n===null||n!==n)||r>0}function hn(e,a,s){var t=bn(e);t.size=new te(s).map(function(e){return e.size}).min();t.__iterate=function(e,t){var n=this.__iterator(B,t);var r;var i=0;while(!(r=n.next()).done)if(e(r.value,i++,this)===false)break;return i};t.__iteratorUncached=function(t,n){var r=s.map(function(e){return e=l(e),H(n?e.reverse():e)});var i=0;var o=false;return new j(function(){var e;if(!o){e=r.map(function(e){return e.next()});o=e.some(function(e){return e.done})}if(o)return K();return F(t,i++,a.apply(null,e.map(function(e){return e.value})))})};return t}function gn(e,t){return oe(e)?t:e.constructor(t)}function mn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function yn(e){Ve(e.size);return k(e)}function vn(e){return d(e)?s:f(e)?u:i}function bn(e){return Object.create((d(e)?W:f(e)?Y:X).prototype)}function _n(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return G.prototype.cacheResult.call(this)}function wn(e,t){return e>t?1:e<t?-1:0}function Sn(e){var t=H(e);if(!t){if(!q(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(l(e))}return t}function En(r,i){var o;var a=function e(t){if(t instanceof a)return t;if(!(this instanceof a))return new a(t);if(!o){o=true;var n=Object.keys(r);On(s,n);s.size=n.length;s._name=i;s._keys=n;s._defaultValues=r}this._map=He(t)};var s=a.prototype=Object.create(Cn);s.constructor=a;return a}e(Ut,He),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ut.prototype.get=function(e,t){var n=this._map.get(e);return n!==undefined?this._list.get(n)[1]:t},Ut.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zt()},Ut.prototype.set=function(e,t){return qt(this,e,t)},Ut.prototype.remove=function(e){return qt(this,e,v)},Ut.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ut.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Ut.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ut.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);var n=this._list.__ensureOwner(e);if(!e){this.__ownerID=e;this._map=t;this._list=n;return this}return Ht(t,n,e,this.__hash)},Ut.isOrderedMap=Vt,Ut.prototype[a]=true,Ut.prototype[g]=Ut.prototype.remove,e(Gt,W),Gt.prototype.get=function(e,t){return this._iter.get(e,t)},Gt.prototype.has=function(e){return this._iter.has(e)},Gt.prototype.valueSeq=function(){return this._iter.valueSeq()},Gt.prototype.reverse=function(){var e=this;var t=Qt(this,true);if(!this._useKeys)t.valueSeq=function(){return e._iter.toSeq().reverse()};return t},Gt.prototype.map=function(e,t){var n=this;var r=Zt(this,e,t);if(!this._useKeys)r.valueSeq=function(){return n._iter.toSeq().map(e,t)};return r},Gt.prototype.__iterate=function(n,t){var r=this;var i;return this._iter.__iterate(this._useKeys?function(e,t){return n(e,t,r)}:(i=t?yn(this):0,function(e){return n(e,t?--i:i++,r)}),t)},Gt.prototype.__iterator=function(t,n){if(this._useKeys)return this._iter.__iterator(t,n);var r=this._iter.__iterator(B,n);var i=n?yn(this):0;return new j(function(){var e=r.next();return e.done?e:F(t,n?--i:i++,e.value,e)})},Gt.prototype[a]=true,e(Wt,Y),Wt.prototype.includes=function(e){return this._iter.includes(e)},Wt.prototype.__iterate=function(t,e){var n=this;var r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},Wt.prototype.__iterator=function(t,e){var n=this._iter.__iterator(B,e);var r=0;return new j(function(){var e=n.next();return e.done?e:F(t,r++,e.value,e)})},e(Yt,X),Yt.prototype.has=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Yt.prototype.__iterator=function(t,e){var n=this._iter.__iterator(B,e);return new j(function(){var e=n.next();return e.done?e:F(t,e.value,e.value,e)})},e(Xt,W),Xt.prototype.entrySeq=function(){return this._iter.toSeq()},Xt.prototype.__iterate=function(n,e){var r=this;return this._iter.__iterate(function(e){if(e){mn(e);var t=c(e);return n(t?e.get(1):e[1],t?e.get(0):e[0],r)}},e)},Xt.prototype.__iterator=function(r,e){var i=this._iter.__iterator(B,e);return new j(function(){while(true){var e=i.next();if(e.done)return e;var t=e.value;if(t){mn(t);var n=c(t);return F(r,n?t.get(0):t[0],n?t.get(1):t[1],e)}}})},Wt.prototype.cacheResult=Gt.prototype.cacheResult=Yt.prototype.cacheResult=Xt.prototype.cacheResult=_n,e(En,Ee),En.prototype.toString=function(){return this.__toString(kn(this)+" {","}")},En.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},En.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},En.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var e=this.constructor;return e._empty||(e._empty=$n(this,it()))},En.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+kn(this));var n=this._map&&this._map.set(e,t);if(this.__ownerID||n===this._map)return this;return $n(this,n)},En.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);if(this.__ownerID||t===this._map)return this;return $n(this,t)},En.prototype.wasAltered=function(){return this._map.wasAltered()},En.prototype.__iterator=function(e,t){var n=this;return s(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},En.prototype.__iterate=function(e,t){var n=this;return s(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},En.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);if(!e){this.__ownerID=e;this._map=t;return this}return $n(this,t,e)};var Cn=En.prototype;function $n(e,t,n){var r=Object.create(Object.getPrototypeOf(e));r._map=t;r.__ownerID=n;return r}function kn(e){return e._name||e.constructor.name||"Record"}function On(e,t){try{t.forEach(Tn.bind(undefined,e))}catch(e){}}function Tn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){_e(this.__ownerID,"Cannot set on an immutable record.");this.set(t,e)}})}function xn(n){return n===null||n===undefined?Pn():An(n)&&!h(n)?n:Pn().withMutations(function(t){var e=i(n);Ve(e.size);e.forEach(function(e){return t.add(e)})})}function An(e){return!!(e&&e[In])}Cn[g]=Cn.remove,Cn.deleteIn=Cn.removeIn=Ge.removeIn,Cn.merge=Ge.merge,Cn.mergeWith=Ge.mergeWith,Cn.mergeIn=Ge.mergeIn,Cn.mergeDeep=Ge.mergeDeep,Cn.mergeDeepWith=Ge.mergeDeepWith,Cn.mergeDeepIn=Ge.mergeDeepIn,Cn.setIn=Ge.setIn,Cn.update=Ge.update,Cn.updateIn=Ge.updateIn,Cn.withMutations=Ge.withMutations,Cn.asMutable=Ge.asMutable,Cn.asImmutable=Ge.asImmutable,e(xn,$e),xn.of=function(){return this(arguments)},xn.fromKeys=function(e){return this(s(e).keySeq())},xn.prototype.toString=function(){return this.__toString("Set {","}")},xn.prototype.has=function(e){return this._map.has(e)},xn.prototype.add=function(e){return Bn(this,this._map.set(e,true))},xn.prototype.remove=function(e){return Bn(this,this._map.remove(e))},xn.prototype.clear=function(){return Bn(this,this._map.clear())},xn.prototype.union=function(){var n=r.call(arguments,0);n=n.filter(function(e){return e.size!==0});if(n.length===0)return this;if(this.size===0&&!this.__ownerID&&n.length===1)return this.constructor(n[0]);return this.withMutations(function(t){for(var e=0;e<n.length;e++)i(n[e]).forEach(function(e){return t.add(e)})})},xn.prototype.intersect=function(){var n=r.call(arguments,0);if(n.length===0)return this;n=n.map(function(e){return i(e)});var t=this;return this.withMutations(function(e){t.forEach(function(t){if(!n.every(function(e){return e.includes(t)}))e.remove(t)})})},xn.prototype.subtract=function(){var n=r.call(arguments,0);if(n.length===0)return this;n=n.map(function(e){return i(e)});var t=this;return this.withMutations(function(e){t.forEach(function(t){if(n.some(function(e){return e.includes(t)}))e.remove(t)})})},xn.prototype.merge=function(){return this.union.apply(this,arguments)},xn.prototype.mergeWith=function(e){var t=r.call(arguments,1);return this.union.apply(this,t)},xn.prototype.sort=function(e){return Ln(dn(this,e))},xn.prototype.sortBy=function(e,t){return Ln(dn(this,t,e))},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterate=function(n,e){var r=this;return this._map.__iterate(function(e,t){return n(t,t,r)},e)},xn.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);if(!e){this.__ownerID=e;this._map=t;return this}return this.__make(t,e)},xn.isSet=An;var In="@@__IMMUTABLE_SET__@@",Dn=xn.prototype,Rn;function Bn(e,t){if(e.__ownerID){e.size=t.size;e._map=t;return e}return t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Mn(e,t){var n=Object.create(Dn);n.size=e?e.size:0;n._map=e;n.__ownerID=t;return n}function Pn(){return Rn||(Rn=Mn(it()))}function Ln(n){return n===null||n===undefined?Un():Nn(n)?n:Un().withMutations(function(t){var e=i(n);Ve(e.size);e.forEach(function(e){return t.add(e)})})}function Nn(e){return An(e)&&h(e)}Dn[In]=true,Dn[g]=Dn.remove,Dn.mergeDeep=Dn.merge,Dn.mergeDeepWith=Dn.mergeWith,Dn.withMutations=Ge.withMutations,Dn.asMutable=Ge.asMutable,Dn.asImmutable=Ge.asImmutable,Dn.__empty=Pn,Dn.__make=Mn,e(Ln,xn),Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(s(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ln.isOrderedSet=Nn;var jn=Ln.prototype,Fn;function Kn(e,t){var n=Object.create(jn);n.size=e?e.size:0;n._map=e;n.__ownerID=t;return n}function Un(){return Fn||(Fn=Kn(zt()))}function Vn(e){return e===null||e===undefined?Yn():Hn(e)?e:Yn().unshiftAll(e)}function Hn(e){return!!(e&&e[zn])}jn[a]=true,jn.__empty=Un,jn.__make=Kn,e(Vn,Ce),Vn.of=function(){return this(arguments)},Vn.prototype.toString=function(){return this.__toString("Stack [","]")},Vn.prototype.get=function(e,t){var n=this._head;e=O(this,e);while(n&&e--)n=n.next;return n?n.value:t},Vn.prototype.peek=function(){return this._head&&this._head.value},Vn.prototype.push=function(){if(arguments.length===0)return this;var e=this.size+arguments.length;var t=this._head;for(var n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};if(this.__ownerID){this.size=e;this._head=t;this.__hash=undefined;this.__altered=true;return this}return Wn(e,t)},Vn.prototype.pushAll=function(e){e=u(e);if(e.size===0)return this;Ve(e.size);var t=this.size;var n=this._head;e.reverse().forEach(function(e){t++;n={value:e,next:n}});if(this.__ownerID){this.size=t;this._head=n;this.__hash=undefined;this.__altered=true;return this}return Wn(t,n)},Vn.prototype.pop=function(){return this.slice(1)},Vn.prototype.unshift=function(){return this.push.apply(this,arguments)},Vn.prototype.unshiftAll=function(e){return this.pushAll(e)},Vn.prototype.shift=function(){return this.pop.apply(this,arguments)},Vn.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return Yn()},Vn.prototype.slice=function(e,t){if(x(e,t,this.size))return this;var n=A(e,this.size);var r=I(t,this.size);if(r!==this.size)return Ce.prototype.slice.call(this,e,t);var i=this.size-n;var o=this._head;while(n--)o=o.next;if(this.__ownerID){this.size=i;this._head=o;this.__hash=undefined;this.__altered=true;return this}return Wn(i,o)},Vn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;if(!e){this.__ownerID=e;this.__altered=false;return this}return Wn(this.size,this._head,e,this.__hash)},Vn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);var n=0;var r=this._head;while(r){if(e(r.value,n++,this)===false)break;r=r.next}return n},Vn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0;var r=this._head;return new j(function(){if(r){var e=r.value;r=r.next;return F(t,n++,e)}return K()})},Vn.isStack=Hn;var zn="@@__IMMUTABLE_STACK__@@",qn=Vn.prototype,Gn;function Wn(e,t,n,r){var i=Object.create(qn);i.size=e;i._head=t;i.__ownerID=n;i.__hash=r;i.__altered=false;return i}function Yn(){return Gn||(Gn=Wn(0))}function Xn(t,n){var e=function(e){t.prototype[e]=n[e]};Object.keys(n).forEach(e);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(e);return t}qn[zn]=true,qn.withMutations=Ge.withMutations,qn.asMutable=Ge.asMutable,qn.asImmutable=Ge.asImmutable,qn.wasAltered=Ge.wasAltered,l.Iterator=j,Xn(l,{toArray:function(){Ve(this.size);var n=new Array(this.size||0);this.valueSeq().__iterate(function(e,t){n[t]=e});return n},toIndexedSeq:function(){return new Wt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&typeof e.toJS==="function"?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&typeof e.toJSON==="function"?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Gt(this,true)},toMap:function(){return He(this.toKeyedSeq())},toObject:function(){Ve(this.size);var n={};this.__iterate(function(e,t){n[t]=e});return n},toOrderedMap:function(){return Ut(this.toKeyedSeq())},toOrderedSet:function(){return Ln(d(this)?this.valueSeq():this)},toSet:function(){return xn(d(this)?this.valueSeq():this)},toSetSeq:function(){return new Yt(this)},toSeq:function(){return f(this)?this.toIndexedSeq():d(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vn(d(this)?this.valueSeq():this)},toList:function(){return Ct(d(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){if(this.size===0)return e+t;return e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=r.call(arguments,0);return gn(this,sn(this,e))},includes:function(t){return this.some(function(e){return ye(e,t)})},entries:function(){return this.__iterator(M)},every:function(r,i){Ve(this.size);var o=true;this.__iterate(function(e,t,n){if(!r.call(i,e,t,n)){o=false;return false}});return o},filter:function(e,t){return gn(this,en(this,e,t,true))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(r,i){var o;this.__iterate(function(e,t,n){if(r.call(i,e,t,n)){o=[t,e];return false}});return o},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){Ve(this.size);return this.__iterate(t?e.bind(t):e)},join:function(t){Ve(this.size);t=t!==undefined?""+t:",";var n="";var r=true;this.__iterate(function(e){r?r=false:n+=t;n+=e!==null&&e!==undefined?e.toString():""});return n},keys:function(){return this.__iterator(R)},map:function(e,t){return gn(this,Zt(this,e,t))},reduce:function(r,e,i){Ve(this.size);var o;var a;if(arguments.length<2)a=true;else o=e;this.__iterate(function(e,t,n){if(a){a=false;o=e}else o=r.call(i,o,e,t,n)});return o},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return gn(this,Qt(this,true))},slice:function(e,t){return gn(this,rn(this,e,t,true))},some:function(e,t){return!this.every(nr(e),t)},sort:function(e){return gn(this,dn(this,e))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ve(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(tr).toIndexedSeq();t.fromEntrySeq=function(){return e.toSeq()};return t},filterNot:function(e,t){return this.filter(nr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(T)},flatMap:function(e,t){return gn(this,un(this,e,t))},flatten:function(e){return gn(this,ln(this,e,true))},fromEntrySeq:function(){return new Xt(this)},get:function(n,e){return this.find(function(e,t){return ye(t,n)},undefined,e)},getIn:function(e,t){var n=this;var r=Sn(e);var i;while(!(i=r.next()).done){var o=i.value;n=n&&n.get?n.get(o,v):v;if(n===v)return t}return n},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(t){t=typeof t.includes==="function"?t:l(t);return this.every(function(e){return t.includes(e)})},isSuperset:function(e){e=typeof e.isSubset==="function"?e:l(e);return e.isSubset(this)},keySeq:function(){return this.toSeq().map(er).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return fn(this,e)},maxBy:function(e,t){return fn(this,t,e)},min:function(e){return fn(this,e?rr(e):ar)},minBy:function(e,t){return fn(this,t?rr(t):ar,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return gn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return gn(this,an(this,e,t,true))},skipUntil:function(e,t){return this.skipWhile(nr(e),t)},sortBy:function(e,t){return gn(this,dn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return gn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return gn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(nr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sr(this))}});var Jn=l.prototype;Jn[t]=true,Jn[N]=Jn.values,Jn.__toJS=Jn.toArray,Jn.__toStringMapper=ir,Jn.inspect=Jn.toSource=function(){return this.toString()},Jn.chain=Jn.flatMap,Jn.contains=Jn.includes,function(){try{Object.defineProperty(Jn,"length",{get:function(){if(!l.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(t.indexOf("_wrapObject")===-1){console&&console.warn&&console.warn("iterable.length has been deprecated, "+"use iterable.size or iterable.count(). "+"This warning will become a silent error in a future version. "+t);return this.size}}}})}catch(e){}}(),Xn(s,{flip:function(){return gn(this,Jt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(t){return this.findKey(function(e){return ye(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return ye(e,t)})},mapEntries:function(n,r){var i=this;var o=0;return gn(this,this.toSeq().map(function(e,t){return n.call(r,[t,e],o++,i)}).fromEntrySeq())},mapKeys:function(n,r){var i=this;return gn(this,this.toSeq().flip().map(function(e,t){return n.call(r,e,t,i)}).flip())}});var Zn=s.prototype,Qn;function er(e,t){return t}function tr(e,t){return[t,e]}function nr(e){return function(){return!e.apply(this,arguments)}}function rr(e){return function(){return-e.apply(this,arguments)}}function ir(e){return typeof e==="string"?JSON.stringify(e):e}function or(){return $(arguments)}function ar(e,t){return e<t?1:e>t?-1:0}function sr(e){if(e.size===Infinity)return 0;var t=h(e);var n=d(e);var r=t?1:0;var i=e.__iterate(n?t?function(e,t){r=31*r+ur(Te(e),Te(t))|0}:function(e,t){r=r+ur(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0});return lr(i,r)}function lr(e,t){t=ke(t,3432918353);t=ke(t<<15|t>>>-15,461845907);t=ke(t<<13|t>>>-13,5);t=(t+3864292196|0)^e;t=ke(t^t>>>16,2246822507);t=ke(t^t>>>13,3266489909);t=Oe(t^t>>>16);return t}function ur(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[n]=true,Zn[N]=Jn.entries,Zn.__toJS=Jn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+ir(e)},Xn(u,{toKeyedSeq:function(){return new Gt(this,false)},filter:function(e,t){return gn(this,en(this,e,t,false))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return t===undefined?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return t===undefined?-1:t},reverse:function(){return gn(this,Qt(this,false))},slice:function(e,t){return gn(this,rn(this,e,t,false))},splice:function(e,t){var n=arguments.length;t=Math.max(t|0,0);if(n===0||n===2&&!t)return this;e=A(e,e<0?this.count():this.size);var r=this.slice(0,e);return gn(this,n===1?r:r.concat($(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return n===undefined?-1:n},first:function(){return this.get(0)},flatten:function(e){return gn(this,ln(this,e,false))},get:function(n,e){n=O(this,n);return n<0||(this.size===Infinity||this.size!==undefined&&n>this.size)?e:this.find(function(e,t){return t===n},undefined,e)},has:function(e){e=O(this,e);return e>=0&&(this.size!==undefined?this.size===Infinity||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return gn(this,cn(this,e))},interleave:function(){var e=[this].concat($(arguments));var t=hn(this.toSeq(),Y.of,e);var n=t.flatten(true);if(t.size)n.size=t.size*e.length;return gn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return gn(this,an(this,e,t,false))},zip:function(){var e=[this].concat($(arguments));return gn(this,hn(this,or,e))},zipWith:function(e){var t=$(arguments);t[0]=this;return gn(this,hn(this,e,t))}}),u.prototype[o]=true,u.prototype[a]=true,Xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Jn.includes,Xn(W,s.prototype),Xn(Y,u.prototype),Xn(X,i.prototype),Xn(Ee,s.prototype),Xn(Ce,u.prototype),Xn($e,i.prototype),{Iterable:l,Seq:G,Collection:Se,Map:He,OrderedMap:Ut,List:Ct,Stack:Vn,Set:xn,OrderedSet:Ln,Record:En,Range:we,Repeat:be,is:ye,fromJS:pe}}();var Immutable$m=immutable.exports,OrderedMap$6=Immutable$m.OrderedMap,BlockMapBuilder$4={createFromArray:function(e){return OrderedMap$6(e.map(function(e){return[e.getKey(),e]}))}},BlockMapBuilder_1=BlockMapBuilder$4;function _inheritsLoose$5(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var _require$4=immutable.exports,Map$b=_require$4.Map,OrderedSet$6=_require$4.OrderedSet,Record$7=_require$4.Record,EMPTY_SET$3=OrderedSet$6(),defaultRecord$5={style:EMPTY_SET$3,entity:null},CharacterMetadataRecord=Record$7(defaultRecord$5),CharacterMetadata$b=function(e){function n(){return e.apply(this,arguments)||this}_inheritsLoose$5(n,e);var t=n.prototype;return t.getStyle=function(){return this.get("style")},t.getEntity=function(){return this.get("entity")},t.hasStyle=function(e){return this.getStyle().includes(e)},n.applyStyle=function(e,t){t=e.set("style",e.getStyle().add(t));return n.create(t)},n.removeStyle=function(e,t){t=e.set("style",e.getStyle().remove(t));return n.create(t)},n.applyEntity=function(e,t){t=e.getEntity()===t?e:e.set("entity",t);return n.create(t)},n.create=function(e){if(!e)return EMPTY;var t=Map$b({style:EMPTY_SET$3,entity:null}).merge(e),e=pool.get(t);if(e)return e;e=new n(t);return pool=pool.set(t,e),e},n.fromJS=function(e){var t=e.style,e=e.entity;return new n({style:Array.isArray(t)?OrderedSet$6(t):t,entity:Array.isArray(e)?OrderedSet$6(e):e})},n}(CharacterMetadataRecord),EMPTY=new CharacterMetadata$b,pool=Map$b([[Map$b(defaultRecord$5),EMPTY]]);CharacterMetadata$b.EMPTY=EMPTY;var CharacterMetadata_1=CharacterMetadata$b;function findRangesImmutable$5(e,r,i,o){var a;e.size&&(a=0,e.reduce(function(e,t,n){return r(e,t)||(i(e)&&o(a,n),a=n),t}),i(e.last())&&o(a,e.count()))}var findRangesImmutable_1=findRangesImmutable$5;function _inheritsLoose$4(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var CharacterMetadata$a=CharacterMetadata_1,findRangesImmutable$4=findRangesImmutable_1,Immutable$l=immutable.exports,List$c=Immutable$l.List,Map$a=Immutable$l.Map,OrderedSet$5=Immutable$l.OrderedSet,Record$6=Immutable$l.Record,Repeat$5=Immutable$l.Repeat,EMPTY_SET$2=OrderedSet$5(),defaultRecord$4={key:"",type:"unstyled",text:"",characterList:List$c(),depth:0,data:Map$a()},ContentBlockRecord$1=Record$6(defaultRecord$4),decorateCharacterList$1=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=List$c(Repeat$5(CharacterMetadata$a.EMPTY,n.length))),e},ContentBlock$6=function(t){function e(e){return t.call(this,decorateCharacterList$1(e))||this}_inheritsLoose$4(e,t);var n=e.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(e){e=this.getCharacterList().get(e);return e?e.getStyle():EMPTY_SET$2},n.getEntityAt=function(e){e=this.getCharacterList().get(e);return e?e.getEntity():null},n.findStyleRanges=function(e,t){findRangesImmutable$4(this.getCharacterList(),haveEqualStyle$1,e,t)},n.findEntityRanges=function(e,t){findRangesImmutable$4(this.getCharacterList(),haveEqualEntity$1,e,t)},e}(ContentBlockRecord$1);function haveEqualStyle$1(e,t){return e.getStyle()===t.getStyle()}function haveEqualEntity$1(e,t){return e.getEntity()===t.getEntity()}var ContentBlock_1=ContentBlock$6;function _inheritsLoose$3(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var CharacterMetadata$9=CharacterMetadata_1,findRangesImmutable$3=findRangesImmutable_1,Immutable$k=immutable.exports,List$b=Immutable$k.List,Map$9=Immutable$k.Map,OrderedSet$4=Immutable$k.OrderedSet,Record$5=Immutable$k.Record,Repeat$4=Immutable$k.Repeat,EMPTY_SET$1=OrderedSet$4(),defaultRecord$3={parent:null,characterList:List$b(),data:Map$9(),depth:0,key:"",text:"",type:"unstyled",children:List$b(),prevSibling:null,nextSibling:null},haveEqualStyle=function(e,t){return e.getStyle()===t.getStyle()},haveEqualEntity=function(e,t){return e.getEntity()===t.getEntity()},decorateCharacterList=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=List$b(Repeat$4(CharacterMetadata$9.EMPTY,n.length))),e},ContentBlockNode$b=function(e){function t(){return e.call(this,decorateCharacterList(0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultRecord$3))||this}_inheritsLoose$3(t,e);var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(e){e=this.getCharacterList().get(e);return e?e.getStyle():EMPTY_SET$1},n.getEntityAt=function(e){e=this.getCharacterList().get(e);return e?e.getEntity():null},n.getChildKeys=function(){return this.get("children")},n.getParentKey=function(){return this.get("parent")},n.getPrevSiblingKey=function(){return this.get("prevSibling")},n.getNextSiblingKey=function(){return this.get("nextSibling")},n.findStyleRanges=function(e,t){findRangesImmutable$3(this.getCharacterList(),haveEqualStyle,e,t)},n.findEntityRanges=function(e,t){findRangesImmutable$3(this.getCharacterList(),haveEqualEntity,e,t)},t}(Record$5(defaultRecord$3)),ContentBlockNode_1=ContentBlockNode$b,CharacterMetadata$8=CharacterMetadata_1,_require$3=immutable.exports,Map$8=_require$3.Map,ContentStateInlineStyle$1={add:function(e,t,n){return modifyInlineStyle(e,t,n,!0)},remove:function(e,t,n){return modifyInlineStyle(e,t,n,!1)}};function modifyInlineStyle(e,t,a,s){var n=e.getBlockMap(),l=t.getStartKey(),u=t.getStartOffset(),c=t.getEndKey(),d=t.getEndOffset(),r=n.skipUntil(function(e,t){return t===l}).takeUntil(function(e,t){return t===c}).concat(Map$8([[c,n.get(c)]])).map(function(e,t){for(var n,r,i=l===c?(n=u,d):(n=t===l?u:0,t===c?d:e.getLength()),o=e.getCharacterList();n<i;)r=o.get(n),o=o.set(n,s?CharacterMetadata$8.applyStyle(r,a):CharacterMetadata$8.removeStyle(r,a)),n++;return e.set("characterList",o)});return e.merge({blockMap:n.merge(r),selectionBefore:t,selectionAfter:t})}var ContentStateInlineStyle_1=ContentStateInlineStyle$1,CharacterMetadata$7=CharacterMetadata_1;function applyEntityToContentBlock$1(e,t,n,r){for(var i=t,o=e.getCharacterList();i<n;)o=o.set(i,CharacterMetadata$7.applyEntity(o.get(i),r)),i++;return e.set("characterList",o)}var applyEntityToContentBlock_1=applyEntityToContentBlock$1,applyEntityToContentBlock=applyEntityToContentBlock$1,Immutable$j=immutable.exports;function applyEntityToContentState$1(e,t,r){var n=e.getBlockMap(),i=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),l=n.skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===a}).toOrderedMap().merge(Immutable$j.OrderedMap([[a,n.get(a)]])).map(function(e,t){var n=t===i?o:0,t=t===a?s:e.getLength();return applyEntityToContentBlock(e,n,t,r)});return e.merge({blockMap:n.merge(l),selectionBefore:t,selectionAfter:t})}var applyEntityToContentState_1=applyEntityToContentState$1,DraftEntitySegments$1={getRemovalRange:function(e,t,n,r,i){for(var o,a=(a=n.split(" ")).map(function(e,t){if("forward"===i){if(0<t)return" "+e}else if(t<a.length-1)return e+" ";return e}),s=r,l=null,u=null,c=0;c<a.length;c++){if(e<(o=s+a[c].length)&&s<t)u=(null!==l||(l=s),o);else if(null!==l)break;s=o}var d=r+n.length,f=l===r,n=u===d;return(!f&&n||f&&!n)&&("forward"===i?u!==d&&u++:l!==r&&l--),{start:l,end:u}}},DraftEntitySegments_1=DraftEntitySegments$1,validateFormat="production"!==process.env.NODE_ENV?function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")}:function(e){};function invariant$j(e,t){for(var n,r,i=arguments.length,o=new Array(2<i?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(validateFormat(t),!e)throw void 0===t?r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(n=0,(r=new Error(t.replace(/%s/g,function(){return String(o[n++])}))).name="Invariant Violation"),r.framesToPop=1,r}var invariant_1=invariant$j,invariant$i=invariant_1;function getRangesForDraftEntity$1(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length||("production"!==process.env.NODE_ENV?invariant$i(!1,"Entity key not found in this range."):invariant$i(!1)),n}var getRangesForDraftEntity_1=getRangesForDraftEntity$1,DraftEntitySegments=DraftEntitySegments_1,getRangesForDraftEntity=getRangesForDraftEntity$1,invariant$h=invariant_1;function getCharacterRemovalRange$1(e,t,n,r,i){var o=r.getStartOffset(),a=r.getEndOffset(),s=t.getEntityAt(o),l=n.getEntityAt(a-1);if(!s&&!l)return r;o=r;return s&&s===l?o=getEntityRemovalRange(e,t,o,i,s,!0,!0):s&&l?(a=getEntityRemovalRange(e,t,o,i,s,!1,!0),r=getEntityRemovalRange(e,n,o,i,l,!1,!1),o=o.merge({anchorOffset:a.getAnchorOffset(),focusOffset:r.getFocusOffset(),isBackward:!1})):s?(s=getEntityRemovalRange(e,t,o,i,s,!1,!0),o=o.merge({anchorOffset:s.getStartOffset(),isBackward:!1})):l&&(l=getEntityRemovalRange(e,n,o,i,l,!1,!1),o=o.merge({focusOffset:l.getEndOffset(),isBackward:!1})),o}function getEntityRemovalRange(e,t,n,r,i,o,a){var s=n.getStartOffset(),l=n.getEndOffset(),e=e.__get(i).getMutability(),u=a?s:l;if("MUTABLE"===e)return n;i=getRangesForDraftEntity(t,i).filter(function(e){return u<=e.end&&u>=e.start});1!=i.length&&("production"!==process.env.NODE_ENV?invariant$h(!1,"There should only be one entity range within this removal range."):invariant$h(!1));i=i[0];if("IMMUTABLE"===e)return n.merge({anchorOffset:i.start,focusOffset:i.end,isBackward:!1});o||(a?l=i.end:s=i.start);r=DraftEntitySegments.getRemovalRange(s,l,t.getText().slice(i.start,i.end),i.start,r);return n.merge({anchorOffset:r.start,focusOffset:r.end,isBackward:!1})}var getCharacterRemovalRange_1=getCharacterRemovalRange$1,seenKeys={},MULTIPLIER=Math.pow(2,24);function generateRandomKey$8(){for(var e;void 0===e||seenKeys.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*MULTIPLIER).toString(32);return seenKeys[e]=!0,e}var generateRandomKey_1=generateRandomKey$8,ContentBlockNode$a=ContentBlockNode_1,generateRandomKey$7=generateRandomKey_1,Immutable$i=immutable.exports,OrderedMap$5=Immutable$i.OrderedMap,randomizeContentBlockNodeKeys=function(e){var u,c={};return OrderedMap$5(e.withMutations(function(l){l.forEach(function(e,t){var n=e.getKey(),r=e.getNextSiblingKey(),i=e.getPrevSiblingKey(),o=e.getChildKeys(),a=e.getParentKey(),s=generateRandomKey$7();c[n]=s,r&&(l.get(r)?l.setIn([r,"prevSibling"],s):l.setIn([n,"nextSibling"],null)),i&&(l.get(i)?l.setIn([i,"nextSibling"],s):l.setIn([n,"prevSibling"],null)),a&&l.get(a)?(i=l.get(a).getChildKeys(),l.setIn([a,"children"],i.set(i.indexOf(e.getKey()),s))):(l.setIn([n,"parent"],null),u&&(l.setIn([u.getKey(),"nextSibling"],s),l.setIn([n,"prevSibling"],c[u.getKey()])),u=l.get(n)),o.forEach(function(t){l.get(t)?l.setIn([t,"parent"],s):l.setIn([n,"children"],e.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[c[e.getKey()],e.set("key",c[e.getKey()])]}))},randomizeContentBlockKeys=function(e){return OrderedMap$5(e.toArray().map(function(e){var t=generateRandomKey$7();return[t,e.set("key",t)]}))},randomizeBlockMapKeys$2=function(e){return(e.first()instanceof ContentBlockNode$a?randomizeContentBlockNodeKeys:randomizeContentBlockKeys)(e)},randomizeBlockMapKeys_1=randomizeBlockMapKeys$2,CharacterMetadata$6=CharacterMetadata_1,findRangesImmutable$2=findRangesImmutable_1,invariant$g=invariant_1;function removeEntitiesAtEdges$2(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),a=t.getStartOffset(),s=n.get(o),l=removeForBlock(r,s,a);l!==s&&(i[o]=l);var u=t.getEndKey(),a=t.getEndOffset(),s=n.get(u),a=removeForBlock(r,s=o===u?l:s,a);return a!==s&&(i[u]=a),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}function getRemovalRange(e,t,n){var r;return findRangesImmutable$2(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&n<=t&&(r={start:e,end:t})}),"object"!=typeof r&&("production"!==process.env.NODE_ENV?invariant$g(!1,"Removal range must exist within character list."):invariant$g(!1)),r}function removeForBlock(e,t,n){var r=t.getCharacterList(),i=0<n?r.get(n-1):void 0,o=n<r.count()?r.get(n):void 0,i=i?i.getEntity():void 0,o=o?o.getEntity():void 0;if(o&&o===i&&"MUTABLE"!==e.__get(o).getMutability()){for(var a,n=getRemovalRange(r,o,n),s=n.start,l=n.end;s<l;)a=r.get(s),r=r.set(s,CharacterMetadata$6.applyEntity(a,null)),s++;return t.set("characterList",r)}return t}var removeEntitiesAtEdges_1=removeEntitiesAtEdges$2,randomizeBlockMapKeys$1=randomizeBlockMapKeys_1,removeEntitiesAtEdges$1=removeEntitiesAtEdges_1,getContentStateFragment$1=function(e,t){var i=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),n=removeEntitiesAtEdges$1(e,t).getBlockMap(),e=n.keySeq(),t=e.indexOf(i),e=e.indexOf(a)+1;return randomizeBlockMapKeys$1(n.slice(t,e).map(function(e,t){var n=e.getText(),r=e.getCharacterList();return i===a?e.merge({text:n.slice(o,s),characterList:r.slice(o,s)}):t===i?e.merge({text:n.slice(o),characterList:r.slice(o)}):t===a?e.merge({text:n.slice(0,s),characterList:r.slice(0,s)}):e}))},getContentStateFragment_1=getContentStateFragment$1;function insertIntoList$2(e,t,n){var r=e;return n===r.count()?t.forEach(function(e){r=r.push(e)}):0===n?t.reverse().forEach(function(e){r=r.unshift(e)}):(e=r.slice(0,n),n=r.slice(n),r=e.concat(t,n).toList()),r}var insertIntoList_1=insertIntoList$2,BlockMapBuilder$3=BlockMapBuilder_1,ContentBlockNode$9=ContentBlockNode_1,Immutable$h=immutable.exports,insertIntoList$1=insertIntoList_1,invariant$f=invariant_1,randomizeBlockMapKeys=randomizeBlockMapKeys_1,List$a=Immutable$h.List,updateExistingBlock=function(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",s=n.get(i),l=s.getText(),u=s.getCharacterList(),c=i,d=o+r.getText().length,f=null;switch(a){case"MERGE_OLD_DATA_TO_NEW_DATA":f=r.getData().merge(s.getData());break;case"REPLACE_WITH_NEW_DATA":f=r.getData()}a=s.getType();l&&"unstyled"===a&&(a=r.getType());a=s.merge({text:l.slice(0,o)+r.getText()+l.slice(o),characterList:insertIntoList$1(u,r.getCharacterList(),o),type:a,data:f});return e.merge({blockMap:n.set(i,a),selectionBefore:t,selectionAfter:t.merge({anchorKey:c,anchorOffset:d,focusKey:c,focusOffset:d,isBackward:!1})})},updateHead=function(e,t,n){var r=e.getText(),i=e.getCharacterList(),r=r.slice(0,t),t=i.slice(0,t),n=n.first();return e.merge({text:r+n.getText(),characterList:t.concat(n.getCharacterList()),type:(r?e:n).getType(),data:n.getData()})},updateTail=function(e,t,n){var r=e.getText(),i=e.getCharacterList(),e=r.length,r=r.slice(t,e),e=i.slice(t,e),n=n.last();return n.merge({text:n.getText()+r,characterList:n.getCharacterList().concat(e),data:n.getData()})},getRootBlocks=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i},updateBlockMapLinks$3=function(s,e,l,u){return s.withMutations(function(t){var e=l.getKey(),n=u.getKey(),r=l.getNextSiblingKey(),i=l.getParentKey(),o=getRootBlocks(u,s),a=o[o.length-1];t.get(n)?(t.setIn([e,"nextSibling"],n),t.setIn([n,"prevSibling"],e)):(t.setIn([e,"nextSibling"],u.getNextSiblingKey()),t.setIn([u.getNextSiblingKey(),"prevSibling"],e)),t.setIn([a,"nextSibling"],r),r&&t.setIn([r,"prevSibling"],a),o.forEach(function(e){return t.setIn([e,"parent"],i)}),i&&(e=(a=s.get(i).getChildKeys()).indexOf(e)+1,(a=a.toArray()).splice.apply(a,[e,0].concat(o)),t.setIn([i,"children"],List$a(a)))})},insertFragment=function(e,t,n,r,i,o){var a=n.first()instanceof ContentBlockNode$9,s=[],l=r.size,u=n.get(i),c=r.first(),d=r.last(),f=d.getLength(),p=d.getKey(),h=a&&(!u.getChildKeys().isEmpty()||!c.getChildKeys().isEmpty());n.forEach(function(e,t){t===i?(h?s.push(e):s.push(updateHead(e,o,r)),r.slice(h?0:1,l-1).forEach(function(e){return s.push(e)}),s.push(updateTail(e,o,r))):s.push(e)});d=BlockMapBuilder$3.createFromArray(s);return a&&(d=updateBlockMapLinks$3(d,n,u,c)),e.merge({blockMap:d,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:f,focusKey:p,focusOffset:f,isBackward:!1})})},insertFragmentIntoContentState$1=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||("production"!==process.env.NODE_ENV?invariant$f(!1,"`insertFragment` should only be called with a collapsed selection state."):invariant$f(!1));var i=e.getBlockMap(),o=randomizeBlockMapKeys(n),a=t.getStartKey(),s=t.getStartOffset(),l=i.get(a);return l instanceof ContentBlockNode$9&&(l.getChildKeys().isEmpty()||("production"!==process.env.NODE_ENV?invariant$f(!1,"`insertFragment` should not be called when a container node is selected."):invariant$f(!1))),1===o.size?updateExistingBlock(e,t,i,o.first(),a,s,r):insertFragment(e,t,i,o,a,s)},insertFragmentIntoContentState_1=insertFragmentIntoContentState$1,Immutable$g=immutable.exports,insertIntoList=insertIntoList_1,invariant$e=invariant_1,Repeat$3=Immutable$g.Repeat;function insertTextIntoContentState$1(e,t,n,r){t.isCollapsed()||("production"!==process.env.NODE_ENV?invariant$e(!1,"`insertText` should only be called with a collapsed range."):invariant$e(!1));var i=null;if(null==(i=null!=n?n.length:i)||0===i)return e;var o=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),l=o.get(a),u=l.getText(),r=l.merge({text:u.slice(0,s)+n+u.slice(s,l.getLength()),characterList:insertIntoList(l.getCharacterList(),Repeat$3(r,i).toList(),s)}),i=s+i;return e.merge({blockMap:o.set(a,r),selectionAfter:t.merge({anchorOffset:i,focusOffset:i})})}var insertTextIntoContentState_1=insertTextIntoContentState$1,Immutable$f=immutable.exports,Map$7=Immutable$f.Map;function modifyBlockForContentState$2(e,t,n){var r=t.getStartKey(),i=t.getEndKey(),o=e.getBlockMap(),n=o.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===i}).concat(Map$7([[i,o.get(i)]])).map(n);return e.merge({blockMap:o.merge(n),selectionBefore:t,selectionAfter:t})}var modifyBlockForContentState_1=modifyBlockForContentState$2,ContentBlockNode$8=ContentBlockNode_1,getNextDelimiterBlockKey$2=function(e,t){if(!(e instanceof ContentBlockNode$8))return null;var n=e.getNextSiblingKey();if(n)return n;e=e.getParentKey();if(!e)return null;for(var r=t.get(e);r&&!r.getNextSiblingKey();)var i=r.getParentKey(),r=i?t.get(i):null;return r?r.getNextSiblingKey():null},getNextDelimiterBlockKey_1=getNextDelimiterBlockKey$2,ContentBlockNode$7=ContentBlockNode_1,getNextDelimiterBlockKey$1=getNextDelimiterBlockKey_1,Immutable$e=immutable.exports;Immutable$e.List;var Map$6=Immutable$e.Map,transformBlock$2=function(e,t,n){var r;!e||(r=t.get(e))&&t.set(e,n(r))},getAncestorsKeys=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},getNextDelimitersBlockKeys=function(e,t){var n=[];if(!e)return n;for(var r=getNextDelimiterBlockKey$1(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?getNextDelimiterBlockKey$1(i,t):null}return n},getNextValidSibling=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},getPrevValidSibling=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},updateBlockMapLinks$2=function(o,a,s,l){return o.withMutations(function(t){var n,e,r,i;transformBlock$2(a.getKey(),t,function(e){return e.merge({nextSibling:getNextValidSibling(e,t,l),prevSibling:getPrevValidSibling(e,t,l)})}),transformBlock$2(s.getKey(),t,function(e){return e.merge({nextSibling:getNextValidSibling(e,t,l),prevSibling:getPrevValidSibling(e,t,l)})}),getAncestorsKeys(a.getKey(),l).forEach(function(e){return transformBlock$2(e,t,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return t.get(e)}),nextSibling:getNextValidSibling(e,t,l),prevSibling:getPrevValidSibling(e,t,l)})})}),transformBlock$2(a.getNextSiblingKey(),t,function(e){return e.merge({prevSibling:a.getPrevSiblingKey()})}),transformBlock$2(a.getPrevSiblingKey(),t,function(e){return e.merge({nextSibling:getNextValidSibling(e,t,l)})}),transformBlock$2(s.getNextSiblingKey(),t,function(e){return e.merge({prevSibling:getPrevValidSibling(e,t,l)})}),transformBlock$2(s.getPrevSiblingKey(),t,function(e){return e.merge({nextSibling:s.getNextSiblingKey()})}),getAncestorsKeys(s.getKey(),l).forEach(function(e){transformBlock$2(e,t,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return t.get(e)}),nextSibling:getNextValidSibling(e,t,l),prevSibling:getPrevValidSibling(e,t,l)})})}),getNextDelimitersBlockKeys(s,l).forEach(function(e){return transformBlock$2(e,t,function(e){return e.merge({nextSibling:getNextValidSibling(e,t,l),prevSibling:getPrevValidSibling(e,t,l)})})}),null==o.get(a.getKey())&&null!=o.get(s.getKey())&&s.getParentKey()===a.getKey()&&null==s.getPrevSiblingKey()&&(n=a.getPrevSiblingKey(),transformBlock$2(s.getKey(),t,function(e){return e.merge({prevSibling:n})}),transformBlock$2(n,t,function(e){return e.merge({nextSibling:s.getKey()})}),e=n?o.get(n):null,r=e?e.getParentKey():null,a.getChildKeys().forEach(function(e){transformBlock$2(e,t,function(e){return e.merge({parent:r})})}),null!=r&&(i=o.get(r),transformBlock$2(r,t,function(e){return e.merge({children:i.getChildKeys().concat(a.getChildKeys())})})),transformBlock$2(a.getChildKeys().find(function(e){return null===o.get(e).getNextSiblingKey()}),t,function(e){return e.merge({nextSibling:a.getNextSiblingKey()})}))})},removeRangeFromContentState$1=function(e,t){if(t.isCollapsed())return e;var n,r=e.getBlockMap(),i=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),l=r.get(i),u=r.get(a),c=l instanceof ContentBlockNode$7,d=[];c&&(n=u.getChildKeys(),f=getAncestorsKeys(a,r),u.getNextSiblingKey()&&(d=d.concat(f)),d=(d=!n.isEmpty()?d.concat(f.concat([a])):d).concat(getAncestorsKeys(getNextDelimiterBlockKey$1(u,r),r)));var f=l===u?removeFromList(l.getCharacterList(),o,s):l.getCharacterList().slice(0,o).concat(u.getCharacterList().slice(s)),p=l.merge({text:l.getText().slice(0,o)+u.getText().slice(s),characterList:f}),s=c&&0===o&&0===s&&u.getParentKey()===i&&null==u.getPrevSiblingKey()?Map$6([[i,null]]):r.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===a}).filter(function(e,t){return-1===d.indexOf(t)}).concat(Map$6([[a,null]])).map(function(e,t){return t===i?p:null}),s=r.merge(s).filter(function(e){return!!e});return c&&l!==u&&(s=updateBlockMapLinks$2(s,l,u,r)),e.merge({blockMap:s,selectionBefore:t,selectionAfter:t.merge({anchorKey:i,anchorOffset:o,focusKey:i,focusOffset:o,isBackward:!1})})},removeFromList=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;t<n;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e},removeRangeFromContentState_1=removeRangeFromContentState$1,ContentBlockNode$6=ContentBlockNode_1,generateRandomKey$6=generateRandomKey_1,Immutable$d=immutable.exports,invariant$d=invariant_1,modifyBlockForContentState$1=modifyBlockForContentState_1,List$9=Immutable$d.List,Map$5=Immutable$d.Map,transformBlock$1=function(e,t,n){var r;!e||(r=t.get(e))&&t.set(e,n(r))},updateBlockMapLinks$1=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),i=n.getKey();transformBlock$1(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,t=t.toArray();return t.splice(n,0,i),e.merge({children:List$9(t)})}),transformBlock$1(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:i})}),transformBlock$1(r,e,function(e){return e.merge({nextSibling:i})}),transformBlock$1(i,e,function(e){return e.merge({prevSibling:r})})})},splitBlockInContentState$1=function(e,t){t.isCollapsed()||("production"!==process.env.NODE_ENV?invariant$d(!1,"Selection range must be collapsed."):invariant$d(!1));var n=t.getAnchorKey(),r=e.getBlockMap(),i=r.get(n),o=i.getText();if(!o){var a=i.getType();if("unordered-list-item"===a||"ordered-list-item"===a)return modifyBlockForContentState$1(e,t,function(e){return e.merge({type:"unstyled",depth:0})})}var s=t.getAnchorOffset(),l=i.getCharacterList(),u=generateRandomKey$6(),c=i instanceof ContentBlockNode$6,a=i.merge({text:o.slice(0,s),characterList:l.slice(0,s)}),l=a.merge({key:u,text:o.slice(s),characterList:l.slice(s),data:Map$5()}),s=r.toSeq().takeUntil(function(e){return e===i}),r=r.toSeq().skipUntil(function(e){return e===i}).rest(),r=s.concat([[n,a],[u,l]],r).toOrderedMap();return c&&(i.getChildKeys().isEmpty()||("production"!==process.env.NODE_ENV?invariant$d(!1,"ContentBlockNode must not have children"):invariant$d(!1)),r=updateBlockMapLinks$1(r,a,l)),e.merge({blockMap:r,selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0,isBackward:!1})})},splitBlockInContentState_1=splitBlockInContentState$1,CharacterMetadata$5=CharacterMetadata_1,ContentStateInlineStyle=ContentStateInlineStyle_1,applyEntityToContentState=applyEntityToContentState_1,getCharacterRemovalRange=getCharacterRemovalRange_1,getContentStateFragment=getContentStateFragment_1,Immutable$c=immutable.exports,insertFragmentIntoContentState=insertFragmentIntoContentState_1,insertTextIntoContentState=insertTextIntoContentState_1,invariant$c=invariant_1,modifyBlockForContentState=modifyBlockForContentState_1,removeEntitiesAtEdges=removeEntitiesAtEdges_1,removeRangeFromContentState=removeRangeFromContentState_1,splitBlockInContentState=splitBlockInContentState_1,OrderedSet$3=Immutable$c.OrderedSet,DraftModifier$3={replaceText:function(e,t,n,r,i){e=removeEntitiesAtEdges(e,t),t=removeRangeFromContentState(e,t),i=CharacterMetadata$5.create({style:r||OrderedSet$3(),entity:i||null});return insertTextIntoContentState(t,t.getSelectionAfter(),n,i)},insertText:function(e,t,n,r,i){return t.isCollapsed()||("production"!==process.env.NODE_ENV?invariant$c(!1,"Target range must be collapsed for `insertText`."):invariant$c(!1)),DraftModifier$3.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=getContentStateFragment(e,t),t=DraftModifier$3.removeRange(e,t,"backward");return DraftModifier$3.replaceWithFragment(t,n,r)},replaceWithFragment:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=removeEntitiesAtEdges(e,t),i=removeRangeFromContentState(i,t);return insertFragmentIntoContentState(i,i.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r=(t=t.getIsBackward()?t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1}):t).getAnchorKey(),i=t.getFocusKey(),o=e.getBlockForKey(r),a=e.getBlockForKey(i),s=t.getStartOffset(),l=t.getEndOffset(),s=o.getEntityAt(s),l=a.getEntityAt(l-1);if(r===i&&s&&s===l){n=getCharacterRemovalRange(e.getEntityMap(),o,a,t,n);return removeRangeFromContentState(e,n)}e=removeEntitiesAtEdges(e,t);return removeRangeFromContentState(e,t)},splitBlock:function(e,t){e=removeEntitiesAtEdges(e,t),t=removeRangeFromContentState(e,t);return splitBlockInContentState(t,t.getSelectionAfter())},applyInlineStyle:function(e,t,n){return ContentStateInlineStyle.add(e,t,n)},removeInlineStyle:function(e,t,n){return ContentStateInlineStyle.remove(e,t,n)},setBlockType:function(e,t,n){return modifyBlockForContentState(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return modifyBlockForContentState(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return modifyBlockForContentState(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){e=removeEntitiesAtEdges(e,t);return applyEntityToContentState(e,t,n)}},DraftModifier_1=DraftModifier$3;function getOwnObjectValues$2(t){return Object.keys(t).map(function(e){return t[e]})}var getOwnObjectValues_1=getOwnObjectValues$2;function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$b(t,e,n[e])})}return t}function _defineProperty$b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}var findRangesImmutable$1=findRangesImmutable_1,getOwnObjectValues$1=getOwnObjectValues_1,Immutable$b=immutable.exports,List$8=Immutable$b.List,Repeat$2=Immutable$b.Repeat,Record$4=Immutable$b.Record,returnTrue=function(){return!0},defaultLeafRange={start:null,end:null},LeafRange=Record$4(defaultLeafRange),defaultDecoratorRange={start:null,end:null,decoratorKey:null,leaves:null},DecoratorRange=Record$4(defaultDecoratorRange),BlockTree$1={generate:function(e,t,n){var r=t.getLength();if(!r)return List$8.of(new DecoratorRange({start:0,end:0,decoratorKey:null,leaves:List$8.of(new LeafRange({start:0,end:0}))}));var i=[],o=n?n.getDecorations(t,e):List$8(Repeat$2(null,r)),a=t.getCharacterList();return findRangesImmutable$1(o,areEqual$1,returnTrue,function(e,t){i.push(new DecoratorRange({start:e,end:t,decoratorKey:o.get(e),leaves:generateLeaves(a.slice(e,t).toList(),e)}))}),List$8(i)},fromJS:function(e){var t=e.leaves,e=_objectWithoutPropertiesLoose(e,["leaves"]);return new DecoratorRange(_objectSpread$8({},e,{leaves:null!=t?List$8(Array.isArray(t)?t:getOwnObjectValues$1(t)).map(function(e){return LeafRange(e)}):null}))}};function generateLeaves(e,n){var r=[],e=e.map(function(e){return e.getStyle()}).toList();return findRangesImmutable$1(e,areEqual$1,returnTrue,function(e,t){r.push(new LeafRange({start:e+n,end:t+n}))}),List$8(r)}function areEqual$1(e,t){return e===t}var BlockTree_1=BlockTree$1;function _inheritsLoose$2(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var Immutable$a=immutable.exports,Record$3=Immutable$a.Record,DraftEntityInstanceRecord=Record$3({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),DraftEntityInstance$2=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose$2(t,e);var n=t.prototype;return n.getType=function(){return this.get("type")},n.getMutability=function(){return this.get("mutability")},n.getData=function(){return this.get("data")},t}(DraftEntityInstanceRecord),DraftEntityInstance_1=DraftEntityInstance$2;function uuid$1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}var uuid_1=uuid$1;function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$a(t,e,n[e])})}return t}function _defineProperty$a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DraftEntityInstance$1=DraftEntityInstance_1,Immutable$9=immutable.exports,invariant$b=invariant_1,uuid=uuid_1,Map$4=Immutable$9.Map,instances=Map$4(),instanceKey=uuid();function logWarning(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var DraftEntity$4={getLastCreatedEntityKey:function(){return logWarning("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),DraftEntity$4.__getLastCreatedEntityKey()},create:function(e,t,n){return logWarning("DraftEntity.create","contentState.createEntity"),DraftEntity$4.__create(e,t,n)},add:function(e){return logWarning("DraftEntity.add","contentState.addEntity"),DraftEntity$4.__add(e)},get:function(e){return logWarning("DraftEntity.get","contentState.getEntity"),DraftEntity$4.__get(e)},__getAll:function(){return instances},__loadWithEntities:function(e){instances=e,instanceKey=uuid()},mergeData:function(e,t){return logWarning("DraftEntity.mergeData","contentState.mergeEntityData"),DraftEntity$4.__mergeData(e,t)},replaceData:function(e,t){return logWarning("DraftEntity.replaceData","contentState.replaceEntityData"),DraftEntity$4.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return instanceKey},__create:function(e,t,n){return DraftEntity$4.__add(new DraftEntityInstance$1({type:e,mutability:t,data:n||{}}))},__add:function(e){return instanceKey=uuid(),instances=instances.set(instanceKey,e),instanceKey},__get:function(e){var t=instances.get(e);return t||("production"!==process.env.NODE_ENV?invariant$b(!1,"Unknown DraftEntity key: %s.",e):invariant$b(!1)),t},__mergeData:function(e,t){var n=DraftEntity$4.__get(e),t=_objectSpread$7({},n.getData(),t),t=n.set("data",t);return instances=instances.set(e,t),t},__replaceData:function(e,t){t=DraftEntity$4.__get(e).set("data",t);return instances=instances.set(e,t),t}},DraftEntity_1=DraftEntity$4;function _inheritsLoose$1(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var Immutable$8=immutable.exports,Record$2=Immutable$8.Record,defaultRecord$2={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},SelectionStateRecord=Record$2(defaultRecord$2),SelectionState$4=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose$1(t,e);var n=t.prototype;return n.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},n.getAnchorKey=function(){return this.get("anchorKey")},n.getAnchorOffset=function(){return this.get("anchorOffset")},n.getFocusKey=function(){return this.get("focusKey")},n.getFocusOffset=function(){return this.get("focusOffset")},n.getIsBackward=function(){return this.get("isBackward")},n.getHasFocus=function(){return this.get("hasFocus")},n.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset(),a=this.getEndOffset();return t<=o&&o<=n||t<=a&&a<=n}if(e!==r&&e!==i)return!1;r=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=r&&r<=n},n.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},n.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},n.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},n.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},n.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t}(SelectionStateRecord),SelectionState_1=SelectionState$4,gkx$4=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]},REGEX_BLOCK_DELIMITER=new RegExp("\r","g");function sanitizeDraftText$1(e){return e.replace(REGEX_BLOCK_DELIMITER,"")}var sanitizeDraftText_1=sanitizeDraftText$1;function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$9(t,e,n[e])})}return t}function _defineProperty$9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var BlockMapBuilder$2=BlockMapBuilder_1,CharacterMetadata$4=CharacterMetadata_1,ContentBlock$5=ContentBlock_1,ContentBlockNode$5=ContentBlockNode_1,DraftEntity$3=DraftEntity_1,SelectionState$3=SelectionState_1,generateRandomKey$5=generateRandomKey_1,getOwnObjectValues=getOwnObjectValues_1,gkx$3=gkx$4,Immutable$7=immutable.exports,sanitizeDraftText=sanitizeDraftText_1,List$7=Immutable$7.List,Record$1=Immutable$7.Record,Repeat$1=Immutable$7.Repeat,ImmutableMap=Immutable$7.Map,OrderedMap$4=Immutable$7.OrderedMap,defaultRecord$1={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},ContentStateRecord=Record$1(defaultRecord$1),ContentBlockNodeRecord=gkx$3("draft_tree_data_support")?ContentBlockNode$5:ContentBlock$5,ContentState$3=function(e){function r(){return e.apply(this,arguments)||this}_inheritsLoose(r,e);var t=r.prototype;return t.getEntityMap=function(){return DraftEntity$3},t.getBlockMap=function(){return this.get("blockMap")},t.getSelectionBefore=function(){return this.get("selectionBefore")},t.getSelectionAfter=function(){return this.get("selectionAfter")},t.getBlockForKey=function(e){return this.getBlockMap().get(e)},t.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},t.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},t.getBlockAfter=function(n){return this.getBlockMap().skipUntil(function(e,t){return t===n}).skip(1).first()},t.getBlockBefore=function(n){return this.getBlockMap().reverse().skipUntil(function(e,t){return t===n}).skip(1).first()},t.getBlocksAsArray=function(){return this.getBlockMap().toArray()},t.getFirstBlock=function(){return this.getBlockMap().first()},t.getLastBlock=function(){return this.getBlockMap().last()},t.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},t.getLastCreatedEntityKey=function(){return DraftEntity$3.__getLastCreatedEntityKey()},t.hasText=function(){var e=this.getBlockMap();return 1<e.size||0<escape(e.first().getText()).replace(/%u200B/g,"").length},t.createEntity=function(e,t,n){return DraftEntity$3.__create(e,t,n),this},t.mergeEntityData=function(e,t){return DraftEntity$3.__mergeData(e,t),this},t.replaceEntityData=function(e,t){return DraftEntity$3.__replaceData(e,t),this},t.addEntity=function(e){return DraftEntity$3.__add(e),this},t.getEntity=function(e){return DraftEntity$3.__get(e)},t.getAllEntities=function(){return DraftEntity$3.__getAll()},t.loadWithEntities=function(e){return DraftEntity$3.__loadWithEntities(e)},r.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,e=BlockMapBuilder$2.createFromArray(n),n=e.isEmpty()?new SelectionState$3:SelectionState$3.createEmpty(e.first().getKey());return new r({blockMap:e,entityMap:t||DraftEntity$3,selectionBefore:n,selectionAfter:n})},r.createFromText=function(e){var t=e.split(1<arguments.length&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g).map(function(e){return e=sanitizeDraftText(e),new ContentBlockNodeRecord({key:generateRandomKey$5(),text:e,type:"unstyled",characterList:List$7(Repeat$1(CharacterMetadata$4.EMPTY,e.length))})});return r.createFromBlockArray(t)},r.fromJS=function(e){return new r(_objectSpread$6({},e,{blockMap:OrderedMap$4(e.blockMap).map(r.createContentBlockFromJS),selectionBefore:new SelectionState$3(e.selectionBefore),selectionAfter:new SelectionState$3(e.selectionAfter)}))},r.createContentBlockFromJS=function(e){var t=e.characterList;return new ContentBlockNodeRecord(_objectSpread$6({},e,{data:ImmutableMap(e.data),characterList:null!=t?List$7((Array.isArray(t)?t:getOwnObjectValues(t)).map(function(e){return CharacterMetadata$4.fromJS(e)})):void 0}))},r}(ContentStateRecord),ContentState_1=ContentState$3,invariant$a=invariant_1,NEUTRAL="NEUTRAL",LTR="LTR",RTL="RTL",globalDir=null;function isStrong(e){return e===LTR||e===RTL}function getHTMLDir(e){return isStrong(e)||("production"!==process.env.NODE_ENV?invariant$a(!1,"`dir` must be a strong direction to be converted to HTML Direction"):invariant$a(!1)),e===LTR?"ltr":"rtl"}function getHTMLDirIfDifferent(e,t){return isStrong(e)||("production"!==process.env.NODE_ENV?invariant$a(!1,"`dir` must be a strong direction to be converted to HTML Direction"):invariant$a(!1)),isStrong(t)||("production"!==process.env.NODE_ENV?invariant$a(!1,"`otherDir` must be a strong direction to be converted to HTML Direction"):invariant$a(!1)),e===t?null:getHTMLDir(e)}function setGlobalDir(e){globalDir=e}function initGlobalDir(){setGlobalDir(LTR)}function getGlobalDir(){return globalDir||this.initGlobalDir(),globalDir||("production"!==process.env.NODE_ENV?invariant$a(!1,"Global direction not set."):invariant$a(!1)),globalDir}var UnicodeBidiDirection$2={NEUTRAL:NEUTRAL,LTR:LTR,RTL:RTL,isStrong:isStrong,getHTMLDir:getHTMLDir,getHTMLDirIfDifferent:getHTMLDirIfDifferent,setGlobalDir:setGlobalDir,initGlobalDir:initGlobalDir,getGlobalDir:getGlobalDir},UnicodeBidiDirection_1=UnicodeBidiDirection$2,UnicodeBidiDirection$1=UnicodeBidiDirection_1,invariant$9=invariant_1,RANGE_BY_BIDI_TYPE={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},REGEX_STRONG=new RegExp("["+RANGE_BY_BIDI_TYPE.L+RANGE_BY_BIDI_TYPE.R+RANGE_BY_BIDI_TYPE.AL+"]"),REGEX_RTL=new RegExp("["+RANGE_BY_BIDI_TYPE.R+RANGE_BY_BIDI_TYPE.AL+"]");function firstStrongChar(e){e=REGEX_STRONG.exec(e);return null==e?null:e[0]}function firstStrongCharDir(e){e=firstStrongChar(e);return null==e?UnicodeBidiDirection$1.NEUTRAL:REGEX_RTL.exec(e)?UnicodeBidiDirection$1.RTL:UnicodeBidiDirection$1.LTR}function resolveBlockDir(e,t){if(t=t||UnicodeBidiDirection$1.NEUTRAL,!e.length)return t;e=firstStrongCharDir(e);return e===UnicodeBidiDirection$1.NEUTRAL?t:e}function getDirection(e,t){return t=t||UnicodeBidiDirection$1.getGlobalDir(),UnicodeBidiDirection$1.isStrong(t)||("production"!==process.env.NODE_ENV?invariant$9(!1,"Fallback direction must be a strong direction"):invariant$9(!1)),resolveBlockDir(e,t)}function isDirectionLTR(e,t){return getDirection(e,t)===UnicodeBidiDirection$1.LTR}function isDirectionRTL(e,t){return getDirection(e,t)===UnicodeBidiDirection$1.RTL}var UnicodeBidi$1={firstStrongChar:firstStrongChar,firstStrongCharDir:firstStrongCharDir,resolveBlockDir:resolveBlockDir,getDirection:getDirection,isDirectionLTR:isDirectionLTR,isDirectionRTL:isDirectionRTL},UnicodeBidi_1=UnicodeBidi$1;function _defineProperty$8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bidiService,UnicodeBidi=UnicodeBidi$1,UnicodeBidiDirection=UnicodeBidiDirection_1,invariant$8=invariant_1,UnicodeBidiService$1=function(){function e(e){_defineProperty$8(this,"_defaultDir",void 0),_defineProperty$8(this,"_lastDir",void 0),e?UnicodeBidiDirection.isStrong(e)||("production"!==process.env.NODE_ENV?invariant$8(!1,"Default direction must be a strong direction (LTR or RTL)"):invariant$8(!1)):e=UnicodeBidiDirection.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=UnicodeBidi.getDirection(e,this._lastDir),this._lastDir},e}(),UnicodeBidiService_1=UnicodeBidiService$1,nullthrows$2=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")},nullthrows_1=nullthrows$2,UnicodeBidiService=UnicodeBidiService$1,Immutable$6=immutable.exports,nullthrows$1=nullthrows_1,OrderedMap$3=Immutable$6.OrderedMap,EditorBidiService$1={getDirectionMap:function(e,t){bidiService?bidiService.reset():bidiService=new UnicodeBidiService;var n=e.getBlockMap(),e=n.valueSeq().map(function(e){return nullthrows$1(bidiService).getDirection(e.getText())}),e=OrderedMap$3(n.keySeq().zip(e));return null!=t&&Immutable$6.is(t,e)?t:e}},EditorBidiService_1=EditorBidiService$1;function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$7(t,e,n[e])})}return t}function _defineProperty$7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BlockTree=BlockTree_1,ContentState$2=ContentState_1,EditorBidiService=EditorBidiService$1,SelectionState$2=SelectionState_1,Immutable$5=immutable.exports,OrderedSet$2=Immutable$5.OrderedSet,Record=Immutable$5.Record,Stack=Immutable$5.Stack,OrderedMap$2=Immutable$5.OrderedMap,List$6=Immutable$5.List,defaultRecord={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:Stack(),selection:null,treeMap:null,undoStack:Stack()},EditorStateRecord=Record(defaultRecord),EditorState$3=function(){u.createEmpty=function(e){return this.createWithText("",e)},u.createWithText=function(e,t){return u.createWithContent(ContentState$2.createFromText(e),t)},u.createWithContent=function(e,t){if(0===e.getBlockMap().count())return u.createEmpty(t);var n=e.getBlockMap().first().getKey();return u.create({currentContent:e,undoStack:Stack(),redoStack:Stack(),decorator:t||null,selection:SelectionState$2.createEmpty(n)})},u.create=function(e){var t=e.currentContent,t=_objectSpread$5({},e,{treeMap:generateNewTreeMap(t,e.decorator),directionMap:EditorBidiService.getDirectionMap(t)});return new u(new EditorStateRecord(t))},u.fromJS=function(e){return new u(new EditorStateRecord(_objectSpread$5({},e,{directionMap:null!=e.directionMap?OrderedMap$2(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?OrderedSet$2(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?ContentState$2.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?Stack(e.redoStack.map(function(e){return ContentState$2.fromJS(e)})):e.redoStack,selection:null!=e.selection?new SelectionState$2(e.selection):e.selection,treeMap:null!=e.treeMap?OrderedMap$2(e.treeMap).map(function(e){return List$6(e).map(function(e){return BlockTree.fromJS(e)})}):e.treeMap,undoStack:null!=e.undoStack?Stack(e.undoStack.map(function(e){return ContentState$2.fromJS(e)})):e.undoStack,currentContent:ContentState$2.fromJS(e.currentContent)})))},u.set=function(o,a){return new u(o.getImmutable().withMutations(function(e){var t=e.get("decorator"),n=t;null===a.decorator?n=null:a.decorator&&(n=a.decorator);var r,i=a.currentContent||o.getCurrentContent();n===t?(i!==o.getCurrentContent()&&e.set("treeMap",regenerateTreeForNewBlocks(o,i.getBlockMap(),i.getEntityMap(),n)),e.merge(a)):(r=e.get("treeMap"),i=n&&t?regenerateTreeForNewDecorator(i,i.getBlockMap(),r,n,t):generateNewTreeMap(i,n),e.merge({decorator:n,treeMap:i,nativelyRenderedContent:null}))}))};var e=u.prototype;function u(e){_defineProperty$7(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},u.setInlineStyleOverride=function(e,t){return u.set(e,{inlineStyleOverride:t})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),e=this.getSelection();return(e.isCollapsed()?getInlineStyleForCollapsedSelection:getInlineStyleForNonCollapsedSelection)(t,e)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},u.acceptSelection=function(e,t){return updateSelection(e,t,!1)},u.forceSelection=function(e,t){return updateSelection(e,t=!t.getHasFocus()?t.set("hasFocus",!0):t,!0)},u.moveSelectionToEnd=function(e){var t=e.getCurrentContent().getLastBlock(),n=t.getKey(),t=t.getLength();return u.acceptSelection(e,new SelectionState$2({anchorKey:n,anchorOffset:t,focusKey:n,focusOffset:t,isBackward:!1}))},u.moveFocusToEnd=function(e){e=u.moveSelectionToEnd(e);return u.forceSelection(e,e.getSelection())},u.push=function(e,t,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===t)return e;var i=EditorBidiService.getDirectionMap(t,e.getDirectionMap());if(!e.getAllowUndo())return u.set(e,{currentContent:t,directionMap:i,lastChangeType:n,selection:t.getSelectionAfter(),forceSelection:r,inlineStyleOverride:null});var o=e.getSelection(),a=e.getCurrentContent(),s=e.getUndoStack(),l=t;o!==a.getSelectionAfter()||mustBecomeBoundary(e,n)?(s=s.push(a),l=l.set("selectionBefore",o)):"insert-characters"!==n&&"backspace-character"!==n&&"delete-character"!==n||(l=l.set("selectionBefore",a.getSelectionBefore()));a=e.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(n)&&(a=null);a={currentContent:l,directionMap:i,undoStack:s,redoStack:Stack(),lastChangeType:n,selection:t.getSelectionAfter(),forceSelection:r,inlineStyleOverride:a};return u.set(e,a)},u.undo=function(e){if(!e.getAllowUndo())return e;var t=e.getUndoStack(),n=t.peek();if(!n)return e;var r=e.getCurrentContent(),i=EditorBidiService.getDirectionMap(n,e.getDirectionMap());return u.set(e,{currentContent:n,directionMap:i,undoStack:t.shift(),redoStack:e.getRedoStack().push(r),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:r.getSelectionBefore()})},u.redo=function(e){if(!e.getAllowUndo())return e;var t=e.getRedoStack(),n=t.peek();if(!n)return e;var r=e.getCurrentContent(),i=EditorBidiService.getDirectionMap(n,e.getDirectionMap());return u.set(e,{currentContent:n,directionMap:i,undoStack:e.getUndoStack().push(r),redoStack:t.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:n.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},u}();function updateSelection(e,t,n){return EditorState$3.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function generateNewTreeMap(t,n){return t.getBlockMap().map(function(e){return BlockTree.generate(t,e,n)}).toOrderedMap()}function regenerateTreeForNewBlocks(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),o=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==o.get(t)}).map(function(e){return BlockTree.generate(i,e,r)}))}function regenerateTreeForNewDecorator(t,e,n,r,i){return n.merge(e.toSeq().filter(function(e){return r.getDecorations(e,t)!==i.getDecorations(e,t)}).map(function(e){return BlockTree.generate(t,e,r)}))}function mustBecomeBoundary(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function getInlineStyleForCollapsedSelection(e,t){var n=t.getStartKey(),r=t.getStartOffset(),t=e.getBlockForKey(n);return 0<r?t.getInlineStyleAt(r-1):t.getLength()?t.getInlineStyleAt(0):lookUpwardForInlineStyle(e,n)}function getInlineStyleForNonCollapsedSelection(e,t){var n=t.getStartKey(),r=t.getStartOffset(),t=e.getBlockForKey(n);return r<t.getLength()?t.getInlineStyleAt(r):0<r?t.getInlineStyleAt(r-1):lookUpwardForInlineStyle(e,n)}function lookUpwardForInlineStyle(e,n){e=e.getBlockMap().reverse().skipUntil(function(e,t){return t===n}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return e?e.getInlineStyleAt(e.getLength()-1):OrderedSet$2()}var EditorState_1=EditorState$3,ContentBlockNode$4=ContentBlockNode_1,getNextDelimiterBlockKey=getNextDelimiterBlockKey_1,Immutable$4=immutable.exports,invariant$7=invariant_1,OrderedMap$1=Immutable$4.OrderedMap,List$5=Immutable$4.List,transformBlock=function(e,t,n){var r;!e||(r=t.get(e))&&t.set(e,n(r))},updateBlockMapLinks=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),s=n.getKey(),l=t.getParentKey(),u=t.getNextSiblingKey(),c=t.getPrevSiblingKey(),d=n.getParentKey(),f=o?n.getNextSiblingKey():s,p=o?s:n.getPrevSiblingKey();return e.withMutations(function(e){transformBlock(l,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})}),transformBlock(c,e,function(e){return e.merge({nextSibling:u})}),transformBlock(u,e,function(e){return e.merge({prevSibling:c})}),transformBlock(f,e,function(e){return e.merge({prevSibling:a})}),transformBlock(p,e,function(e){return e.merge({nextSibling:a})}),transformBlock(d,e,function(e){var t=e.getChildKeys(),n=t.indexOf(s),n=o?n+1:0!==n?n-1:0,t=t.toArray();return t.splice(n,0,a),e.merge({children:List$5(t)})}),transformBlock(a,e,function(e){return e.merge({nextSibling:f,prevSibling:p,parent:d})})})},moveBlockInContentState$1=function(e,n,t,r){"replace"===r&&("production"!==process.env.NODE_ENV?invariant$7(!1,"Replacing blocks is not supported."):invariant$7(!1));var i=t.getKey(),a=n.getKey();a===i&&("production"!==process.env.NODE_ENV?invariant$7(!1,"Block cannot be moved next to itself."):invariant$7(!1));var o=e.getBlockMap(),s=n instanceof ContentBlockNode$4,l=[n],u=o.delete(a);s&&(l=[],u=o.withMutations(function(t){var i=n.getNextSiblingKey(),o=getNextDelimiterBlockKey(n,t);t.toSeq().skipUntil(function(e){return e.getKey()===a}).takeWhile(function(e){var t=e.getKey(),n=t===a,r=i&&t!==i,t=!i&&e.getParentKey()&&(!o||t!==o);return!!(n||r||t)}).forEach(function(e){l.push(e),t.delete(e.getKey())})}));var c,d=u.toSeq().takeUntil(function(e){return e===t}),f=u.toSeq().skipUntil(function(e){return e===t}).skip(1),o=l.map(function(e){return[e.getKey(),e]}),u=OrderedMap$1();return"before"===r?((c=e.getBlockBefore(i))&&c.getKey()===n.getKey()&&("production"!==process.env.NODE_ENV?invariant$7(!1,"Block cannot be moved next to itself."):invariant$7(!1)),u=d.concat([].concat(o,[[i,t]]),f).toOrderedMap()):"after"===r&&((c=e.getBlockAfter(i))&&c.getKey()===a&&("production"!==process.env.NODE_ENV?invariant$7(!1,"Block cannot be moved next to itself."):invariant$7(!1)),u=d.concat([[i,t]].concat(o),f).toOrderedMap()),e.merge({blockMap:updateBlockMapLinks(u,n,t,r,s),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:a,focusKey:a})})},moveBlockInContentState_1=moveBlockInContentState$1;function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$6(t,e,n[e])})}return t}function _defineProperty$6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BlockMapBuilder$1=BlockMapBuilder_1,CharacterMetadata$3=CharacterMetadata_1,ContentBlock$4=ContentBlock_1,ContentBlockNode$3=ContentBlockNode_1,DraftModifier$2=DraftModifier_1,EditorState$2=EditorState_1,generateRandomKey$4=generateRandomKey_1,gkx$2=gkx$4,Immutable$3=immutable.exports,moveBlockInContentState=moveBlockInContentState_1,experimentalTreeDataSupport$2=gkx$2("draft_tree_data_support"),ContentBlockRecord=experimentalTreeDataSupport$2?ContentBlockNode$3:ContentBlock$4,List$4=Immutable$3.List,Repeat=Immutable$3.Repeat,AtomicBlockUtils$1={insertAtomicBlock:function(e,t,n){var r=e.getCurrentContent(),i=e.getSelection(),o=DraftModifier$2.removeRange(r,i,"backward"),r=o.getSelectionAfter(),o=DraftModifier$2.splitBlock(o,r),r=o.getSelectionAfter(),o=DraftModifier$2.setBlockType(o,r,"atomic"),t=CharacterMetadata$3.create({entity:t}),t={key:generateRandomKey$4(),type:"atomic",text:n,characterList:List$4(Repeat(t,n.length))},n={key:generateRandomKey$4(),type:"unstyled"};experimentalTreeDataSupport$2&&(t=_objectSpread$4({},t,{nextSibling:n.key}),n=_objectSpread$4({},n,{prevSibling:t.key}));n=[new ContentBlockRecord(t),new ContentBlockRecord(n)],n=BlockMapBuilder$1.createFromArray(n),n=DraftModifier$2.replaceWithFragment(o,r,n),n=n.merge({selectionBefore:i,selectionAfter:n.getSelectionAfter().set("hasFocus",!0)});return EditorState$2.push(e,n,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,o=e.getCurrentContent(),a=e.getSelection(),s=(s="before"===r||"after"===r?(i=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey()),moveBlockInContentState(o,t,i,r)):(o=(r=DraftModifier$2.removeRange(o,n,"backward")).getSelectionAfter(),n=r.getBlockForKey(o.getFocusKey()),0===o.getStartOffset()?moveBlockInContentState(r,t,n,"before"):o.getEndOffset()===n.getLength()?moveBlockInContentState(r,t,n,"after"):(s=(o=DraftModifier$2.splitBlock(r,o)).getSelectionAfter(),s=o.getBlockForKey(s.getFocusKey()),moveBlockInContentState(o,t,s,"before")))).merge({selectionBefore:a,selectionAfter:s.getSelectionAfter().set("hasFocus",!0)});return EditorState$2.push(e,s,"move-block")}},AtomicBlockUtils_1=AtomicBlockUtils$1;function _defineProperty$5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Immutable$2=immutable.exports,List$3=Immutable$2.List,DELIMITER=".",CompositeDraftDecorator$1=function(){function e(e){_defineProperty$5(this,"_decorators",void 0),this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(t,i){var o=Array(t.getText().length).fill(null);return this._decorators.forEach(function(e,n){var r=0;(0,e.strategy)(t,function(e,t){canOccupySlice(o,e,t)&&(occupySlice(o,e,t,n+DELIMITER+r),r++)},i)}),List$3(o)},t.getComponentForKey=function(e){e=parseInt(e.split(DELIMITER)[0],10);return this._decorators[e].component},t.getPropsForKey=function(e){e=parseInt(e.split(DELIMITER)[0],10);return this._decorators[e].props},e}();function canOccupySlice(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0}function occupySlice(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}var CompositeDraftDecorator_1=CompositeDraftDecorator$1;function cx$2(t){return("object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(replace):Array.prototype.map.call(arguments,replace)).join(" ")}function replace(e){return e.replace(/\//g,"-")}var cx_1=cx$2,React=require$$0,cx$1=cx_1,_require$2=immutable.exports,Map$3=_require$2.Map,UL_WRAP=React.createElement("ul",{className:cx$1("public/DraftStyleDefault/ul")}),OL_WRAP=React.createElement("ol",{className:cx$1("public/DraftStyleDefault/ol")}),PRE_WRAP=React.createElement("pre",{className:cx$1("public/DraftStyleDefault/pre")}),DefaultDraftBlockRenderMap$2=Map$3({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:UL_WRAP},"ordered-list-item":{element:"li",wrapper:OL_WRAP},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:PRE_WRAP},unstyled:{element:"div",aliasedElements:["p"]}}),DefaultDraftBlockRenderMap_1=DefaultDraftBlockRenderMap$2,DefaultDraftInlineStyle$1={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}},uaParser={exports:{}};!function(w,S){!function(i,d){function o(e,t){if("object"==typeof e&&(t=e,e=d),!(this instanceof o))return new o(e,t).getResult();var n=e||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?g.extend(v,t):v;return this.getBrowser=function(){var e={name:d,version:d};return m.rgx.call(e,n,r.browser),e.major=g.major(e.version),e},this.getCPU=function(){var e={architecture:d};return m.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:d,model:d,type:d};return m.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:d,version:d};return m.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:d,version:d};return m.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e==a&&255<e.length?g.trim(e,255):e,this},this.setUA(n),this}var a="string",e="model",t="name",n="type",r="vendor",s="version",l="architecture",u="console",c="mobile",f="tablet",p="smarttv",h="wearable",g={extend:function(e,t){var n,r={};for(n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return typeof e==a&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e==a?e.replace(/[^\d\.]/g,"").split(".")[0]:d},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},m={rgx:function(e,t){for(var n,r,i,o,a,s=0;s<t.length&&!o;){for(var l=t[s],u=t[s+1],c=n=0;c<l.length&&!o;)if(o=l[c++].exec(e))for(r=0;r<u.length;r++)a=o[++n],"object"==typeof(i=u[r])&&0<i.length?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,a):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=a?a.replace(i[1],i[2]):d:this[i[0]]=a?i[1].call(this,a,i[2]):d:4==i.length&&(this[i[0]]=a?i[3].call(this,a.replace(i[1],i[2])):d):this[i]=a||d;s+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(g.has(t[n][r],e))return"?"===n?d:n}else if(g.has(t[n],e))return"?"===n?d:n;return e}},y={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[s,[t,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[s,[t,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[t,s],[/opios[\/\s]+([\w\.]+)/i],[s,[t,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[s,[t,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[t,s],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[s,[t,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[s,[t,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[s,[t,"WeChat"]],[/konqueror\/([\w\.]+)/i],[s,[t,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[s,[t,"IE"]],[/yabrowser\/([\w\.]+)/i],[s,[t,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[t,/(.+)/,"$1 Secure Browser"],s],[/focus\/([\w\.]+)/i],[s,[t,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[s,[t,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[s,[t,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[s,[t,"Dolphin"]],[/coast\/([\w\.]+)/i],[s,[t,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[s,[t,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[s,[t,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[t,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[t,/(.+)/,"$1 Browser"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[t,/_/g," "],s],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[t,s],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[t],[/;fbav\/([\w\.]+);/i],[s,[t,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[t,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[t,s],[/\bgsa\/([\w\.]+)\s.*safari\//i],[s,[t,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[s,[t,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[t,"Chrome WebView"],s],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[s,[t,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[t,s],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[s,[t,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[s,t],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[t,[s,m.str,y.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[t,s],[/(navigator|netscape)\/([\w\.-]+)/i],[[t,"Netscape"],s],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[s,[t,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[t,s]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[l,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[l,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[l,/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[l,g.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[e,[r,"Samsung"],[n,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[e,[r,"Samsung"],[n,c]],[/\((ip(?:hone|od)[\s\w]*);/i],[e,[r,"Apple"],[n,c]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[e,[r,"Apple"],[n,f]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[e,[r,"Huawei"],[n,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[e,[r,"Huawei"],[n,c]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e,/_/g," "],[r,"Xiaomi"],[n,c]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[e,/_/g," "],[r,"Xiaomi"],[n,f]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[e,[r,"OPPO"],[n,c]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[e,[r,"Vivo"],[n,c]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[e,[r,"Realme"],[n,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[e,[r,"Motorola"],[n,c]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[r,"Motorola"],[n,f]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[e,[r,"LG"],[n,f]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[e,[r,"LG"],[n,c]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[e,[r,"Lenovo"],[n,f]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[e,/_/g," "],[r,"Nokia"],[n,c]],[/droid.+;\s(pixel\sc)[\s)]/i],[e,[r,"Google"],[n,f]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[e,[r,"Google"],[n,c]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[r,"Sony"],[n,c]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[e,"Xperia Tablet"],[r,"Sony"],[n,f]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[e,[r,"OnePlus"],[n,c]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[e,[r,"Amazon"],[n,f]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e,"Fire Phone"],[r,"Amazon"],[n,c]],[/\((playbook);[\w\s\),;-]+(rim)/i],[e,r,[n,f]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[e,[r,"BlackBerry"],[n,c]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[e,[r,"ASUS"],[n,f]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[e,[r,"ASUS"],[n,c]],[/(nexus\s9)/i],[e,[r,"HTC"],[n,f]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[r,[e,/_/g," "],[n,c]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[r,"Acer"],[n,f]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[e,[r,"Meizu"],[n,c]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[r,e,[n,c]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[r,e,[n,f]],[/\s(surface\sduo)\s/i],[e,[r,"Microsoft"],[n,f]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[e,[r,"Fairphone"],[n,c]],[/\s(u304aa)\sbuild/i],[e,[r,"AT&T"],[n,c]],[/sie-(\w*)/i],[e,[r,"Siemens"],[n,c]],[/[;\/]\s?(rct\w+)\sbuild/i],[e,[r,"RCA"],[n,f]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[e,[r,"Dell"],[n,f]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[e,[r,"Verizon"],[n,f]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[e,[r,"Barnes & Noble"],[n,f]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[e,[r,"NuVision"],[n,f]],[/;\s(k88)\sbuild/i],[e,[r,"ZTE"],[n,f]],[/;\s(nx\d{3}j)\sbuild/i],[e,[r,"ZTE"],[n,c]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[e,[r,"Swiss"],[n,c]],[/[;\/]\s?(zur\d{3})\sbuild/i],[e,[r,"Swiss"],[n,f]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[e,[r,"Zeki"],[n,f]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[r,"Dragon Touch"],e,[n,f]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[e,[r,"Insignia"],[n,f]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[e,[r,"NextBook"],[n,f]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[r,"Voice"],e,[n,c]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[r,"LvTel"],e,[n,c]],[/;\s(ph-1)\s/i],[e,[r,"Essential"],[n,c]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[e,[r,"Envizen"],[n,f]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[e,[r,"MachSpeed"],[n,f]],[/[;\/]\s?tu_(1491)\sbuild/i],[e,[r,"Rotor"],[n,f]],[/(shield[\w\s]+)\sbuild/i],[e,[r,"Nvidia"],[n,f]],[/(sprint)\s(\w+)/i],[r,e,[n,c]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[r,"Microsoft"],[n,c]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[e,[r,"Zebra"],[n,f]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[e,[r,"Zebra"],[n,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[r,e,[n,u]],[/droid.+;\s(shield)\sbuild/i],[e,[r,"Nvidia"],[n,u]],[/(playstation\s[345portablevi]+)/i],[e,[r,"Sony"],[n,u]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[e,[r,"Microsoft"],[n,u]],[/smart-tv.+(samsung)/i],[r,[n,p]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[r,"Samsung"],[n,p]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[r,"LG"],[n,p]],[/(apple)\s?tv/i],[r,[e,"Apple TV"],[n,p]],[/crkey/i],[[e,"Chromecast"],[r,"Google"],[n,p]],[/droid.+aft([\w])(\sbuild\/|\))/i],[e,[r,"Amazon"],[n,p]],[/\(dtv[\);].+(aquos)/i],[e,[r,"Sharp"],[n,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[r,g.trim],[e,g.trim],[n,p]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[n,p]],[/((pebble))app\/[\d\.]+\s/i],[r,e,[n,h]],[/droid.+;\s(glass)\s\d/i],[e,[r,"Google"],[n,h]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[e,[r,"Zebra"],[n,h]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[r,[n,"embedded"]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e,[n,c]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e,[n,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[n,g.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[r,"Generic"]],[/(phone)/i],[[n,c]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[s,[t,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[s,[t,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[t,s],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[s,t]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[t,s],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[t,[s,m.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[t,"Windows"],[s,m.str,y.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[s,/_/g,"."],[t,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[t,"Mac OS"],[s,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[t,s],[/\(bb(10);/i],[s,[t,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[s,[t,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[t,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[s,[t,"webOS"]],[/crkey\/([\d\.]+)/i],[s,[t,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[t,"Chromium OS"],s],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[t,s],[/(sunos)\s?([\w\.\d]*)/i],[[t,"Solaris"],s],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[t,s]]};o.VERSION="0.7.28",o.BROWSER={NAME:t,MAJOR:"major",VERSION:s},o.CPU={ARCHITECTURE:l},o.DEVICE={MODEL:e,VENDOR:r,TYPE:n,CONSOLE:u,MOBILE:c,SMARTTV:p,TABLET:f,WEARABLE:h,EMBEDDED:"embedded"},o.ENGINE={NAME:t,VERSION:s},o.OS={NAME:t,VERSION:s},(S=w.exports?w.exports=o:S).UAParser=o;var b,_=void 0!==i&&(i.jQuery||i.Zepto);_&&!_.ua&&(b=new o,_.ua=b.getResult(),_.ua.get=function(){return b.getUA()},_.ua.set=function(e){b.setUA(e);var t,n=b.getResult();for(t in n)_.ua[t]=n[t]})}("object"==typeof window?window:commonjsGlobal)}(uaParser,uaParser.exports);var UAParser=uaParser.exports,UNKNOWN="Unknown",PLATFORM_MAP={"Mac OS":"Mac OS X"};function convertPlatformName(e){return PLATFORM_MAP[e]||e}function getBrowserVersion(e){if(!e)return{major:"",minor:""};e=e.split(".");return{major:e[0],minor:e[1]}}var parser=new UAParser,results=parser.getResult(),browserVersionData=getBrowserVersion(results.browser.version),uaData={browserArchitecture:results.cpu.architecture||UNKNOWN,browserFullVersion:results.browser.version||UNKNOWN,browserMinorVersion:browserVersionData.minor||UNKNOWN,browserName:results.browser.name||UNKNOWN,browserVersion:results.browser.major||UNKNOWN,deviceName:results.device.model||UNKNOWN,engineName:results.engine.name||UNKNOWN,engineVersion:results.engine.version||UNKNOWN,platformArchitecture:results.cpu.architecture||UNKNOWN,platformName:convertPlatformName(results.os.name)||UNKNOWN,platformVersion:results.os.version||UNKNOWN,platformFullVersion:results.os.version||UNKNOWN},UserAgentData$1=uaData,invariant$6=invariant_1,componentRegex=/\./,orRegex=/\|\|/,rangeRegex=/\s+\-\s+/,modifierRegex=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,numericRegex=/^(\d*)(.*)/;function checkOrExpression(e,t){var n=e.split(orRegex);return 1<n.length?n.some(function(e){return VersionRange$1.contains(e,t)}):checkRangeExpression(e=n[0].trim(),t)}function checkRangeExpression(e,t){var n=e.split(rangeRegex);if(0<n.length&&n.length<=2||("production"!==process.env.NODE_ENV?invariant$6(!1,'the "-" operator expects exactly 2 operands'):invariant$6(!1)),1===n.length)return checkSimpleExpression(n[0],t);e=n[0],n=n[1];return isSimpleVersion(e)&&isSimpleVersion(n)||("production"!==process.env.NODE_ENV?invariant$6(!1,'operands to the "-" operator must be simple (no modifiers)'):invariant$6(!1)),checkSimpleExpression(">="+e,t)&&checkSimpleExpression("<="+n,t)}function checkSimpleExpression(e,t){if(""===(e=e.trim()))return!0;var n=t.split(componentRegex),t=getModifierAndComponents(e),e=t.modifier,r=t.rangeComponents;switch(e){case"<":return checkLessThan(n,r);case"<=":return checkLessThanOrEqual(n,r);case">=":return checkGreaterThanOrEqual(n,r);case">":return checkGreaterThan(n,r);case"~":case"~>":return checkApproximateVersion(n,r);default:return checkEqual(n,r)}}function checkLessThan(e,t){return-1===compareComponents(e,t)}function checkLessThanOrEqual(e,t){t=compareComponents(e,t);return-1===t||0===t}function checkEqual(e,t){return 0===compareComponents(e,t)}function checkGreaterThanOrEqual(e,t){t=compareComponents(e,t);return 1===t||0===t}function checkGreaterThan(e,t){return 1===compareComponents(e,t)}function checkApproximateVersion(e,t){var n=t.slice(),r=t.slice();1<r.length&&r.pop();var i=r.length-1,t=parseInt(r[i],10);return isNumber(t)&&(r[i]=t+1+""),checkGreaterThanOrEqual(e,n)&&checkLessThan(e,r)}function getModifierAndComponents(e){var t=e.split(componentRegex),e=t[0].match(modifierRegex);return e||("production"!==process.env.NODE_ENV?invariant$6(!1,"expected regex to match but it did not"):invariant$6(!1)),{modifier:e[1],rangeComponents:[e[2]].concat(t.slice(1))}}function isNumber(e){return!isNaN(e)&&isFinite(e)}function isSimpleVersion(e){return!getModifierAndComponents(e).modifier}function zeroPad(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function normalizeVersions(e,t){zeroPad(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return zeroPad(t,e.length),[e,t]}function compareNumeric(e,t){var n=e.match(numericRegex)[1],r=t.match(numericRegex)[1],n=parseInt(n,10),r=parseInt(r,10);return isNumber(n)&&isNumber(r)&&n!==r?compare$1(n,r):compare$1(e,t)}function compare$1(e,t){return typeof e!=typeof t&&("production"!==process.env.NODE_ENV?invariant$6(!1,'"a" and "b" must be of the same type'):invariant$6(!1)),t<e?1:e<t?-1:0}function compareComponents(e,t){for(var t=normalizeVersions(e,t),n=t[0],r=t[1],i=0;i<r.length;i++){var o=compareNumeric(n[i],r[i]);if(o)return o}return 0}var VersionRange$1={contains:function(e,t){return checkOrExpression(e.trim(),t.trim())}},VersionRange_1=VersionRange$1,hasOwnProperty=Object.prototype.hasOwnProperty;function mapObject$1(e,t,n){if(!e)return null;var r,i={};for(r in e)hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}var mapObject_1=mapObject$1;function memoizeStringOnly$1(t){var n={};return function(e){return n.hasOwnProperty(e)||(n[e]=t.call(this,e)),n[e]}}var memoizeStringOnly_1=memoizeStringOnly$1,UserAgentData=UserAgentData$1,VersionRange=VersionRange_1,mapObject=mapObject$1,memoizeStringOnly=memoizeStringOnly$1;function compare(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;e=n.slice(e.length);return!!t&&(e=r?r(e):e,VersionRange.contains(e,t))}function normalizePlatformVersion(e){return"Windows"===UserAgentData.platformName?e.replace(/^\s*NT/,""):e}var UserAgent$4={isBrowser:function(e){return compare(UserAgentData.browserName,UserAgentData.browserFullVersion,e)},isBrowserArchitecture:function(e){return compare(UserAgentData.browserArchitecture,null,e)},isDevice:function(e){return compare(UserAgentData.deviceName,null,e)},isEngine:function(e){return compare(UserAgentData.engineName,UserAgentData.engineVersion,e)},isPlatform:function(e){return compare(UserAgentData.platformName,UserAgentData.platformFullVersion,e,normalizePlatformVersion)},isPlatformArchitecture:function(e){return compare(UserAgentData.platformArchitecture,null,e)}},UserAgent_1=mapObject$1(UserAgent$4,memoizeStringOnly$1),Keys$2={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105},Keys$1=Keys$2;function isSoftNewlineEvent$1(e){return e.which===Keys$1.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}var isSoftNewlineEvent_1=isSoftNewlineEvent$1,UserAgent$3=UserAgent_1,isSoftNewlineEvent=isSoftNewlineEvent$1,isOSX$1=UserAgent_1.isPlatform("Mac OS X"),KeyBindingUtil$2={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return isOSX$1&&e.altKey},usesMacOSHeuristics:function(){return isOSX$1},hasCommandModifier:function(e){return isOSX$1?!!e.metaKey&&!e.altKey:KeyBindingUtil$2.isCtrlKeyCommand(e)},isSoftNewlineEvent:isSoftNewlineEvent},KeyBindingUtil_1=KeyBindingUtil$2,RawDraftContentState$1=Object.freeze({__proto__:null}),require$$15=getAugmentedNamespace(RawDraftContentState$1);function adjustBlockDepthForContentState$1(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),a=(s=e.getBlockMap()).toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===o}).concat([[o,s.get(o)]]).map(function(e){var t=e.getDepth()+n,t=Math.max(0,Math.min(t,r));return e.set("depth",t)}),s=s.merge(a);return e.merge({blockMap:s,selectionBefore:t,selectionAfter:t})}var adjustBlockDepthForContentState_1=adjustBlockDepthForContentState$1,DraftModifier$1=DraftModifier_1,EditorState$1=EditorState_1,adjustBlockDepthForContentState=adjustBlockDepthForContentState$1,nullthrows=nullthrows_1,RichTextEditorUtil$1={currentBlockContainsLink:function(e){var t=e.getSelection(),e=e.getCurrentContent(),n=e.getEntityMap();return e.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){e=e.getEntity();return!!e&&"LINK"===n.__get(e).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return RichTextEditorUtil$1.toggleInlineStyle(e,"BOLD");case"italic":return RichTextEditorUtil$1.toggleInlineStyle(e,"ITALIC");case"underline":return RichTextEditorUtil$1.toggleInlineStyle(e,"UNDERLINE");case"code":return RichTextEditorUtil$1.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return RichTextEditorUtil$1.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return RichTextEditorUtil$1.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=DraftModifier$1.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),e=EditorState$1.push(e,t,"insert-characters");return EditorState$1.forceSelection(e,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),r=n.getBlockBefore(r);if(r&&"atomic"===r.getType()){var i=n.getBlockMap().delete(r.getKey()),i=n.merge({blockMap:i,selectionAfter:t});if(i!==n)return EditorState$1.push(e,i,"remove-range")}i=RichTextEditorUtil$1.tryToRemoveBlockStyle(e);return i?EditorState$1.push(e,i,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockForKey(r).getLength();if(t.getStartOffset()<i)return null;r=n.getBlockAfter(r);if(!r||"atomic"!==r.getType())return null;r=t.merge({focusKey:r.getKey(),focusOffset:r.getLength()}),r=DraftModifier$1.removeRange(n,r,"forward");return r!==n?EditorState$1.push(e,r,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),i=r.getAnchorKey();if(i!==r.getFocusKey())return t;var o=t.getCurrentContent(),a=o.getBlockForKey(i),i=a.getType();if("unordered-list-item"!==i&&"ordered-list-item"!==i)return t;e.preventDefault();a=a.getDepth();if(!e.shiftKey&&a===n)return t;n=adjustBlockDepthForContentState(o,r,e.shiftKey?-1:1,n);return EditorState$1.push(t,n,"adjust-depth")},toggleBlockType:function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getEndKey(),a=e.getCurrentContent(),s=r;if(i!==o&&0===r.getEndOffset()&&(n=nullthrows(a.getBlockBefore(o)),o=n.getKey(),s=s.merge({anchorKey:i,anchorOffset:r.getStartOffset(),focusKey:o,focusOffset:n.getLength(),isBackward:!1})),a.getBlockMap().skipWhile(function(e,t){return t!==i}).reverse().skipWhile(function(e,t){return t!==o}).some(function(e){return"atomic"===e.getType()}))return e;t=a.getBlockForKey(i).getType()===t?"unstyled":t;return EditorState$1.push(e,DraftModifier$1.setBlockType(a,s,t),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?RichTextEditorUtil$1.toggleBlockType(e,"code-block"):RichTextEditorUtil$1.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),r=e.getCurrentInlineStyle();if(n.isCollapsed())return EditorState$1.setInlineStyleOverride(e,r.has(t)?r.remove(t):r.add(t));var i=e.getCurrentContent(),t=r.has(t)?DraftModifier$1.removeInlineStyle(i,n,t):DraftModifier$1.applyInlineStyle(i,n,t);return EditorState$1.push(e,t,"change-inline-style")},toggleLink:function(e,t,n){n=DraftModifier$1.applyEntity(e.getCurrentContent(),t,n);return EditorState$1.push(e,n,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var r=t.getAnchorKey(),n=e.getCurrentContent(),e=n.getBlockForKey(r).getType(),r=n.getBlockBefore(r);if("code-block"===e&&r&&"code-block"===r.getType()&&0!==r.getLength())return null;if("unstyled"!==e)return DraftModifier$1.setBlockType(n,t,"unstyled")}return null}},RichTextEditorUtil_1=RichTextEditorUtil$1,DraftStringKey$2={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}},DraftStringKey_1=DraftStringKey$2,invariant$5=invariant_1,SURROGATE_HIGH_START=55296,SURROGATE_HIGH_END=56319,SURROGATE_LOW_START=56320,SURROGATE_LOW_END=57343,SURROGATE_UNITS_REGEX=/[\uD800-\uDFFF]/;function isCodeUnitInSurrogateRange(e){return SURROGATE_HIGH_START<=e&&e<=SURROGATE_LOW_END}function isSurrogatePair(e,t){if(0<=t&&t<e.length||("production"!==process.env.NODE_ENV?invariant$5(!1,"isSurrogatePair: Invalid index %s for string length %s.",t,e.length):invariant$5(!1)),t+1===e.length)return!1;var n=e.charCodeAt(t),t=e.charCodeAt(t+1);return SURROGATE_HIGH_START<=n&&n<=SURROGATE_HIGH_END&&SURROGATE_LOW_START<=t&&t<=SURROGATE_LOW_END}function hasSurrogateUnit(e){return SURROGATE_UNITS_REGEX.test(e)}function getUTF16Length(e,t){return 1+isCodeUnitInSurrogateRange(e.charCodeAt(t))}function strlen$1(e){if(!hasSurrogateUnit(e))return e.length;for(var t=0,n=0;n<e.length;n+=getUTF16Length(e,n))t++;return t}function substr$2(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!hasSurrogateUnit(e))return e.substr(t,n);var r=e.length;if(r<=0||r<t||n<=0)return"";var i=0;if(0<t){for(;0<t&&i<r;t--)i+=getUTF16Length(e,i);if(r<=i)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=getUTF16Length(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;0<n&&o<r;n--)o+=getUTF16Length(e,o);return e.substring(i,o)}function substring(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return substr$2(e,t=t<n?t:n,r)}function getCodePoints(e){for(var t=[],n=0;n<e.length;n+=getUTF16Length(e,n))t.push(e.codePointAt(n));return t}var UnicodeUtils$4={getCodePoints:getCodePoints,getUTF16Length:getUTF16Length,hasSurrogateUnit:hasSurrogateUnit,isCodeUnitInSurrogateRange:isCodeUnitInSurrogateRange,isSurrogatePair:isSurrogatePair,strlen:strlen$1,substring:substring,substr:substr$2},UnicodeUtils_1=UnicodeUtils$4,DraftStringKey$1=DraftStringKey_1,UnicodeUtils$3=UnicodeUtils_1,strlen=UnicodeUtils_1.strlen;function encodeEntityRanges$1(i,o){var a=[];return i.findEntityRanges(function(e){return!!e.getEntity()},function(e,t){var n=i.getText(),r=i.getEntityAt(e);a.push({offset:strlen(n.slice(0,e)),length:strlen(n.slice(e,t)),key:Number(o[DraftStringKey$1.stringify(r)])})}),a}var encodeEntityRanges_1=encodeEntityRanges$1,UnicodeUtils$2=UnicodeUtils_1,findRangesImmutable=findRangesImmutable_1,areEqual=function(e,t){return e===t},isTruthy=function(e){return!!e},EMPTY_ARRAY=[];function getEncodedInlinesForType(r,e,i){var o=[],e=e.map(function(e){return e.has(i)}).toList();return findRangesImmutable(e,areEqual,isTruthy,function(e,t){var n=r.getText();o.push({offset:UnicodeUtils$2.strlen(n.slice(0,e)),length:UnicodeUtils$2.strlen(n.slice(e,t)),style:i})}),o}function encodeInlineStyleRanges$1(t){var n=t.getCharacterList().map(function(e){return e.getStyle()}).toList(),e=n.flatten().toSet().map(function(e){return getEncodedInlinesForType(t,n,e)});return Array.prototype.concat.apply(EMPTY_ARRAY,e.toJS())}var encodeInlineStyleRanges_1=encodeInlineStyleRanges$1;function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$4(t,e,n[e])})}return t}function _defineProperty$4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ContentBlock$3=ContentBlock_1,ContentBlockNode$2=ContentBlockNode_1,DraftStringKey=DraftStringKey_1,encodeEntityRanges=encodeEntityRanges$1,encodeInlineStyleRanges=encodeInlineStyleRanges$1,invariant$4=invariant_1,createRawBlock=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:encodeInlineStyleRanges(e),entityRanges:encodeEntityRanges(e,t),data:e.getData().toObject()}},insertRawBlock=function(e,t,n,r){var i;e instanceof ContentBlock$3?n.push(createRawBlock(e,t)):(e instanceof ContentBlockNode$2||("production"!==process.env.NODE_ENV?invariant$4(!1,"block is not a BlockNode"):invariant$4(!1)),i=e.getParentKey(),t=r[e.getKey()]=_objectSpread$3({},createRawBlock(e,t),{children:[]}),(i?r[i].children:n).push(t))},encodeRawBlocks=function(e,t){var r=t.entityMap,i=[],o={},a={},s=0;return e.getBlockMap().forEach(function(n){n.findEntityRanges(function(e){return null!==e.getEntity()},function(e){var t=n.getEntityAt(e),e=DraftStringKey.stringify(t);a[e]||(a[e]=t,r[e]="".concat(s),s++)}),insertRawBlock(n,r,i,o)}),{blocks:i,entityMap:r}},encodeRawEntityMap=function(n,e){var t=e.blocks,e=e.entityMap,r={};return Object.keys(e).forEach(function(e,t){e=n.getEntity(DraftStringKey.unstringify(e));r[t]={type:e.getType(),mutability:e.getMutability(),data:e.getData()}}),{blocks:t,entityMap:r}},convertFromDraftStateToRaw$1=function(e){var t=encodeRawBlocks(e,t={entityMap:{},blocks:[]});return t=encodeRawEntityMap(e,t)},convertFromDraftStateToRaw_1=convertFromDraftStateToRaw$1;function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$3(t,e,n[e])})}return t}function _defineProperty$3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var generateRandomKey$3=generateRandomKey_1,invariant$3=invariant_1,traverseInDepthOrder=function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);r=r.children;Array.isArray(r)||("production"!==process.env.NODE_ENV?invariant$3(!1,"Invalid tree raw block"):invariant$3(!1)),n=n.concat([].concat(r.reverse()))}},isListBlock=function(e){if(!e||!e.type)return!1;e=e.type;return"unordered-list-item"===e||"ordered-list-item"===e},addDepthToChildren=function(t){Array.isArray(t.children)&&(t.children=t.children.map(function(e){return e.type===t.type?_objectSpread$2({},e,{depth:(t.depth||0)+1}):e}))},DraftTreeAdapter$1={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||("production"!==process.env.NODE_ENV?invariant$3(!1,"Invalid raw state"):invariant$3(!1)),Array.isArray(t)&&t.length?(traverseInDepthOrder(t,function(e){var t=_objectSpread$2({},e);isListBlock(e)&&(t.depth=t.depth||0,addDepthToChildren(e),null!=e.children&&0<e.children.length)||(delete t.children,n.push(t))}),e.blocks=n,_objectSpread$2({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var o=[],a=[];return e.blocks.forEach(function(e){var t=isListBlock(e),n=e.depth||0,r=_objectSpread$2({},e,{children:[]});if(t){var i=a[0];if(null==i&&0===n)o.push(r);else if(null==i||i.depth<n-1){e={key:generateRandomKey$3(),text:"",depth:n-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};a.unshift(e),1===n?o.push(e):null!=i&&i.children.push(e),e.children.push(r)}else if(i.depth===n-1)i.children.push(r);else{for(;null!=i&&i.depth>=n;)a.shift(),i=a[0];(0<n?i.children:o).push(r)}}else o.push(r)}),_objectSpread$2({},e,{blocks:o})}},DraftTreeAdapter_1=DraftTreeAdapter$1;function makeEmptyFunction(e){return function(){return e}}var emptyFunction$1=function(){};emptyFunction$1.thatReturns=makeEmptyFunction,emptyFunction$1.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction$1.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction$1.thatReturnsNull=makeEmptyFunction(null),emptyFunction$1.thatReturnsThis=function(){return this},emptyFunction$1.thatReturnsArgument=function(e){return e};var emptyFunction_1=emptyFunction$1,emptyFunction=emptyFunction$1;function printWarning(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}var warning$1="production"!==process.env.NODE_ENV?function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];printWarning.apply(void 0,[t].concat(r))}}:emptyFunction,warning_1=warning$1,warning=warning$1,DraftTreeInvariants$1={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return"production"!==process.env.NODE_ENV&&warning(!0,"Tree is missing parent -> child pointer on %s",n),!1;if(!e.getChildKeys().map(function(e){return t.get(e)}).every(function(e){return e.getParentKey()===n}))return"production"!==process.env.NODE_ENV&&warning(!0,"Tree is missing child -> parent pointer on %s",n),!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return"production"!==process.env.NODE_ENV&&warning(!0,"Tree is missing nextSibling pointer on %s's prevSibling",n),!1;r=e.getNextSiblingKey();if(null!=r&&t.get(r).getPrevSiblingKey()!==n)return"production"!==process.env.NODE_ENV&&warning(!0,"Tree is missing prevSibling pointer on %s's nextSibling",n),!1;return null!==r&&null!==i&&i===r?("production"!==process.env.NODE_ENV&&warning(!0,"Tree has a two-node cycle at %s",n),!1):!(""!=e.text&&0<e.getChildKeys().size)||("production"!==process.env.NODE_ENV&&warning(!0,"Leaf node %s has children",n),!1)},isConnectedTree:function(t){var e=t.toArray().filter(function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()});if(1!==e.length)return"production"!==process.env.NODE_ENV&&warning(!0,"Tree is not connected. More or less than one first node"),!1;for(var n=0,r=e.shift().getKey(),i=[];null!=r;){var o=t.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(0<a.size){null!=s&&i.unshift(s);a=a.map(function(e){return t.get(e)}).find(function(e){return null==e.getPrevSiblingKey()});if(null==a)return"production"!==process.env.NODE_ENV&&warning(!0,"%s has no first child",r),!1;r=a.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===t.size||("production"!==process.env.NODE_ENV&&warning(!0,"Tree is not connected. %s nodes were seen instead of %s",n,t.size),!1)},isValidTree:function(t){var n=this;return!!t.toArray().every(function(e){return n.isValidBlock(e,t)})&&this.isConnectedTree(t)}},DraftTreeInvariants_1=DraftTreeInvariants$1,CharacterMetadata$2=CharacterMetadata_1,Immutable$1=immutable.exports,List$2=Immutable$1.List;function createCharacterList$1(e,n){e=e.map(function(e,t){t=n[t];return CharacterMetadata$2.create({style:e,entity:t})});return List$2(e)}var createCharacterList_1=createCharacterList$1,UnicodeUtils$1=UnicodeUtils_1,substr$1=UnicodeUtils_1.substr;function decodeEntityRanges$1(i,e){var o=Array(i.length).fill(null);return e&&e.forEach(function(e){for(var t=substr$1(i,0,e.offset).length,n=t+substr$1(i,e.offset,e.length).length,r=t;r<n;r++)o[r]=e.key}),o}var decodeEntityRanges_1=decodeEntityRanges$1,UnicodeUtils=UnicodeUtils_1,_require$1=immutable.exports,OrderedSet$1=_require$1.OrderedSet,substr=UnicodeUtils.substr,EMPTY_SET=OrderedSet$1();function decodeInlineStyleRanges$1(r,e){var i=Array(r.length).fill(EMPTY_SET);return e&&e.forEach(function(e){for(var t=substr(r,0,e.offset).length,n=t+substr(r,e.offset,e.length).length;t<n;)i[t]=i[t].add(e.style),t++}),i}var decodeInlineStyleRanges_1=decodeInlineStyleRanges$1;function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty$2(t,e,n[e])})}return t}function _defineProperty$2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ContentBlock$2=ContentBlock_1,ContentBlockNode$1=ContentBlockNode_1,ContentState$1=ContentState_1,DraftEntity$2=DraftEntity_1,DraftTreeAdapter=DraftTreeAdapter_1,DraftTreeInvariants=DraftTreeInvariants_1,SelectionState$1=SelectionState_1,createCharacterList=createCharacterList_1,decodeEntityRanges=decodeEntityRanges_1,decodeInlineStyleRanges=decodeInlineStyleRanges$1,generateRandomKey$2=generateRandomKey_1,gkx$1=gkx$4,Immutable=immutable.exports,invariant$2=invariant_1,experimentalTreeDataSupport$1=gkx$1("draft_tree_data_support"),List$1=Immutable.List,Map$2=Immutable.Map,OrderedMap=Immutable.OrderedMap,decodeBlockNodeConfig=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||generateRandomKey$2(),data:Map$2(i),characterList:decodeCharacterList(e,t)}},decodeCharacterList=function(e,t){var n=e.text,r=e.entityRanges,e=e.inlineStyleRanges,r=r||[];return createCharacterList(decodeInlineStyleRanges(n,e||[]),decodeEntityRanges(n,r.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return _objectSpread$1({},e,{key:t[e.key]})})))},addKeyIfMissing=function(e){return _objectSpread$1({},e,{key:e.key||generateRandomKey$2()})},updateNodeStack=function(e,t,n){t=t.map(function(e){return _objectSpread$1({},e,{parentRef:n})});return e.concat(t.reverse())},decodeContentBlockNodes=function(c,d){return c.map(addKeyIfMissing).reduce(function(e,t,n){Array.isArray(t.children)||("production"!==process.env.NODE_ENV?invariant$2(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode"):invariant$2(!1));var r=t.children.map(addKeyIfMissing),n=new ContentBlockNode$1(_objectSpread$1({},decodeBlockNodeConfig(t,d),{prevSibling:0===n?null:c[n-1].key,nextSibling:n===c.length-1?null:c[n+1].key,children:List$1(r.map(function(e){return e.key}))}));e=e.set(n.getKey(),n);for(var i=updateNodeStack([],r,n);0<i.length;){var o=i.pop(),a=o.parentRef,s=a.getChildKeys(),l=s.indexOf(o.key),u=Array.isArray(o.children);if(!u){"production"!==process.env.NODE_ENV?invariant$2(!1,"invalid RawDraftContentBlock can not be converted to ContentBlockNode"):invariant$2(!1);break}u=o.children.map(addKeyIfMissing),l=new ContentBlockNode$1(_objectSpread$1({},decodeBlockNodeConfig(o,d),{parent:a.getKey(),children:List$1(u.map(function(e){return e.key})),prevSibling:0===l?null:s.get(l-1),nextSibling:l===s.size-1?null:s.get(l+1)}));e=e.set(l.getKey(),l),i=updateNodeStack(i,u,l)}return e},OrderedMap())},decodeContentBlocks=function(e,t){return OrderedMap(e.map(function(e){e=new ContentBlock$2(decodeBlockNodeConfig(e,t));return[e.getKey(),e]}))},decodeRawBlocks=function(e,t){var n=e.blocks.find(function(e){return Array.isArray(e.children)&&0<e.children.length}),r=(experimentalTreeDataSupport$1&&!n?DraftTreeAdapter.fromRawStateToRawTreeState(e):e).blocks;if(!experimentalTreeDataSupport$1)return decodeContentBlocks(n?DraftTreeAdapter.fromRawTreeStateToRawState(e).blocks:r,t);t=decodeContentBlockNodes(r,t);return"production"!==process.env.NODE_ENV&&(DraftTreeInvariants.isValidTree(t)||("production"!==process.env.NODE_ENV?invariant$2(!1,"Should be a valid tree"):invariant$2(!1))),t},decodeRawEntityMap=function(e){var i=e.entityMap,o={};return Object.keys(i).forEach(function(e){var t=i[e],n=t.type,r=t.mutability,t=t.data;o[e]=DraftEntity$2.__create(n,r,t||{})}),o},convertFromRawToDraftState$1=function(e){Array.isArray(e.blocks)||("production"!==process.env.NODE_ENV?invariant$2(!1,"invalid RawDraftContentState"):invariant$2(!1));var t=decodeRawEntityMap(e),n=decodeRawBlocks(e,t),e=n.isEmpty()?new SelectionState$1:SelectionState$1.createEmpty(n.first().getKey());return new ContentState$1({blockMap:n,entityMap:t,selectionBefore:e,selectionAfter:e})},convertFromRawToDraftState_1=convertFromRawToDraftState$1,KeyBindingUtil$1=KeyBindingUtil_1,Keys=Keys$2,UserAgent$2=UserAgent_1,isOSX=UserAgent$2.isPlatform("Mac OS X"),shouldFixFirefoxMovement=isOSX&&UserAgent$2.isBrowser("Firefox < 29"),hasCommandModifier=KeyBindingUtil$1.hasCommandModifier,isCtrlKeyCommand=KeyBindingUtil$1.isCtrlKeyCommand;function shouldRemoveWord(e){return isOSX&&e.altKey||isCtrlKeyCommand(e)}function getZCommand(e){return hasCommandModifier(e)?e.shiftKey?"redo":"undo":null}function getDeleteCommand(e){return!isOSX&&e.shiftKey?null:shouldRemoveWord(e)?"delete-word":"delete"}function getBackspaceCommand(e){return hasCommandModifier(e)&&isOSX?"backspace-to-start-of-line":shouldRemoveWord(e)?"backspace-word":"backspace"}function getDefaultKeyBinding$1(e){switch(e.keyCode){case 66:return hasCommandModifier(e)?"bold":null;case 68:return isCtrlKeyCommand(e)?"delete":null;case 72:return isCtrlKeyCommand(e)?"backspace":null;case 73:return hasCommandModifier(e)?"italic":null;case 74:return hasCommandModifier(e)?"code":null;case 75:return isOSX&&isCtrlKeyCommand(e)?"secondary-cut":null;case 77:case 79:return isCtrlKeyCommand(e)?"split-block":null;case 84:return isOSX&&isCtrlKeyCommand(e)?"transpose-characters":null;case 85:return hasCommandModifier(e)?"underline":null;case 87:return isOSX&&isCtrlKeyCommand(e)?"backspace-word":null;case 89:return isCtrlKeyCommand(e)?isOSX?"secondary-paste":"redo":null;case 90:return getZCommand(e)||null;case Keys.RETURN:return"split-block";case Keys.DELETE:return getDeleteCommand(e);case Keys.BACKSPACE:return getBackspaceCommand(e);case Keys.LEFT:return shouldFixFirefoxMovement&&hasCommandModifier(e)?"move-selection-to-start-of-block":null;case Keys.RIGHT:return shouldFixFirefoxMovement&&hasCommandModifier(e)?"move-selection-to-end-of-block":null;default:return null}}var getDefaultKeyBinding_1=getDefaultKeyBinding$1,UserAgent$1=UserAgent_1,invariant$1=invariant_1,isChrome=UserAgent_1.isBrowser("Chrome");function getRangeClientRectsChrome(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var i=r===e.commonAncestorContainer;i?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var o=Array.from(t.getClientRects());if(n.push(o),i)return n.reverse(),(i=[]).concat.apply(i,n);t.setEndBefore(r)}"production"!==process.env.NODE_ENV?invariant$1(!1,"Found an unexpected detached subtree when getting range client rects."):invariant$1(!1)}var getRangeClientRects$1=isChrome?getRangeClientRectsChrome:function(e){return Array.from(e.getClientRects())},getRangeClientRects_1=getRangeClientRects$1,getRangeClientRects=getRangeClientRects$1;function getRangeBoundingClientRect$1(e){var t,n=getRangeClientRects(e),r=0,i=0,o=0,a=0;if(n.length){a=1<n.length&&0===n[0].width?(r=(t=n[1]).top,i=t.right,o=t.bottom,t.left):(r=(t=n[0]).top,i=t.right,o=t.bottom,t.left);for(var s=1;s<n.length;s++){var l=n[s];0!==l.height&&0!==l.width&&(r=Math.min(r,l.top),i=Math.max(i,l.right),o=Math.max(o,l.bottom),a=Math.min(a,l.left))}}return{top:r,right:i,bottom:o,left:a,width:i-a,height:o-r}}var getRangeBoundingClientRect_1=getRangeBoundingClientRect$1,getRangeBoundingClientRect=getRangeBoundingClientRect$1;function getVisibleSelectionRect$1(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=getRangeBoundingClientRect(n),i=r.top,e=r.right,t=r.bottom,n=r.left;return 0===i&&0===e&&0===t&&0===n?null:r}var getVisibleSelectionRect_1=getVisibleSelectionRect$1;function _defineProperty$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var URI$1=function(){function e(e){_defineProperty$1(this,"_uri",void 0),this._uri=e}return e.prototype.toString=function(){return this._uri},e}(),URI_1=URI$1,UserAgent=UserAgent_1,invariant=invariant_1,isOldIE=UserAgent_1.isBrowser("IE <= 9");function getSafeBodyFromHTML$1(e){var t,n=null;return!isOldIE&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||("production"!==process.env.NODE_ENV?invariant(!1,"Missing doc.documentElement"):invariant(!1)),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}var getSafeBodyFromHTML_1=getSafeBodyFromHTML$1;function isElement$3(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}var isElement_1=isElement$3,isElement$2=isElement$3;function isHTMLAnchorElement$1(e){return!(!e||!e.ownerDocument)&&(isElement$2(e)&&"A"===e.nodeName)}var isHTMLAnchorElement_1=isHTMLAnchorElement$1,isElement$1=isElement$3;function isHTMLBRElement$1(e){return!(!e||!e.ownerDocument)&&(isElement$1(e)&&"BR"===e.nodeName)}var isHTMLBRElement_1=isHTMLBRElement$1;function isHTMLElement$1(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}var isHTMLElement_1=isHTMLElement$1,isElement=isElement$3;function isHTMLImageElement$1(e){return!(!e||!e.ownerDocument)&&(isElement(e)&&"IMG"===e.nodeName)}var _knownListItemDepthCl,isHTMLImageElement_1=isHTMLImageElement$1;function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);(r="function"==typeof Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})):r).forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CharacterMetadata$1=CharacterMetadata_1,ContentBlock$1=ContentBlock_1,ContentBlockNode=ContentBlockNode_1,DefaultDraftBlockRenderMap$1=DefaultDraftBlockRenderMap_1,DraftEntity$1=DraftEntity_1,URI=URI_1,cx=cx_1,generateRandomKey$1=generateRandomKey_1,getSafeBodyFromHTML=getSafeBodyFromHTML$1,gkx=gkx$4,_require=immutable.exports,List=_require.List,Map$1=_require.Map,OrderedSet=_require.OrderedSet,isHTMLAnchorElement=isHTMLAnchorElement_1,isHTMLBRElement=isHTMLBRElement_1,isHTMLElement=isHTMLElement_1,isHTMLImageElement=isHTMLImageElement_1,experimentalTreeDataSupport=gkx("draft_tree_data_support"),NBSP="&nbsp;",SPACE=" ",REGEX_CR=new RegExp("\r","g"),REGEX_LF=new RegExp("\n","g"),REGEX_LEADING_LF=new RegExp("^\n","g"),REGEX_NBSP=new RegExp(NBSP,"g"),REGEX_CARRIAGE=new RegExp("&#13;?","g"),REGEX_ZWS=new RegExp("&#8203;?","g"),boldValues=["bold","bolder","500","600","700","800","900"],notBoldValues=["light","lighter","normal","100","200","300","400"],anchorAttr=["className","href","rel","target","title"],imgAttr=["alt","className","height","src","width"],knownListItemDepthClasses=(_defineProperty(_knownListItemDepthCl={},cx("public/DraftStyleDefault/depth0"),0),_defineProperty(_knownListItemDepthCl,cx("public/DraftStyleDefault/depth1"),1),_defineProperty(_knownListItemDepthCl,cx("public/DraftStyleDefault/depth2"),2),_defineProperty(_knownListItemDepthCl,cx("public/DraftStyleDefault/depth3"),3),_defineProperty(_knownListItemDepthCl,cx("public/DraftStyleDefault/depth4"),4),_knownListItemDepthCl),HTMLTagToRawInlineStyleMap=Map$1({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),buildBlockTypeMap=function(e){var r={};return e.mapKeys(function(t,e){var n=[e.element];void 0!==e.aliasedElements&&n.push.apply(n,e.aliasedElements),n.forEach(function(e){void 0===r[e]?r[e]=t:"string"==typeof r[e]?r[e]=[r[e],t]:r[e].push(t)})}),Map$1(r)},detectInlineStyle=function(e){if(isHTMLElement(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},getListItemDepth=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(knownListItemDepthClasses).some(function(e){t.classList.contains(e)&&(n=knownListItemDepthClasses[e])}),n},isValidAnchor=function(e){if(!isHTMLAnchorElement(e))return!1;if(!e.href||"http:"!==e.protocol&&"https:"!==e.protocol&&"mailto:"!==e.protocol&&"tel:"!==e.protocol)return!1;try{new URI(e.href);return!0}catch(e){return!1}},isValidImage=function(e){if(!isHTMLImageElement(e))return!1;return!(!e.attributes.getNamedItem("src")||!e.attributes.getNamedItem("src").value)},styleFromNodeAttributes=function(e,t){if(!isHTMLElement(e))return t;var n=e.style.fontWeight,r=e.style.fontStyle,i=e.style.textDecoration;return t.withMutations(function(e){0<=boldValues.indexOf(n)?e.add("BOLD"):0<=notBoldValues.indexOf(n)&&e.remove("BOLD"),"italic"===r?e.add("ITALIC"):"normal"===r&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))})},isListNode=function(e){return"ul"===e||"ol"===e},ContentBlocksBuilder=function(){function e(e,t){_defineProperty(this,"characterList",List()),_defineProperty(this,"currentBlockType","unstyled"),_defineProperty(this,"currentDepth",0),_defineProperty(this,"currentEntity",null),_defineProperty(this,"currentText",""),_defineProperty(this,"wrapper",null),_defineProperty(this,"blockConfigs",[]),_defineProperty(this,"contentBlocks",[]),_defineProperty(this,"entityMap",DraftEntity$1),_defineProperty(this,"blockTypeMap",void 0),_defineProperty(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=List(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=DraftEntity$1,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],OrderedSet())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(experimentalTreeDataSupport?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=_objectSpread({key:e.key||generateRandomKey$1(),type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:List(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=List(),this.currentBlockType="unstyled",this.currentText="",e},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var i,o,a,s,l=e[r],u=l.nodeName.toLowerCase();"body"===u||isListNode(u)?(this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig()),i=this.currentDepth,o=this.wrapper,isListNode(u)&&(this.wrapper=u,isListNode(o)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(l.childNodes),t)),this.currentDepth=i,this.wrapper=o):void 0===(o=this.blockTypeMap.get(u))?"#text"!==u?"br"!==u?isValidImage(l)?this._addImgNode(l,t):isValidAnchor(l)?this._addAnchorNode(l,n,t):(s=t,HTMLTagToRawInlineStyleMap.has(u)&&(s=s.add(HTMLTagToRawInlineStyleMap.get(u))),s=styleFromNodeAttributes(l,s),null!=(a=detectInlineStyle(l))&&(s=s.add(a)),n.push.apply(n,this._toBlockConfigs(Array.from(l.childNodes),s))):this._addBreakNode(l,t):this._addTextNode(l,t):(this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig()),a=this.currentDepth,s=this.wrapper,this.wrapper="pre"===u?"pre":this.wrapper,"string"!=typeof o&&(o=this.disambiguate(u,this.wrapper)||o[0]||"unstyled"),experimentalTreeDataSupport||!isHTMLElement(l)||"unordered-list-item"!==o&&"ordered-list-item"!==o||(this.currentDepth=getListItemDepth(l,this.currentDepth)),u=generateRandomKey$1(),l=this._toBlockConfigs(Array.from(l.childNodes),t),this._trimCurrentText(),n.push(this._makeBlockConfig({key:u,childConfigs:l,type:o})),this.currentDepth=a,this.wrapper=s)}return n},t._appendText=function(e,t){this.currentText+=e;var n=CharacterMetadata$1.create({style:t,entity:this.currentEntity});this.characterList=(t=this.characterList).push.apply(t,Array(e.length).fill(n))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry(function(e){return null!==e.getEntity()}),t=void 0!==r?Math.min(t,r[0]):t;(n=void 0!==(r=this.characterList.reverse().findEntry(function(e){return null!==e.getEntity()}))?Math.max(n,e-r[0]):n)<t?(this.currentText="",this.characterList=List()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){e=e.textContent;""===e.trim()&&"pre"!==this.wrapper&&(e=" "),"pre"!==this.wrapper&&(e=(e=e.replace(REGEX_LEADING_LF,"")).replace(REGEX_LF,SPACE)),this._appendText(e,t)},t._addBreakNode=function(e,t){isHTMLBRElement(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){var n,r;isHTMLImageElement(e)&&(n=e,r={},imgAttr.forEach(function(e){var t=n.getAttribute(e);t&&(r[e]=t)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),gkx("draftjs_fix_paste_for_img")&&"presentation"===n.getAttribute("role")||this._appendText("📷",t),this.currentEntity=null)},t._addAnchorNode=function(e,t,n){var r,i;isHTMLAnchorElement(e)&&(r=e,i={},anchorAttr.forEach(function(e){var t=r.getAttribute(e);t&&(i[e]=t)}),i.url=new URI(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null)},t._toContentBlocks=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var i=e[r];i.parent=t,i.prevSibling=0<r?e[r-1].key:null,i.nextSibling=r<n?e[r+1].key:null,i.children=List(i.childConfigs.map(function(e){return e.key})),this.contentBlocks.push(new ContentBlockNode(_objectSpread({},i))),this._toContentBlocks(i.childConfigs,i.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return List(e).flatMap(function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)})},t._toFlatContentBlocks=function(e){var r=this;this._hoistContainersInBlockConfigs(e).forEach(function(e){var t=r._extractTextFromBlockConfigs(e.childConfigs),n=t.text,t=t.characterList;r.contentBlocks.push(new ContentBlock$1(_objectSpread({},e,{text:e.text+n,characterList:e.characterList.concat(t)})))})},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=List(),i=0;i<=t;i++){var o=e[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));o=this._extractTextFromBlockConfigs(o.childConfigs);n+=o.text,r=r.concat(o.characterList)}return{text:n,characterList:r}},e}(),convertFromHTMLToContentBlocks=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:getSafeBodyFromHTML,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:DefaultDraftBlockRenderMap$1,t=t(e=e.trim().replace(REGEX_CR,"").replace(REGEX_NBSP,SPACE).replace(REGEX_CARRIAGE,"").replace(REGEX_ZWS,""));if(!t)return null;n=buildBlockTypeMap(n);return new ContentBlocksBuilder(n,function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null}).addDOMNode(t).getContentBlocks()},convertFromHTMLToContentBlocks_1=convertFromHTMLToContentBlocks,AtomicBlockUtils=AtomicBlockUtils_1,BlockMapBuilder=BlockMapBuilder_1,CharacterMetadata=CharacterMetadata_1,CompositeDraftDecorator=CompositeDraftDecorator_1,ContentBlock=ContentBlock_1,ContentState=ContentState_1,DefaultDraftBlockRenderMap=DefaultDraftBlockRenderMap_1,DefaultDraftInlineStyle=DefaultDraftInlineStyle$1,DraftEditor=require$$8,DraftEditorBlock=require$$9,DraftEntity=DraftEntity_1,DraftModifier=DraftModifier_1,DraftEntityInstance=DraftEntityInstance_1,EditorState=EditorState_1,KeyBindingUtil=KeyBindingUtil_1,RawDraftContentState=require$$15,RichTextEditorUtil=RichTextEditorUtil_1,SelectionState=SelectionState_1,convertFromDraftStateToRaw=convertFromDraftStateToRaw_1,convertFromRawToDraftState=convertFromRawToDraftState_1,generateRandomKey=generateRandomKey_1,getDefaultKeyBinding=getDefaultKeyBinding_1,getVisibleSelectionRect=getVisibleSelectionRect_1,convertFromHTML=convertFromHTMLToContentBlocks,DraftPublic={Editor:DraftEditor,EditorBlock:require$$9,EditorState:EditorState_1,CompositeDecorator:CompositeDraftDecorator_1,Entity:DraftEntity_1,EntityInstance:DraftEntityInstance_1,BlockMapBuilder:BlockMapBuilder_1,CharacterMetadata:CharacterMetadata_1,ContentBlock:ContentBlock_1,ContentState:ContentState_1,RawDraftContentState:require$$15,SelectionState:SelectionState_1,AtomicBlockUtils:AtomicBlockUtils_1,KeyBindingUtil:KeyBindingUtil_1,Modifier:DraftModifier_1,RichUtils:RichTextEditorUtil_1,DefaultDraftBlockRenderMap:DefaultDraftBlockRenderMap_1,DefaultDraftInlineStyle:DefaultDraftInlineStyle$1,convertFromHTML:convertFromHTMLToContentBlocks,convertFromRaw:convertFromRawToDraftState_1,convertToRaw:convertFromDraftStateToRaw_1,genKey:generateRandomKey_1,getDefaultKeyBinding:getDefaultKeyBinding_1,getVisibleSelectionRect:getVisibleSelectionRect_1},Draft=DraftPublic,draftjsToHtml={exports:{}};!function(){function i(e,t){if(e)for(var n in e)!{}.hasOwnProperty.call(e,n)||t(n,e[n])}function u(e){return e&&n[e]}function c(e){var n="";return i(e,function(e,t){t&&(n+="".concat(e,":").concat(t,";"))}),n}function t(e,t){var n=[],r=0,i=e.entityRanges.map(function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}});return(i=(i=i.concat(function(e,t){var n=[];if(t)for(var r,i=0,o=0,a=e,s=t.trigger||"#",l=t.separator||" ";0<a.length&&0<=o;)a[0]===s?(i=o=0,a=a.substr(s.length)):0<=(o=a.indexOf(l+s))&&(a=a.substr(o+(l+s).length),i+=o+l.length),0<=o&&(r=0<=a.indexOf(l)?a.indexOf(l):a.length,(r=a.substr(0,r))&&0<r.length&&n.push({offset:i,length:r.length+s.length,type:"HASHTAG"}),i+=s.length);return n}(e.text,t))).sort(function(e,t){return e.offset-t.offset})).forEach(function(e){e.offset>r&&n.push({start:r,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),r=e.offset+e.length}),r<e.text.length&&n.push({start:r,end:e.text.length}),n}function l(e,t,n,r){t=e[t];if("function"==typeof r){var i=r(t,n);if(i)return i}if("MENTION"===t.type)return'<a href="'.concat(t.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(t.data.value,'">').concat(n,"</a>");if("LINK"===t.type){i=t.data.targetOption||"_self";return'<a href="'.concat(t.data.url,'" target="').concat(i,'">').concat(n,"</a>")}if("IMAGE"!==t.type)return"EMBEDDED_LINK"===t.type?'<iframe width="'.concat(t.data.width,'" height="').concat(t.data.height,'" src="').concat(t.data.src,'" frameBorder="0"></iframe>'):n;n=t.data.alignment;return n&&n.length?'<div style="text-align:'.concat(n,';"><img src="').concat(t.data.src,'" alt="').concat(t.data.alt,'" style="height: ').concat(t.data.height,";width: ").concat(t.data.width,'"/></div>'):'<img src="'.concat(t.data.src,'" alt="').concat(t.data.alt,'" style="height: ').concat(t.data.height,";width: ").concat(t.data.width,'"/>')}function s(e,t,n,r){var i,o,a,s,l,u=[],c=Array.from(e.text);if(0<c.length)for(var d,f=(e=(s=e).text,s=s.inlineStyleRanges,l={BOLD:new Array(e.length),ITALIC:new Array(e.length),UNDERLINE:new Array(e.length),STRIKETHROUGH:new Array(e.length),CODE:new Array(e.length),SUPERSCRIPT:new Array(e.length),SUBSCRIPT:new Array(e.length),COLOR:new Array(e.length),BGCOLOR:new Array(e.length),FONTSIZE:new Array(e.length),FONTFAMILY:new Array(e.length),length:e.length},s&&0<s.length&&s.forEach(function(e){for(var t=e.offset,n=t+e.length,r=t;r<n;r+=1)0===e.style.indexOf("color-")?l.COLOR[r]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?l.BGCOLOR[r]=e.style.substring(8):0===e.style.indexOf("fontsize-")?l.FONTSIZE[r]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?l.FONTFAMILY[r]=e.style.substring(11):l[e.style]&&(l[e.style][r]=!0)}),l),p=n;p<r;p+=1)p!==n&&function(t,e,n){var r=!0;return 0<n&&n<t.length?e.forEach(function(e){r=r&&t[e][n]===t[e][n-1]}):r=!1,r}(f,t,p)?(d.text.push(c[p]),d.end=p+1):(d={styles:(o=p,void 0,a={},(i=f).COLOR[o]&&(a.COLOR=i.COLOR[o]),i.BGCOLOR[o]&&(a.BGCOLOR=i.BGCOLOR[o]),i.FONTSIZE[o]&&(a.FONTSIZE=i.FONTSIZE[o]),i.FONTFAMILY[o]&&(a.FONTFAMILY=i.FONTFAMILY[o]),i.UNDERLINE[o]&&(a.UNDERLINE=!0),i.ITALIC[o]&&(a.ITALIC=!0),i.BOLD[o]&&(a.BOLD=!0),i.STRIKETHROUGH[o]&&(a.STRIKETHROUGH=!0),i.CODE[o]&&(a.CODE=!0),i.SUBSCRIPT[o]&&(a.SUBSCRIPT=!0),i.SUPERSCRIPT[o]&&(a.SUPERSCRIPT=!0),a),text:[c[p]],start:p,end:p+1},u.push(d));return u}function r(e){var t=e.styles,e=e.text,r=(e=e)&&0<e.length?e.map(function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}}).join(""):"";return i(t,function(e,t){var n;n=r,r="BOLD"===(e=e)?"<strong>".concat(n,"</strong>"):"ITALIC"===e?"<em>".concat(n,"</em>"):"UNDERLINE"===e?"<ins>".concat(n,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(n,"</del>"):"CODE"===e?"<code>".concat(n,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(n,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(n,"</sub>"):n}),r}function d(e,t){var e=s(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),n="";return e.forEach(function(e){n+=r(e)}),n=function(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(n+='"',">").concat(t,"</span>")}return t}(t.styles,n)}function f(n,r,e,i){var o=[],a=t(n,e);return a.forEach(function(e,t){e=function(t,e,n,r){var i=[];s(t,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end).forEach(function(e){i.push(d(t,e))});var o=i.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(o=l(e,n.entityKey,o,r)):"HASHTAG"===n.type&&(o='<a href="'.concat(o,'" class="wysiwyg-hashtag">').concat(o,"</a>")),o}(n,r,e,i);0===t&&(e=function(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}(e)),t===a.length-1&&(e=function(e){if(e){for(var t=e,n=t.length-1;0<=n&&" "===t[n];--n)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}(e)),o.push(e)}),o.join("")}function p(e,n,r,i,o){var a,s=[],l=[];return e.forEach(function(e){var t=!1;a?a.type!==e.type?(s.push("</".concat(u(a.type),">\n")),s.push("<".concat(u(e.type),">\n"))):a.depth===e.depth?l&&0<l.length&&(s.push(p(l,n,r,i,o)),l=[]):(t=!0,l.push(e)):s.push("<".concat(u(e.type),">\n")),t||(s.push("<li"),(t=c(e.data))&&s.push(' style="'.concat(t,'"')),i&&s.push(' dir = "auto"'),s.push(">"),s.push(f(e,n,r,o)),s.push("</li>\n"),a=e)}),l&&0<l.length&&s.push(p(l,n,r,i,o)),s.push("</".concat(u(a.type),">\n")),s.join("")}var n;draftjsToHtml.exports=(n={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"},function(e,n,r,i){var o=[];{var a,s,t;e&&(t=e.blocks,a=e.entityMap,t&&0<t.length&&(s=[],t.forEach(function(e){var t;"unordered-list-item"===(t=e.type)||"ordered-list-item"===t?s.push(e):(0<s.length&&(t=p(s,a,n,i),o.push(t),s=[]),e=function(e,t,n,r,i){var o=[];{var a,s;!function(e){if(0<e.entityRanges.length&&(function(e){return null==e||0===e.length||0===e.trim().length}(e.text)||"atomic"===e.type))return!0;return!1}(e)?(a=u(e.type))&&(o.push("<".concat(a)),(s=c(e.data))&&o.push(' style="'.concat(s,'"')),r&&o.push(' dir = "auto"'),o.push(">"),o.push(f(e,t,n,i)),o.push("</".concat(a,">"))):o.push(l(t,e.entityRanges[0].key,void 0,i))}return o.push("\n"),o.join("")}(e,a,n,r,i),o.push(e))}),0<s.length&&(t=p(s,a,n,r,i),o.push(t),s=[])))}return o.join("")})}();var draftToHtml=draftjsToHtml.exports,htmlToDraftjs={exports:{}};!function(){function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r,o,a;window,htmlToDraftjs.exports=(n=immutable.exports,r=Draft,a={},i.m=o=[function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){e.exports=n(3)},function(e,t,n){n.r(t);var y=n(1),s=n(0),v=function(e,t,n){var r=e.textContent;return""===r.trim()?{chunk:(e=n,{text:" ",inlines:[new s.OrderedSet],entities:[e],blocks:[]})}:{chunk:{text:r,inlines:Array(r.length).fill(t),entities:Array(r.length).fill(n),blocks:[]}}},b=function(){return{text:"\n",inlines:[new s.OrderedSet],entities:new Array(1),blocks:[]}},_=function(){return{text:"",inlines:[],entities:[],blocks:[]}},w=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new s.Map({})}]}},S=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new s.Map({})}]}},E=function(e){return{text:"\r ",inlines:[new s.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new s.Map({})}]}},C=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},$=new s.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),k={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function O(e){return e.style.textAlign?new s.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new s.Map({"margin-left":e.style.marginLeft}):void 0}var T=function(e){var t,n=void 0;return e instanceof HTMLAnchorElement&&(t={},n=e.dataset&&void 0!==e.dataset.mention?(t.url=e.href,t.text=e.innerHTML,t.value=e.dataset.value,y.Entity.__create("MENTION","IMMUTABLE",t)):(t.url=e.getAttribute&&e.getAttribute("href")||e.href,t.title=e.innerHTML,t.targetOption=e.target,y.Entity.__create("LINK","MUTABLE",t))),n};n.d(t,"default",function(){return r});var l=" ",u=new RegExp("&nbsp;","g"),x=!0;function r(e,t){var n,r=(r=t,n=e.trim().replace(u,l),t=n,e=null,document.implementation&&document.implementation.createHTMLDocument&&((n=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=t,e=n.getElementsByTagName("body")[0]),e?(x=!0,{chunk:function e(t,n,r,i,o,a){var s=t.nodeName.toLowerCase();if(a){var l;if(l=a(s,t))return l=y.Entity.__create(l.type,l.mutability,l.data||{}),{chunk:E(l)}}if("#text"===s&&"\n"!==t.textContent)return v(t,n,o);if("br"===s)return{chunk:b()};if("img"===s&&t instanceof HTMLImageElement){var u={};return u.src=t.getAttribute&&t.getAttribute("src")||t.src,u.alt=t.alt,u.height=t.style.height,u.width=t.style.width,t.style.float&&(u.alignment=t.style.float),u=y.Entity.__create("IMAGE","MUTABLE",u),{chunk:E(u)}}if("video"===s&&t instanceof HTMLVideoElement)return(u={}).src=t.getAttribute&&t.getAttribute("src")||t.src,u.alt=t.alt,u.height=t.style.height,u.width=t.style.width,t.style.float&&(u.alignment=t.style.float),u=y.Entity.__create("VIDEO","MUTABLE",u),{chunk:E(u)};if("iframe"===s&&t instanceof HTMLIFrameElement){(p={}).src=t.getAttribute&&t.getAttribute("src")||t.src,p.height=t.height,p.width=t.width;var c=y.Entity.__create("EMBEDDED_LINK","MUTABLE",p);return{chunk:E(c)}}var d,f,p=function(t,n){var e=$.filter(function(e){return e.element===t&&(!e.wrapper||e.wrapper===n)||e.wrapper===t||e.aliasedElements&&-1<e.aliasedElements.indexOf(t)}).keySeq().toSet().toArray();if(1===e.length)return e[0]}(s,i);p&&("ul"===s||"ol"===s?(i=s,r+=1):("unordered-list-item"!==p&&"ordered-list-item"!==p&&(i="",r=-1),x?(m=w(p,O(t)),x=!1):m=S(p,r,O(t)))),m=m||_(),c=t,p=n,(s=k[s])?f=p.add(s).toOrderedSet():c instanceof HTMLElement&&(d=c,f=(f=p).withMutations(function(e){var t=d.style.color,n=d.style.backgroundColor,r=d.style.fontSize,i=d.style.fontFamily.replace(/^"|"$/g,""),o=d.style.fontWeight,a=d.style.textDecoration,s=d.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),i&&e.add("fontfamily-".concat(i)),"bold"===o&&e.add(k.strong),"underline"===a&&e.add(k.ins),"italic"===s&&e.add(k.em)}).toOrderedSet()),n=f;for(var h=t.firstChild;h;)var g=e(h,n,r,i,T(h)||o,a).chunk,m=C(m,g),h=h.nextSibling;return{chunk:m}}(e,new s.OrderedSet,-1,"",void 0,r).chunk}):null);if(r){var o=r.chunk,i=new s.OrderedMap({});o.entities&&o.entities.forEach(function(e){e&&(i=i.set(e,y.Entity.__get(e)))});var a=0;return{contentBlocks:o.text.split("\r").map(function(e,t){var n=a+e.length,r=o&&o.inlines.slice(a,n),i=o&&o.entities.slice(a,n),r=new s.List(r.map(function(e,t){e={style:e,entity:null};return i[t]&&(e.entity=i[t]),y.CharacterMetadata.create(e)}));return a=n,new y.ContentBlock({key:Object(y.genKey)(),type:o&&o.blocks[t]&&o.blocks[t].type||"unstyled",depth:o&&o.blocks[t]&&o.blocks[t].depth,data:o&&o.blocks[t]&&o.blocks[t].data||new s.Map({}),text:e,characterList:r})}),entityMap:i}}return null}}],i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2))}();var htmlToDraft=getDefaultExportFromCjs(htmlToDraftjs.exports),Editor=function(n){var e=useState(Draft.EditorState.createEmpty()),e=_slicedToArray$1(e,2),t=e[0],r=e[1];return useEffect(function(){var e,t;n.value&&(e=(t=htmlToDraft(n.value)).contentBlocks,t=t.entityMap,t=Draft.ContentState.createFromBlockArray(e,t),t=Draft.EditorState.createWithContent(t),r(t))},[]),useEffect(function(){var e=draftToHtml(Draft.convertToRaw(t.getCurrentContent()));n.onChange({target:{type:"editor",value:e,name:n.name}})},[t]),createElement(Editor$2,{placeholder:null==n?void 0:n.placeholder,toolbar:toolbarOptions,editorState:t,toolbarClassName:"wprf-editor-toolbar",wrapperClassName:"wprf-editor wprf-control",editorClassName:"wprf-editor-main",onEditorStateChange:r})},Editor$1=withLabel(Editor),Button=function(o){var e,t,n;if((null==o||!o.text)&&!0!==(null==o?void 0:o.group))throw new Error("Button has a required params #text.");var r=validFieldProps(o,["is_pro","visible","disable","parentIndex","context","onBlur","value","ajax","text"]),i=useState(!1),a=_slicedToArray$1(i,2),i=a[0],s=a[1];if(null!=o&&o.href)return createElement("a",{href:-1===(null==o?void 0:o.href)?null==o?void 0:o.value:null==o?void 0:o.href,target:null==o?void 0:o.target,className:classNames("wprf-control wprf-button wprf-href-btn",null==o?void 0:o.classes)},null==o?void 0:o.text);if(null!=o&&o.group){a=o.fields.map(function(e,t){t=[].concat(_toConsumableArray$3(o.parentIndex),["fields",t]);return createElement(Field$1,_extends$1({key:e.name},e,{parentIndex:t}))});return createElement("div",{className:"wprf-control wprf-button-group wprf-flex"},a)}return createElement("button",_extends$1({},r,{name:o.name,disabled:i,onClick:null!==(r=null==o?void 0:o.onClick)&&void 0!==r?r:function(e){null!=o&&o.ajax&&(s(!0),hitAAJX(o.ajax,o.context).then(function(e){var t,n,r,i;s(!1),o.onChange({target:{type:"button",name:o.name,value:!0}}),null!==(t=o.ajax)&&void 0!==t&&t.hideSwal||Swal.fire({text:(null===(t=o.ajax)||void 0===t||null===(n=t.swal)||void 0===n?void 0:n.text)||"Complete",title:(null===(n=o.ajax)||void 0===n||null===(r=n.swal)||void 0===r?void 0:r.title)||"Complete",icon:(null===(r=o.ajax)||void 0===r||null===(i=r.swal)||void 0===i?void 0:i.icon)||"success",timer:2e3})}).catch(function(e){console.error("Error In Button Called",o.name,e),s(!1),o.onChange({target:{type:"button",name:o.name,value:!1}}),null!==(e=o.ajax)&&void 0!==e&&e.hideSwal||Swal.fire({text:"Something went wrong.",title:"!!!",icon:"error",timer:2e3})})),useTrigger(o)},className:classNames("wprf-control wprf-button wprf-btn",null==o?void 0:o.classes)}),isObject(null==o?void 0:o.text)&&null!=o&&o.ajax?i?null==o||null===(e=o.text)||void 0===e?void 0:e.loading:o.value?null==o||null===(t=o.text)||void 0===t?void 0:t.saved:null==o||null===(n=o.text)||void 0===n?void 0:n.normal:null==o?void 0:o.text)},Button$1=withLabel(Button),eligibleMessage=function(e){if(null!=e&&e.messages)for(var t in e.messages){t=e.messages[t];if(when(t.rules,e.context.values))return t}return{message:null==e?void 0:e.message,type:"normal"}},Message=function(e){var t=eligibleMessage(e),n=t.html,r=t.message,t=t.type,t=void 0===t?"warning":t;return r?createElement("div",{className:classNames("wprf-control","wprf-message","wprf-".concat(t,"-message"),"wprf-".concat(e.name,"-message"))},n&&createElement("p",{dangerouslySetInnerHTML:{__html:r}}),!n&&createElement("p",null,r)):createElement(Fragment,null)},Modal=function(t){var e;if(null==(null==t?void 0:t.body)||null==(null==t?void 0:t.button))throw new Error("Modal needs button/body with it.");var n=useState(!1),r=_slicedToArray$1(n,2),i=r[0],o=r[1],n=useState(!1),r=_slicedToArray$1(n,2),n=r[0];r[1];function a(){return o(!1)}r=useCallback(function(){},[]);return createElement("div",{className:"wprf-control wprf-modal",id:"wprf-modal-".concat(t.name)},createElement(GenericField,_extends$1({type:"button"},null==t?void 0:t.button,{onClick:function(){return o(!0)}})),i&&createElement(SweetAlert$2,{customClass:"wprf-modal-inner",style:{maxWidth:"900px",width:"100%",overflowY:"scroll",margin:"50px auto"},closeBtnStyle:{top:"5px",right:"5px",color:"#f78c8c",fontSize:"18px",border:"1px solid #f78c8c",borderRadius:"50%",width:"30px",height:"30px",display:"inline-flex",alignItems:"center",justifyContent:"center"},title:createElement(ModalHeader,{content:null==t||null===(e=t.body)||void 0===e?void 0:e.header}),onConfirm:r,showConfirm:!1,showCloseButton:!0,closeOnClickOutside:!0,onCancel:a,afterUpdate:function(){var e;null!=t&&t.cancel&&null!==(e=t.context.values)&&void 0!==e&&e[t.cancel]&&a()}},createElement(ModalContent,_extends$1({},t,{isLoading:n,closeModal:a,context:t.context,onConfirm:r}))))},MyPopover=withState({isVisible:!1})(function(e){var t=e.isVisible,n=e.setState;return createElement(Button$2,{isSecondary:!0,onClick:function(){n(function(e){return{isVisible:!e.isVisible}})}},"Toggle Popover!",t&&createElement(Popover,null,"Popover is toggled!"))}),AdvancedTemplate=function(n){function r(e,t){return e.length?null===(e=e.find(function(e){return e.name==t}))||void 0===e?void 0:e.fields:[]}var e,i=useBuilderContext(),o=useRef(),t=useState(Draft.EditorState.createEmpty()),a=_slicedToArray$1(t,2),s=a[0],l=a[1],t=useState([]),a=_slicedToArray$1(t,2),t=a[0],u=a[1],c=r(i.tabs,"content_tab"),c=r(c,"content");c=r(c,"notification-template"),useEffect(function(){n.value&&(e=(t=htmlToDraft(n.value)).contentBlocks,t=t.entityMap,e=Draft.ContentState.createFromBlockArray(e,t),t=Draft.EditorState.createWithContent(e),l(t));var e=r(i.tabs,"content_tab"),e=r(e,"content");e=r(e,"notification-template");var t=n.parentIndex,t=[].concat(_toConsumableArray$3(t),[t.pop()-1]);e[0].menuOpen=!0,i.setFormField(t,e);e=e.filter(function(e){return null==e?void 0:e.options}).map(function(e){return null==e?void 0:e.options}).flat();u(e)},[]),useEffect(function(){var e,t;0<(null===c||void 0===c||null===(e=c[0])||void 0===e||null===(t=e.options)||void 0===t?void 0:t.length)&&(t=c.filter(function(e){return null==e?void 0:e.options}).map(function(e){return null==e?void 0:e.options}).flat(),u(t))},[null===c||void 0===c||null===(e=c[0])||void 0===e?void 0:e.options]),useEffect(function(){var e=draftToHtml(Draft.convertToRaw(s.getCurrentContent()));n.onChange({target:{type:"advanced-template",value:e,name:n.name}})},[s]);return useEffect(function(){var e,t;null!==(t=i.savedValues)&&void 0!==t&&t.advanced_template||(e=applyFilters("nx_adv_template_default",i.values),e=(t=htmlToDraft(e.map(function(e){return"<p>".concat(e,"</p>")}).join("\r\n"))).contentBlocks,t=t.entityMap,t=Draft.ContentState.createFromBlockArray(e,t),t=Draft.EditorState.createWithContent(t),l(t))},[i.values.themes,i.values["notification-template"]]),createElement(Fragment,null,createElement(Editor$2,{ref:o,toolbar:toolbarOptions,editorState:s,toolbarClassName:"wprf-editor-toolbar",wrapperClassName:"wprf-editor wprf-control",editorClassName:"wprf-editor-main",onEditorStateChange:l,handleBeforeInput:function(e,t,n){if(3<Draft.convertToRaw(t.getCurrentContent()).blocks.length)return"handled"},handleReturn:function(e,t){if(3<=Draft.convertToRaw(t.getCurrentContent()).blocks.length)return e.preventDefault(),e.stopPropagation(),"handled"},handlePastedText:function(e,t,n){if(3<Draft.convertToRaw(n.getCurrentContent()).blocks.length+e.split(/\r\n|\r|\n/).length)return!0}}),createElement("div",{className:"template-options"},"Variables:",i.eligibleOptions(t).map(function(e,t){if("tag_custom"!=e.value&&"select_a_tag"!=e.value){var r=e.value.replace("tag_","");return createElement(React$1.Fragment,{key:t},createElement("span",{className:"button button-secondary","data-value":e.label,onClick:function(){return n=r,e=s.getCurrentContent(),t=s.getSelection(),Draft.EditorState.createEmpty(),n=t.isCollapsed()?Draft.Modifier.insertText(e,t,"{{".concat(n,"}}")):Draft.Modifier.replaceText(e,t,"{{".concat(n,"}}")),n=Draft.EditorState.push(s,n,"insert-fragment"),l(n),void setTimeout(function(){o.current.editor.focus()},300);var e,t,n}},"{{".concat(r,"}}"))," ")}})))},InnerContent=function(e){var t=e.fields,r=e.parentIndex,n=e.context,i=useState([]),e=_slicedToArray$1(i,2),o=e[0],a=e[1],i=useState([]),e=_slicedToArray$1(i,2),i=e[0],s=e[1];return useEffect(function(){var e=sortingFields(t);n.setFormField([r,"fields"],e),a(e)},[]),useEffect(function(){var e;isArray(o)&&0<o.length&&(e=o.map(function(e,t){var n=[r,"fields",t];return"section"===e.type?createElement(GenericField,_extends$1({key:"input-".concat(e.name,"-").concat(t)},e,{parentIndex:n})):createElement(Field$1,_extends$1({key:"input-".concat(e.name,"-").concat(t)},e,{parentIndex:n}))}),s(e))},[o]),createElement(Fragment,null,i)},_excluded$1=["label"],Submit=function(e){var t=e.label,t=void 0===t?"Save Changes":t;_objectWithoutProperties(e,_excluded$1);var n=useBuilderContext(),e=useCallback(function(e){var t;null!==(t=n.submit)&&void 0!==t&&t.onSubmit&&n.submit.onSubmit(e,n)},[n]);return createElement("div",{className:"wprf-submit wprf-control"},createElement(Button$2,{className:"wprf-submit-button",onClick:e},t))},SteppedButton=function(r){var e=useState(void 0),e=_slicedToArray$1(e,2),i=e[0],n=e[1],e=useState(void 0),e=_slicedToArray$1(e,2),o=e[0],a=e[1],s=useBuilderContext();return useEffect(function(){var e=r.tabs.map(function(e){return e.id}),t=e.findIndex(function(e){return e===s.config.active});-1!=t&&a(e[t-1]),t<=e.length&&n(e[t+1])},[s.config.active,r.tabs]),createElement("div",{className:"wprf-stepped-button"},Object.keys(r.config.buttons).map(function(e,t){var n;return createElement(React$1.Fragment,{key:"button_".concat(e,"_").concat(t)},("next"===e&&void 0!==i||"prev"===e&&void 0!==o)&&createElement(Button$2,{className:"wprf-btn wprf-step-btn-".concat(e),onClick:function(){return s.setActiveTab("next"===e?i:o)}},r.config.buttons[e]),null==i&&(null===(t=r.config.buttons)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.type)&&createElement(Field$1,null===(n=r.config.buttons)||void 0===n?void 0:n[e]))}))},SteppedButton$1=React$1.memo(SteppedButton),_excluded=["tabs","active","submit","config"],Content=function(e){var t,n,r,i,o,a=e.tabs,s=e.active,l=e.submit,u=e.config,c=_objectWithoutProperties(e,_excluded);if(void 0===a)throw new Error("There are no #tabs args defined in props.");var d=useBuilderContext();if(!isArray(a))throw new Error("Not an array.");var f=useState([]),e=_slicedToArray$1(f,2),f=e[0],p=e[1];return useEffect(function(){var e=a.filter(function(e){return isVisible(null==d?void 0:d.values,e)});p(e)},[a,null==d||null===(t=d.values)||void 0===t?void 0:t.source]),createElement("div",{className:classNames("wprf-tab-content-wrapper",null==d||null===(n=d.values)||void 0===n?void 0:n.source,null==d||null===(r=d.values)||void 0===r?void 0:r.themes)},createElement("div",{className:"wprf-tab-flex"},createElement("div",{className:"wprf-tab-contents"},a.map(function(e,t){if(!isVisible(null==d?void 0:d.values,e))return"";var n=classNames("wprf-tab-content","wprf-tab-".concat(null==e?void 0:e.id),{"wprf-active":s===e.id});return createElement("div",{id:null==e?void 0:e.id,className:n,key:null==e?void 0:e.id},(null==e?void 0:e.label)&&(null===(n=null==u?void 0:u.title)||void 0===n||n)&&createElement("h4",null,e.label),createElement(InnerContent,{context:d,fields:null==e?void 0:e.fields,parentIndex:t}))})),applyFilters("wprf_tab_content",c)),(null==u||null===(i=u.step)||void 0===i?void 0:i.show)&&createElement(SteppedButton$1,{tabs:f,config:null!==(o=u.step)&&void 0!==o?o:{}}),(null===(o=null==l?void 0:l.show)||void 0===o||o)&&(null==l||!l.rules||when(null==l?void 0:l.rules,{config:u}))&&createElement(Submit,l))},Tab=function(e){var t=useBuilderContext(),n=useState(e.config.active),n=_slicedToArray$1(n,2),r=n[0],i=n[1];return useEffect(function(){i(t.config.active)},[t.config.active]),useEffect(function(){t.setActiveTab(r)},[r]),createElement(Fragment,null,createElement(Menu,{active:r,setActive:function(e){return i(e)},tabs:t.tabs,config:e.config,context:t}),createElement(Content,_extends$1({},e,{tabs:t.tabs,active:r,submit:null==e?void 0:e.submit,config:e.config})))};registerStore("formbuilder",store);var FormBuilder=function(e){var t=classNames("wp-react-form wprf-tabs-wrapper",null==e?void 0:e.className,{"wprf-tab-menu-as-sidebar":null===(t=e.config)||void 0===t?void 0:t.sidebar});return createElement("div",{className:t},createElement(Tab,e))};export{Action,AdvancedTemplate,BuilderConsumer,BuilderProvider,Button$1 as Button,ColorPicker$1 as ColorPicker,Column,Date$1 as Date,Editor$1 as Editor,Field$1 as Field,FormBuilder,GenericField,GenericInput,Group$1 as Group,Image,Input$1 as Input,Label,Media$1 as Media,Message,Modal,ObjectFilter,Radio,Repeater,Row,Section$1 as Section,Select$1 as Select,Slider,SweetAlert,MyPopover as Test,Textarea$1 as Textarea,Toggle,_extends,builderReducer,executeChange,getIn,getSelectedValues,getStoreData,getTime,hitAAJX,isArray,isEmptyObj,isExists,isFunction,isNumber$1 as isNumber,isObject,isString,isVisible,merge,objectWithoutPropertiesLoose,processAjaxData,setIn,setStoreData,sortingFields,triggerDefaults,useBuilder,useBuilderContext,useDefaults,validFieldProps,when,withLabel,withProps,withState$1 as withState,wpFetch};
