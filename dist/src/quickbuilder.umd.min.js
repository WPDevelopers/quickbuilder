!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@wordpress/data"),require("lodash-es"),require("@wordpress/api-fetch"),require("@wordpress/date"),require("moment"),require("intersect"),require("@wordpress/i18n"),require("classnames"),require("lodash"),require("@wordpress/hooks"),require("sweetalert2"),require("@wordpress/components"),require("copy-to-clipboard"),require("react-select"),require("react-sortablejs"),require("react-select/async"),require("html-react-parser"),require("@wordpress/media-utils"),require("react-draft-wysiwyg"),require("draft-js"),require("draftjs-to-html"),require("html-to-draftjs"),require("react-draft-wysiwyg/dist/react-draft-wysiwyg.css"),require("react-bootstrap-sweetalert")):"function"==typeof define&&define.amd?define(["exports","react","@wordpress/data","lodash-es","@wordpress/api-fetch","@wordpress/date","moment","intersect","@wordpress/i18n","classnames","lodash","@wordpress/hooks","sweetalert2","@wordpress/components","copy-to-clipboard","react-select","react-sortablejs","react-select/async","html-react-parser","@wordpress/media-utils","react-draft-wysiwyg","draft-js","draftjs-to-html","html-to-draftjs","react-draft-wysiwyg/dist/react-draft-wysiwyg.css","react-bootstrap-sweetalert"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).quickbuilder={},e.React,e.wpData,e.lodashEs,e.wpApiFetch,e.wpDate,e.momentLib,e.intersect,e.wpI18n,e.classNames,e.lodash,e.wpHooks,e.sweetalert2,e.wpComponents,e.copy,e.reactSelect,e.reactSortablejs,e.AsyncSelect,e.parse,e.wpMedia,e.reactDraftWysiwyg,e.draftJs,e.draftjsToHtml,e.htmlToDraftjs,0,e.sweetalert)}(this,function(e,C,t,c,n,s,r,l,v,o,a,m,i,b,u,d,f,p,y,g,w,E,h,O,j,x){"use strict";function S(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var _=S(C),P=S(n),k=S(r),D=S(l),N=S(o),T=S(i),F=S(u),I=S(d),V=S(p),A=S(y),R=S(h),L=S(O),B=S(x);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function G(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function J(e){return null!==e&&"number"==typeof e}function $(e){return null!==e&&"function"==typeof e}function X(e,t){var n,r,l,o,a=t,i=e;return le(e)||(e.persist&&e.persist(),r=(n=e.target||e.currentTarget).type,l=n.name,o=n.value,e=n.checked,n.multiple,a=t||l,i=/number|range/.test(r)?(l=parseFloat(o),isNaN(l)?"":l):/checkbox/.test(r)?e:o),{field:a,val:i}}function Y(e,t,n){for(var r=c.clone(e),l=r,o=0,a=c.toPath(t);o<a.length-1;o++){var i=a[o],u=se(e,a.slice(0,o+1));l=u&&(ie(u)||Array.isArray(u))?l[i]=c.clone(u):(u=a[o+1],l[i]=oe(u)&&0<=Number(u)?[]:{})}return(0===o?e:l)[a[o]]===n?e:(void 0===n?delete l[a[o]]:l[a[o]]=n,0===o&&void 0===n&&delete r[a[o]],r)}function K(e){var t=e.type,n=["validation_rules","default","rules","meta","switch"].concat(G(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]));return"select"!==t&&"radio-card"!==t&&"toggle"!==t&&e.multiple&&n.push("options"),"tab"!==t&&"group"!==t&&"repeater"!==t&&"section"!==t&&"button"!==t&&n.push("fields"),n=fe(e,n),null==e||!e.label||null!=e&&e.placeholder||(n.placeholder=e.label),n}function Q(o){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null!==a&&o){var e=!0;if(e=null!=o&&o.rules?we(null==o?void 0:o.rules,a.values):e){var r={};return Object.keys(o.data).map(function(e){var t,n;-1<(null===(n=(t=o.data[e]).indexOf)||void 0===n?void 0:n.call(t,"@"))?(n=o.data[e].substr(1),r[e]=null===(t=a.values)||void 0===t?void 0:t[n]):r[e]=o.data[e]}),re({path:o.api,data:r}).then(function(e){var t;"success"==(null==e?void 0:e.status)&&null!=e&&e.redirect&&(window.location=null==e?void 0:e.redirect);var n,r,l=null!=e&&null!==(t=e.data)&&void 0!==t&&t.context?e.data.context:!(null==e||!e.context)&&e.context;return l&&ie(l)&&Object.keys(l).map(function(e){a.setFieldValue(e,l[e])}),null!=e&&null!==(n=e.data)&&void 0!==n&&n.download&&pe({data:JSON.stringify(e.data.download),fileName:(null==e||null===(r=e.data)||void 0===r?void 0:r.filename)||"export.json",fileType:"text/json"}),null!=o&&o.trigger&&le(null==o?void 0:o.trigger)&&(n=o.trigger.indexOf("@"),r=o.trigger.indexOf(":"),0===n&&0<r&&(n=o.trigger.substr(1,r-1),"true"==(r=o.trigger.substr(r+1))?r=!0:"false"==r&&(r=!1),a.setFieldValue(n,r))),e})}}return Promise.reject(!1)}function Z(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=s.__experimentalGetSettings();return k.default.utc(e||void 0).utcOffset(+(null==r||null===(t=r.timezone)||void 0===t?void 0:t.offset),n)}function ee(e,t,n){var r=G(e),t=t.filter(function(t){return r.findIndex(function(e){return e[n]===t[n]})<=-1});return[].concat(G(r),G(t))}function te(e){return("function"!=typeof Symbol||"symbol"!==U(Symbol.iterator))&&e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":U(e)}function ne(e,t){var n=!(2<(arguments.length<=2?0:arguments.length-2)&&void 0!==(arguments.length<=4?void 0:arguments[4]))||arguments.length<=4?void 0:arguments[4];return String.prototype.split.call(t,/[,[\].]+?/).filter(Boolean).reduce(function(e,t){return e&&Object.hasOwnProperty.call(e,t)?e[t]:n},e)}var re=function(e){e=W(W({},e),{},{method:"POST"});return P.default(e)},le=function(e){return null!==e&&"string"==typeof e},oe=function(e){return String(Math.floor(Number(e)))===e},ae=function(e){return null!==e&&"object"===U(e)&&Array.isArray(e)},ie=function(e){return null!==e&&"object"===U(e)&&!ae(e)},ue=function(e,t){if(null==t||!t.rules||null==t.name)return!0;e=we(t.rules,e);return Boolean(e)},ce=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},se=function(e,t,n,r){void 0===r&&(r=0);for(var l=c.toPath(t);e&&r<l.length;)e=e[l[r++]];return void 0===e?n:e},de=function(e){return[].concat(e).sort(function(e,t){return null==e.priority||null==t.priority?0:e.priority>t.priority?1:-1})},fe=function(e,t){if(null==e)return{};for(var n,r={},l=Object.keys(e),o=0;o<l.length;o++)n=l[o],0<=t.indexOf(n)||(r[n]=e[n]);return r},pe=function(e){var t=e.data,n=e.fileName,e=e.fileType,t=new Blob([t],{type:e}),e=document.createElement("a");e.download=n,e.href=window.URL.createObjectURL(t);t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e.dispatchEvent(t),e.remove()},ve={is:function(e,t,n){return ne(n,e)==t},"!is":function(e,t,n){return!ve.is(e,t,n)},includes:function(e,t,n){if(!ce(n)){n=ne(n,e);if("function"!=te(n)){if(ae(t)&&ae(n))return null===(e=D.default(n,t))||void 0===e?void 0:e.length;if(ae(t)&&"string"==te(n))return t.includes(n);if(ae(n)&&"string"==te(t))return n.includes(t)}}return!1},"!includes":function(e,t,n){return!ve.includes(e,t,n)},isOfType:function(e,t,n){return te(ne(n,e))===t},"!isOfType":function(e,t,n){return!ve.isOfType(e,t,n)},allOf:function(e,t,n){if(!Array.isArray(t))throw Error(v.__('"allOf" condition requires an array as #3 argument',"notificationx"));var r=ne(n,e);return t.every(function(e){return r.includes(e)})},anyOf:function(e,t,n){if(!Array.isArray(t))throw Error(v.__('"anyOf" condition requires an array as #3 argument',"notificationx"));e=ne(n,e);return t.includes(e)},gt:function(e,t,n){return ne(n,e)>t},gte:function(e,t,n){return ne(n,e)>=t},lt:function(e,t,n){return ne(n,e)<t},lte:function(e,t,n){return ne(n,e)<=t}},me={and:function(e){return!e.includes(!1)},or:function(e){return e.includes(!0)},not:function(e){if(1!==e.length)throw Error(v.__('"not" can have only one comparison rule, multiple rules given',"notificationx"));return!e[0]}},be=function(e){return!!(Array.isArray(e)&&Array.isArray(e[1])&&e[0]&&me[e[0].toLowerCase()])},ye=function(e,t){var n=e[0],r=e[1],e=e[2];if("string"!=typeof n||void 0===ve[n])throw Error(v.sprintf(v.__("Invalid comparison rule %s.","notificationx"),n));return ve[n](r,e,t)},ge=function(e,t){return me[e.toLowerCase()](t)},we=function(e,t){return"function"==typeof e?Promise.resolve(e(t)):function(e,n){if(!be(e))return ye(e,n);var t=e.slice(0,1)[0],e=e.slice(1).map(function(e,t){return(be(e)?we:ye)(e,n)});return ge(t,e)}(e,t)};function Ee(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Oe={savedValues:{type:"conversions",source:"edd"},values:{},touched:{},errors:{}},d={reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Oe,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_SAVED_VALUES":var n=he({},e);return n=he(he({},n),{},{values:t.payload,savedValues:t.payload});case"FIELD_VALUE":var r=he({},e),l=t.payload;return r=he(he({},r),{},{values:he(he({},null===r||void 0===r?void 0:r.values),l)});case"REMOVE_FIELD_VALUE":var o=he({},e),l=t.payload;return null!==(r=o.values)&&void 0!==r&&r[l]&&delete o.values[l],o;case"RESET_FIELD_VALUE":var a=he({},e);return null!==(o=a.values)&&void 0!==o&&o[t.payload]&&(delete a.values[t.payload],null!==(o=a.savedValues)&&void 0!==o&&o[t.payload]&&(a.values[t.payload]=a.savedValues[t.payload])),a;case"FIELD_ERROR":return he(he({},e),{},{errors:he(he({},e.errors),t.payload)});case"REMOVE_FIELD_ERROR":a=he({},e);return delete a.errors[t.payload],a;case"FIELD_TOUCHED":return he(he({},e),{},{touched:he(he({},e.touched),t.payload)})}return e},actions:{setSavedValues:function(e){return{type:"SET_SAVED_VALUES",payload:e}},setFieldValue:function(e){return{type:"FIELD_VALUE",name:e.name,payload:e.value}},removeFieldValue:function(e){return{type:"REMOVE_FIELD_VALUE",payload:e}},resetFieldValue:function(e){return{type:"RESET_FIELD_VALUE",payload:e}},setFieldTouched:function(e){return{type:"FIELD_TOUCHED",payload:e}},setError:function(e){return{type:"FIELD_ERROR",payload:e}},removeError:function(e){return{type:"REMOVE_FIELD_ERROR",payload:e}}},selectors:{getValues:function(e){return e.values},getFieldValue:function(e,t){return null===(e=e.values)||void 0===e?void 0:e[t]},getSavedFieldValue:function(e,t,n){var r;return null!==n?(null===(r=e.savedValues)||void 0===r?void 0:r[n])===(null===(r=e.values)||void 0===r?void 0:r[n])&&(null===(n=e.savedValues)||void 0===n?void 0:n[t]):null===(e=e.savedValues)||void 0===e?void 0:e[t]},isTouched:function(e,t){return null===(e=e.touched)||void 0===e?void 0:e[t]},getError:function(e,t){return null===(e=e.errors)||void 0===e?void 0:e[t]},isVisible:function(e,t){if(!t.rules||null==t.name)return!0;e=we(t.rules,e.values);return Boolean(e)}}};function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){i=!0,l=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw l}}return o}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(a){var e;if(void 0===a.fields)throw new Error(v.__("There are no tabs defined!","notificationx"));var i=a.active,u=a.setActive,t=a.fields,c=a.context,n=xe(C.useState([]),2),r=n[0],l=n[1];C.useEffect(function(){var e=t.filter(function(e){return ue(null==c?void 0:c.values,e)});l(e)},[t,null==c||null===(e=c.values)||void 0===e?void 0:e.source]);var o=N.default("wprf-tab-menu-wrapper",null==a?void 0:a.className,{"wprf-tab-menu-sidebar":null==a?void 0:a.sidebar},null==c||null===(o=c.values)||void 0===o?void 0:o.source),s=r.findIndex(function(e){return e.id===i});return C.createElement("div",{className:o},C.createElement("ul",{className:"wprf-tab-nav"},r.map(function(t,e){var n,r,l,o;return C.createElement("li",{className:N.default("wprf-tab-nav-item",(M(n={},"".concat(t.classes),t.classes),M(n,"wprf-active-nav",i===t.id),M(n,"wprf-tab-complete",!(null==a||!a.completionTrack)&&e<=s),n)),"data-key":t.id,key:t.id,onClick:function(){var e;return(null===(e=null==a?void 0:a.clickable)||void 0===e||e)&&u(t.id)}},(null==t?void 0:t.icon)&&(le(t.icon)&&!ie(t.icon)?C.createElement("img",{src:t.icon,alt:null==t?void 0:t.label}):ie(t.icon)?null==c||null===(r=c.icons)||void 0===r||null===(l=r[null==t||null===(l=t.icon)||void 0===l?void 0:l.type])||void 0===l?void 0:l[null==t||null===(o=t.icon)||void 0===o?void 0:o.name]:""),C.createElement("span",null,t.label))})))}function _e(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},l=Object.keys(e),o=0;o<l.length;o++)n=l[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var l=Object.getOwnPropertySymbols(e),o=0;o<l.length;o++)n=l[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var Ce=C.createContext(void 0);Ce.displayName="production"===process.env.NODE_ENV?"Anonymous":"BuilderContext";p=Ce.Provider,y=Ce.Consumer;function Pe(){return C.useContext(Ce)}function ke(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fields";if(null==t||!t[n])throw new Error("#options param need to set in order to use useOptions hook.");var r=t.value,l=t.multiple,o=Pe(),e=xe(C.useState(t[n]),2),a=e[0],i=e[1],u=(d=xe(C.useState([]),2))[0],c=d[1],s=(e=xe(C.useState({options:null,parentIndex:null}),2))[0],d=e[1],f=(e=xe(C.useState(null),2))[0],p=e[1],v=(e=xe(C.useState(null),2))[0],m=e[1];return C.useEffect(function(){var e=t.ajax&&(null===(e=o.getTabFields(null==t?void 0:t.parentIndex))||void 0===e?void 0:e[n])||a;c(o.eligibleOptions(e)),p(o.eligibleOption(e,r,null!=l&&l))},[r,a]),C.useEffect(function(){i(t[n]),c(o.eligibleOptions(t[n]))},[t]),C.useEffect(function(){c(o.eligibleOptions(a))},[a]),C.useEffect(function(){null!=s.options&&i(s.options)},[s]),C.useEffect(function(){var e;null!=f&&(e=l?ae(f)&&f.map(function(e){return e.value})||r:f.value||r,m(e))},[f]),C.useEffect(function(){var e,t;0===u.filter(function(e){return e.value===v}).length&&(t=de(u),m((null==t||null===(e=t[0])||void 0===e?void 0:e.value)||r))},[v,u]),{options:de(u),option:v,selectedOption:f,setOptions:c,setData:d}}function De(e,t,n,r){if(null!=r&&null!=(null==r?void 0:r.defaults)&&!ce(r.defaults)){var l=r.defaults;if(null!=l&&!ce(l)){var o={};if(null!=l&&l[n]&&le(null==l?void 0:l[n])){var a=l[n].indexOf("@"),i=l[n].indexOf(":");0===a&&0<i&&(r=l[n].substr(1,i-1),a=l[n].substr(i+1),i=t.getValueForDefault(r,e),""!=r&&""!=a&&(a="false"!==a&&a,o[r]=i||a,t.setValue(r,i||a)))}else if(null!=l&&l[n]&&(ae(l[n])||ie(l[n])))for(var u in l[n]){var c,s=l[n][u];s&&(ae(s)||ie(s))?(c=t.getValueForDefault(u,e),""!=u&&""!=s&&(s="false"!==s&&s,o[u]=c||s,t.setValue(u,c||s))):s&&(u=s.indexOf("@"),c=s.indexOf(":"),0===u&&0<c&&(u=s.substr(1,c-1),c=s.substr(c+1),-1<s.indexOf(".")&&(u=u.split(".")),s=t.getValueForDefault(u,e),""!=u&&""!=c&&(c="false"!==c&&c,o[u]=s||c,t.setValue(u,s||c))))}return{defaultsData:o}}}}function Ne(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Te(){return t.select("formbuilder")}function Fe(){return t.dispatch("formbuilder")}function Ie(){for(var e=arguments.length,l=new Array(e),t=0;t<e;t++)l[t]=arguments[t];return(Object.assign||function(e){for(var t=1;t<l.length;t++){var n,r=l[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,l)}function Ve(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Re(e,t){switch(t.type){case"SET_CONTEXT":return Ie({},e,Y(e,t.payload.field,t.payload.value));case"SET_ACTIVE_TAB":return Ae(Ae({},e),{},{config:Ae(Ae({},e.config),{},{active:t.payload})});case"SET_REDIRECT":return Ae(Ae({},e),{},{redirect:Ae(Ae({},e.redirect),t.payload)});case"SET_VALUES":return Ie({},e,Y(e,"values",t.payload));case"SET_SAVED_VALUES":return Ie({},e,Y(e,"savedValues",t.payload));case"SET_FIELD_VALUE":return Ie({},e,{values:Y(e.values,t.payload.field,t.payload.value)});case"SET_TOUCHED":return Ie({},e,{touched:t.payload});case"SET_ERRORS":return Ie({},e,{errors:t.payload});case"SET_STATUS":return Ie({},e,{status:t.payload});case"SET_ISSUBMITTING":return Ae(Ae({},e),{},{isSubmitting:t.payload});case"SET_ISVALIDATING":return Ie({},e,{isValidating:t.payload});case"SET_FIELD_TOUCHED":return Ae(Ae({},e),{},{touched:Ae(Ae({},e.touched),{},M({},t.payload.field,t.payload.value))});case"SET_FIELD_ERROR":case"RESET_FORM":return Ie({},e,t.payload);case"SUBMIT_ATTEMPT":return Ie({},e,{isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Ie({},e,{isSubmitting:!1});case"SET_FORM_FIELD":return null===t.payload.field?Ie({},e,Y(e,"tabs",t.payload.value)):Ie({},e,{tabs:Y(e.tabs,t.payload.field,t.payload.value)});case"SET_ICONS":return Ie({},e,{icons:Y(e.icons,t.payload.name,t.payload.icons)});case"SET_ALERTS":return Ie({},e,{alerts:Y(e.alerts,t.payload.name,t.payload.value)});case"SET_COMMONS":return Ie({},e,{common:Y(e.common,t.payload.name,t.payload.value)});default:return e}}function Le(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Me(e){var o=C.useRef(e);return Je(function(){o.current=e}),C.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=arguments.length,t=new Array(r),l=0;l<r;l++)t[l]=arguments[l];return o.current.apply(void 0,t)},[])}function Ue(e){var t=N.default("wprf-row clearfix wprf-flex",null==e?void 0:e.className);return C.createElement("div",{className:t},null==e?void 0:e.children)}function qe(e){var t=N.default("wprf-column",null==e?void 0:e.className,(M(t={},"wprf-column-".concat(12/(null==e?void 0:e.column)),(null==e?void 0:e.column)&&12!==e.column),M(t,"wprf-column-12",12===e.column),t));return C.createElement("div",{className:t},null==e?void 0:e.children)}function He(e){var t,n,r,l=N.default("wprf-input-label",null==e?void 0:e.className);return C.createElement("label",{htmlFor:null==e?void 0:e.htmlFor,className:l},(null==e||null===(t=e.badge)||void 0===t?void 0:t.value)&&C.createElement("div",{className:"wprf-badge"},C.createElement("sup",{className:N.default("wprf-badge-item",{"wprf-badge-active":null==e||null===(n=e.badge)||void 0===n?void 0:n.active})},null==e||null===(r=e.badge)||void 0===r?void 0:r.label)),!(null!=e&&e.src)&&(null==e?void 0:e.children),(null==e?void 0:e.src)&&C.createElement($e,{className:"wprf-label-image",src:e.src,alt:null==e?void 0:e.label}))}function Ge(t){var n=Pe(),e=t.label,r=t.active,l=t.position,o=void 0===l?"right":l,a=t.renderLabel,i=t.renderComponent;return void 0===e&&(e="Pro"),l=N.default("wprf-badge-item",{"wprf-badge-active":r}),r={},n.is_pro_active||(r={onClick:function(e){e.preventDefault(),n.alerts.pro_alert(null==t?void 0:t.popup).fire()}}),C.createElement("div",je({className:N.default("wprf-badge-wrapper",{"pro-deactivated":!n.is_pro_active})},r),"left"===o&&0<e.length&&C.createElement(C.Fragment,null,a(C.createElement(Xe,{componentClasses:l,label:e}),"left")),"right"===o&&0<e.length&&C.createElement(C.Fragment,null,a(C.createElement(Xe,{componentClasses:l,label:e}),"right")),i())}function ze(e){var t,n=e.id,r=e.label,l=e.badge,o=e.badgePosition,a=e.context,e=_e(e,Ye);return r&&0<r.length?C.createElement("div",{className:"wprf-control-label"},"left"==o&&l,C.createElement("label",{htmlFor:n},r),(null==e?void 0:e.link)&&C.createElement("a",{rel:"nofollow",target:"_blank",href:e.link},null==a||null===(t=a.icons)||void 0===t?void 0:t.link),"right"==o&&l):null}function We(e){var t=e.position,n=e.description,r=e.renderComponent,e=e.help;return C.createElement("div",{className:"wprf-control-field"},"left"===t&&n&&C.createElement("p",{className:"wprf-description",dangerouslySetInnerHTML:{__html:n}}),r(),"right"===t&&n&&C.createElement("p",{className:"wprf-description",dangerouslySetInnerHTML:{__html:n}}),e&&C.createElement("p",{className:"wprf-help",dangerouslySetInnerHTML:{__html:e}}))}var Je="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?C.useLayoutEffect:C.useEffect,$e=function(e){if(null==e||!e.src)return C.createElement("p",null,"No Source( src ) Defined");var t=N.default(["wprf-input-image",null==e?void 0:e.className]);return C.createElement("img",{className:t,src:null==e?void 0:e.src,alt:null==e?void 0:e.alt})},Xe=function(e){var t=e.componentClasses,e=e.label;return C.createElement("div",{className:"wprf-badge"},C.createElement("sup",{className:t},e))},Ye=["id","label","badge","badgePosition","context"],Ke=["label","id","name","type","style","is_pro","badge"];function Qe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var h=function(v){return function(t){var e,n,r,l=t.label,o=t.id,a=t.name,i=t.type,u=t.style,c=t.is_pro,s=t.badge,d=_e(t,Ke);null==o&&(o=a);var f=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({description:{position:"right"}},u),u=N.default((M(u={},"wprf-style-".concat(null==f?void 0:f.type),(null==f?void 0:f.type)||!1),M(u,"wprf-label-none",void 0===l||""===l||0===l.length),M(u,"wprf-".concat((null==f||null===(e=f.label)||void 0===e?void 0:e.position)||"inline","-label"),(null===(n=null==f||null===(n=f.label)||void 0===n?void 0:n.position)||void 0===n||n)&&null!=l),u));if("hidden"===i)return C.createElement(v,je({},t,{id:o}));var p=K(t,["description","label","help","style"]),a=N.default("wprf-control-wrapper","wprf-type-".concat(i),u,null==t?void 0:t.classes,M({},"wprf-name-".concat(a),a));return C.createElement("div",{className:a},1==c&&C.createElement(C.Fragment,null,C.createElement(Ge,je({},s,d,{renderLabel:function(e,t){return C.createElement(ze,je({},p,{context:null==d?void 0:d.context,id:o,label:l,badge:e,badgePosition:t}))},renderComponent:function(){var e;return C.createElement(We,{help:null,description:null==t?void 0:t.description,position:null==f||null===(e=f.description)||void 0===e?void 0:e.position,renderComponent:function(){return C.createElement(v,je({},p,{disable:!0,id:o}))}})}})),(null==t?void 0:t.help)&&C.createElement("div",{className:"wprf-badge-wrapper"},C.createElement("div",{className:"wprf-control-label"}),C.createElement("div",{className:"wprf-control-field"},C.createElement("p",{className:"wprf-help",dangerouslySetInnerHTML:{__html:t.help}})))),(0==c||null==c)&&C.createElement(C.Fragment,null,l&&0<l.length&&C.createElement(ze,je({},p,{context:null==d?void 0:d.context,label:l,id:o})),C.createElement(We,{help:null==t?void 0:t.help,description:null==t?void 0:t.description,position:null==f||null===(r=f.description)||void 0===r?void 0:r.position,renderComponent:function(){return C.createElement(v,je({},p,{id:o}))}})))}},O=function(u){var c=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){var e=Pe(),t=n.trigger,r=e.getFieldProps(n),l=e.getFieldMeta(r.name,n),o=e.getFieldHelpers();null!=e&&e.quickBuilder&&null!=e&&e.show&&(e.show.includes(n.name)||(r.classes=null!=r&&r.classes?r.classes+" hidden":" hidden"));var a=null!=n&&n.parentIndex?G(n.parentIndex):[];r.parentIndex=a,r.context=e,$(n.onChange)&&(r.onChange=n.onChange),$(n.onBlur)&&(r.onBlur=n.onBlur);var i=C.useRef({});return C.useEffect(function(){return i.current[n.name]=!0,function(){i.current[n.name]=!1}},[]),C.useEffect(function(){var e,t;l.visible&&i.current[n.name]&&(c||"group"===r.type?(e=null==n?void 0:n.parent,t=null==n?void 0:n.parenttype,e&&"group"===t&&r.value&&o.setValue([e,r.name],r.value)):o.setValue(r.name,r.value))},[l.visible]),C.useEffect(function(){i.current[n.name]&&ie(t)&&!ce(t)&&De(r.name,o,r.value,t)},[r.value,l.visible]),l.visible?C.createElement(u,r):C.createElement(C.Fragment,null)}},x=function(e){if(!e.type||0===e.type.length)throw console.error(e),new Error(v.__("Field must have a #type. see documentation.","notificationx"));switch(e.type){case"text":case"checkbox":case"radio":case"email":case"range":case"number":case"hidden":return C.createElement(ot,e);case"textarea":return C.createElement(ut,e);case"codeviewer":return C.createElement(dt,e);case"message":return C.createElement(tn,e);case"select":return C.createElement(mt,e);case"select-async":return C.createElement(Wt,e);case"slider":return C.createElement(zt,e);case"group":return C.createElement(vt,e);case"radio-card":return C.createElement(It,e);case"section":return C.createElement(Vt,e);case"date":return C.createElement(tt,e);case"toggle":return C.createElement(Dt,e);case"colorpicker":return C.createElement(Jt,e);case"jsonuploader":return C.createElement(ft,e);case"repeater":return C.createElement(Gt,e);case"media":return C.createElement(Xt,e);case"editor":return C.createElement(Yt,e);case"action":return C.createElement($t,e);case"button":return C.createElement(Kt,e);case"modal":return C.createElement(nn,e);case"tab":return C.createElement(sn,e);case"responsive-number":return C.createElement(en,e);default:var t=m.applyFilters("custom_field","",e.type,e);return C.createElement(C.Fragment,null,t)}},Ze=O(x,!0),et=O(x),tt=h(function(e){var t=e.name,n=e.value,r=e.onChange,l=e.position,o=s.__experimentalGetSettings(),a=null!==(e=null==e?void 0:e.format)&&void 0!==e?e:o.formats.datetime,i=Z(n),u=/a(?!\\)/i.test(o.formats.datetime.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));return C.useEffect(function(){r({target:{type:"date",name:t,value:i}})},[]),C.createElement(b.Dropdown,{className:"wprf-control-datetime",contentClassName:"wprf-control-datetime-content",position:l||"bottom right",renderToggle:function(e){e.isOpen;e=e.onToggle;return C.createElement(b.Button,{isTertiary:!0,onClick:e},s.date(a,i,-(new Date).getTimezoneOffset()))},renderContent:function(){return console.log(Z(n),Z(n).toDate()),C.createElement(b.DateTimePicker,{__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0,currentDate:Z(i).toDate().toString(),onChange:function(e){r({target:{type:"date",name:t,value:k.default(e).utc().format()}})},is12Hour:u})}})});function nt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}x=function(t){var n=K(t,["is_pro","visible","trigger","disable","parentIndex","context","badge","popup"]),e=C.useCallback(function(e){return n.onChange(e,{popup:null==t?void 0:t.popup,isPro:!!t.is_pro})},[null==n?void 0:n.value]);return"checkbox"===n.type&&null!=n&&n.name&&(n.checked=(null==n?void 0:n.checked)||(null==n?void 0:n.value)),_.default.createElement("input",rt(rt({},n),{},{onChange:e}))};x.defaultProps={type:"text"};var lt=_.default.memo(x),ot=h(_.default.memo(x));function at(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x=function(t){var n=K(t,["is_pro","visible","trigger","disable","parentIndex","context"]),e=C.useCallback(function(e){return n.onChange(e,{isPro:!!t.is_pro})},[null==n?void 0:n.value]);return _.default.createElement("textarea",it(it({},n),{},{onChange:e,rows:5}))},ut=h(_.default.memo(x));function ct(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x=function(t){var n=K(t,["is_pro","visible","trigger","disable","parentIndex","context","copyOnClick"]),e={onChange:C.useCallback(function(e){return n.onChange(e,{isPro:!!t.is_pro})},[null==n?void 0:n.value]),rows:5};!t.is_pro&&null!=t&&t.copyOnClick&&null!=t&&t.value&&(e.onClick=function(){var e=null!=t&&t.success_text?t.success_text:v.__("Copied to Clipboard.","notificationx");F.default(t.value,{format:"text/plain",onCopy:function(){t.context.alerts.toast("success",e)}})});var r=null!=t&&t.button_text?t.button_text:v.__("Click to Copy","notificationx");return C.createElement("span",{className:"wprf-code-viewer"},_.default.createElement("textarea",st(st({},n),e)),C.createElement(b.Button,{className:"wprf-copy-button"},r))},dt=h(_.default.memo(x)),ft=h(_.default.memo(function(n){K(n,["is_pro","visible","trigger","disable","parentIndex","context","copyOnClick"]);var e=xe(C.useState(),2),t=e[0],r=e[1];return C.useEffect(function(){null!=n&&n.value||r(null)},[null==n?void 0:n.value]),C.createElement("span",{className:"wprf-json-uploader"},!t&&C.createElement("label",{className:"wprf-json-uploaderButton"},C.createElement("span",null,v.__("Upload")),C.createElement("input",{type:"file",accept:"application/JSON",onChange:function(e){var t;(t=e).target.files.length&&(0!=(null==(e=t.target.files[0])?void 0:e.size)?"application/json"==(null==e?void 0:e.type)||"text/json"==(null==e?void 0:e.type)?(r(e),(t=new FileReader).onload=function(e){var t=null==e||null===(t=e.target)||void 0===t?void 0:t.result;n.onChange({target:{type:"jsonuploader",name:n.name,value:t}})},t.readAsText(e)):n.context.alerts.toast("error",v.__("Invalid file type.","notificationx")):n.context.alerts.toast("error",v.__("File can't be empty.","notificationx")))}})),t&&(null==t?void 0:t.name)&&C.createElement("span",{className:"wpfr-json-file-name-wrapper"},C.createElement("span",{className:"wpfr-json-file-name"},20<(null==t?void 0:t.name.length)?"".concat(null==t?void 0:t.name.substr(0,9),"...").concat(null==t?void 0:t.name.substr((null==t?void 0:t.name.length)-7)):null==t?void 0:t.name),C.createElement("span",{className:"wprf-json-file-delete-button",onClick:function(){r(null),n.onChange({target:{type:"jsonuploader",name:n.name,value:null}})}},"x")))})),pt=["name","fields"],vt=h(function(n){var r=n.name,e=n.fields,l=_e(n,pt);if(!e||!ae(e)||0===e.length)throw new Error(v.__("You should give a #fields arguments to a group field.","notificationx"));var o=Pe(),a=C.useCallback(function(e){e.persist&&e.persist();var t=X(e),e=t.field,t=t.val;o.setFieldValue([r,e],t)},[n.value]),t=de(e);C.useEffect(function(){o.setFormField([].concat(G(n.parentIndex),["fields"]),t)},[]);var i=t.map(function(e,t){t=[].concat(G(n.parentIndex),["fields",t]);return C.createElement(Ze,je({},l,{key:e.name,index:n.index,onChange:a},e,{parenttype:"group",parent:r,parentIndex:t}))}),e=N.default("wprf-group-control-inner",{"wprf-display-inline":"inline"===(null==n?void 0:n.display)});return C.createElement("div",{className:"wprf-group-control"},C.createElement("div",{className:e},i))}),mt=h(function(l){var o=Pe(),e=l.id,t=l.name,n=l.multiple,r=l.placeholder,a=l.search,i=void 0!==a&&a,u=l.onChange,c=l.parentIndex,s=ke(l,"options"),d=s.options,f=s.selectedOption,p=s.setData,a=xe(C.useState(null),2),v=a[0],m=a[1],s=xe(C.useState(!1),2),a=s[0],b=s[1],s=xe(C.useState(!1),2),y=s[0];s[1];function g(){var e;if(null!=l&&l.ajax&&we(null==l||null===(e=l.ajax)||void 0===e?void 0:e.rules,o.values)){b(!0);var r={};if(Object.keys(null==l?void 0:l.ajax.data).map(function(e){var t,n;-1<(null==l?void 0:l.ajax.data[e].indexOf("@"))?(n=null==l?void 0:l.ajax.data[e].substr(1),r[e]=null===(t=o.values)||void 0===t?void 0:t[n]):r[e]=null==l?void 0:l.ajax.data[e]}),!y)return re({path:null==l?void 0:l.ajax.api,data:r}).then(function(e){b(!1);var t=ee(l.options,e,"value");return o.setFormField([].concat(G(c),["options"]),t),p({options:t,parentIndex:[].concat(G(c),["options"])}),e})}}return C.useEffect(function(){!ae(v)&&ie(v)&&u({target:{type:"select",name:t,value:v.value,options:d,multiple:n}}),ae(v)&&u({target:{type:"select",name:t,value:v.map(function(e){return e.value}),options:d,multiple:n}})},[v]),C.useEffect(function(){g()},[]),C.useEffect(function(){null!=l&&l.menuOpen&&g()},[null==l?void 0:l.menuOpen]),C.createElement("div",{className:"wprf-select-wrapper"},C.createElement(I.default,{isDisabled:null==l?void 0:l.disable,classNamePrefix:"wprf-select",isSearchable:null!=i&&i,id:e,name:t,isMulti:null!=n&&n,placeholder:r,isLoading:a,options:d,value:f,onMenuOpen:g,onMenuClose:function(){b(!1)},isOptionDisabled:function(e){return null==e?void 0:e.disabled},onChange:function(e){return m(e)}}))});const bt=new WeakMap;function yt(n,r,l){return C.useMemo(()=>{if(l)return l;var e,t,t=(e=n,t=bt.get(e)||0,bt.set(e,t+1),t);return r?r+"-"+t:t},[n])}function gt(t){var e=Pe(),n=t.fields,r=t.onChange,l=t.index,o=t.parent,a=xe(C.useState(t.isCollapsed),2),i=a[0],u=a[1],c=yt(gt),s=(s=(null==(s=null===(a=e.values)||void 0===a||null===(s=a[o])||void 0===s?void 0:s[l])?void 0:s.title)||(null==s?void 0:s.post_title)||(null==s?void 0:s.username)||(null==s?void 0:s.plugin_theme_name))?s.length<40?s:s.substr(0,40)+"...":"";return C.useEffect(function(){e.setFieldValue([o,l,"isCollapsed"],i)},[i]),C.createElement("div",{className:"wprf-repeater-field"},C.createElement("div",{className:"wprf-repeater-field-title",onClick:function(){return u(!i)}},C.createElement("h4",null,C.createElement(b.Icon,{icon:"move"}),t.index+1,": ",s),C.createElement("div",{className:"wprf-repeater-field-controls"},C.createElement(b.Icon,{onClick:function(e){null!=e&&e.stopPropagation(),t.clone(t.index)},icon:"admin-page"}),C.createElement(b.Icon,{onClick:function(e){null!=e&&e.stopPropagation(),t.remove(t.index)},icon:"trash"}))),!i&&C.createElement("div",{className:"wprf-repeater-inner-field"},n.map(function(e,t){return C.createElement(Ze,je({key:"field-".concat(l,"-").concat(t)},e,{id:"field-".concat(c,"-").concat(l,"-").concat(t),index:l,parenttype:"repeater",parent:o,onChange:function(e){return r(e,l)}}))})))}function wt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ht(n){var e=n.isLoading;n.closeModal;var t=xe(C.useState([]),2),r=t[0],l=t[1];return C.useEffect(function(){var e=de(n.body.fields).map(function(e,t){t=[].concat(G(n.parentIndex),["fields",t]);return C.createElement(et,je({key:e.name},e,{parentIndex:t}))});l(e)},[]),C.createElement("div",{className:"wprf-modal-body"},e&&C.createElement(xt,null),!e&&C.createElement(C.Fragment,null,C.createElement("div",{className:"wprf-modal-content"},0<r.length&&r),C.createElement("div",{className:"wprf-modal-footer clearfix"},C.createElement("div",{className:"wprf-modal-footer-left"},(null===(r=n.body)||void 0===r?void 0:r.footer)&&le(n.body.footer)&&C.createElement("p",null,n.body.footer),C.createElement(Ze,je({type:"button"},null==n?void 0:n.confirm_button))))))}function Ot(e){return e=e.content,C.createElement("div",{className:"wprf-modal-header"},e&&le(e)&&C.createElement("h3",null,e))}var jt=h(function(t){var e,n,r=Et({type:"",label:{position:"right"},column:4},t.style),l=C.useMemo(function(){var e=!1;return null!=t&&t.checked&&ie(t.checked)&&le(null==t?void 0:t.value)?e=t.checked[t.value]:le(t.value)||(e=t.value),e},[null==t?void 0:t.checked,t.value]),o=N.default("wprf-toggle-wrap",(M(o={},"wprf-".concat(null==r?void 0:r.type),0<(null==r?void 0:r.type.length)),M(o,"wprf-checked",Boolean(l)),M(o,"wprf-label-position-".concat(null==r||null===(e=r.label)||void 0===e?void 0:e.position),null==r||null===(n=r.label)||void 0===n?void 0:n.position),o),null==t?void 0:t.classes);return C.createElement("div",{className:o},C.createElement(lt,Et(Et({},t),{},{type:"checkbox",placeholder:void 0})),C.createElement(He,{htmlFor:t.id}))}),xt=function(e){return C.createElement("p",null,v.__("Loading...","notificationx"))},St={options:["inline","blockType","textAlign","colorPicker","link"],inline:{options:["bold","italic","underline","strikethrough","monospace"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"],className:void 0,component:void 0,dropdownClassName:void 0}};function _t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw l}}}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Dt=function(t){var e=t.options,r=t.value,n=t.multiple,l=t.style,o=de(e),a=kt({column:4},l);if(n){var n=xe(C.useState({}),2),i=n[0],u=n[1],c=function(e){var t=e.target||e.currentTarget;u(function(e){return kt(kt({},e),{},M({},t.value,t.checked))})};return C.useEffect(function(){t.onChange({target:{type:"toggle",name:t.name,value:i}})},[i]),C.useEffect(function(){if(ie(r))u(r);else{var e,t={},n=_t(o);try{for(n.s();!(e=n.n()).done;)t[e.value.value]=r}catch(e){n.e(e)}finally{n.f()}u(t)}},[]),C.createElement("div",{className:"wprf-toggle-wrapper wprf-control"},C.createElement(Ue,null,o.map(function(e){return C.createElement(qe,{key:e.value,column:a.column},C.createElement(jt,kt(kt({},e),{},{context:null==t?void 0:t.context,id:e.value,checked:void 0===i[e.value]||(null!=i&&i[e.value]?r:!(null==i||!i[e.value])),type:"checkbox",onChange:c,style:a})))})))}return C.createElement(jt,t)},Nt=["label","value","icon","is_pro"];function Tt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var Ft,It=h(function e(t){var i=Pe(),n=ke(t,"options"),r=n.options,u=n.option;if(!r)throw new Error(v.__("#options is a required arguments for RadioCard field.","notificationx"));var c=yt(e),n=N.default(["wprf-control","wprf-radio-card","wprf-input-radio-set-wrap",null==t?void 0:t.className]),s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},null==t?void 0:t.style),d=K(t,["options","placeholder","style","trigger"]);return C.useEffect(function(){u&&t.onChange({target:{type:"radio-card",name:t.name,value:u}})},[u]),C.createElement("div",{className:n},C.createElement(Ue,null,r.map(function(e,t){var n=e.label,r=e.value,l=e.icon,o=e.is_pro,a=_e(e,Nt);return C.createElement(qe,{column:+(null==a?void 0:a.column)||4,key:t},C.createElement("div",{className:N.default("wprf-input-radio-option",{"wprf-option-has-image":null!=l&&l,"wprf-option-selected":r==u})},C.createElement(He,{className:N.default(M({"wprf-label-has-image":null!=l&&l},"wprf-size-".concat(s.size),null!==(e=l&&(null==s?void 0:s.size))&&void 0!==e&&e)),htmlFor:"wprf-input-radio-".concat(c,"-").concat(t),src:l,badge:{label:o?"Pro":"Free",value:o,active:Boolean(i.is_pro_active)}},n),C.createElement(lt,je({},a,d,{is_pro:o,type:"radio",value:r,checked:r===u,id:"wprf-input-radio-".concat(c,"-").concat(t)}))))})))}),x=function(n){var t=Pe(),e=xe(C.useState(null!==(o=n.collapsed)&&void 0!==o&&o),2),r=e[0],l=e[1],o=xe(C.useState([]),2),e=o[0],a=o[1];C.useEffect(function(){var e=de(n.fields);t.setFormField([].concat(G(n.parentIndex),["fields"]),e);e=e.map(function(e,t){t=[].concat(G(n.parentIndex),["fields",t]);return C.createElement(et,je({key:e.name},e,{parentIndex:t}))});a(e)},[]);o=N.default("wprf-control-section",null==n?void 0:n.classes,null==n?void 0:n.name,{"wprf-section-collapsed":(null==n?void 0:n.collapsible)&&r});return C.createElement("div",{id:null==n?void 0:n.name,className:o},n.placeholder&&C.createElement("div",{className:"wprf-section-title"},C.createElement("h4",null,n.placeholder),n.collapsible&&C.createElement("button",{onClick:function(){return l(!r)}},"Icon")),C.createElement("div",{className:"wprf-section-fields"},e))},Vt=_.default.memo(x),At=new Uint8Array(16);var Rt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Lt=[],Bt=0;Bt<256;++Bt)Lt.push((Bt+256).toString(16).substr(1));function Mt(e,t){t=1<arguments.length&&void 0!==t?t:0,e=(Lt[e[t+0]]+Lt[e[t+1]]+Lt[e[t+2]]+Lt[e[t+3]]+"-"+Lt[e[t+4]]+Lt[e[t+5]]+"-"+Lt[e[t+6]]+Lt[e[t+7]]+"-"+Lt[e[t+8]]+Lt[e[t+9]]+"-"+Lt[e[t+10]]+Lt[e[t+11]]+Lt[e[t+12]]+Lt[e[t+13]]+Lt[e[t+14]]+Lt[e[t+15]]).toLowerCase();if("string"!=typeof(t=e)||!Rt.test(t))throw TypeError("Stringified UUID is invalid");return e}function Ut(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(!Ft&&!(Ft="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ft(At)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=r[l];return t}return Mt(r)}function qt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Gt=function(e){var r=e.name;e.value;var t=e.button,n=e.fields,l=Pe(),e=xe(C.useState(null===(e=l.values)||void 0===e?void 0:e[r]),2),o=e[0],a=e[1];C.useEffect(function(){var e;null!=(null===(e=l.values)||void 0===e?void 0:e[r])&&a(null===(e=l.values)||void 0===e?void 0:e[r])},[null===(e=l.values)||void 0===e?void 0:e[r]]);var i=C.useCallback(function(e){var t=G(o);t.splice(e,1),l.setFieldValue(r,t)},[o]),u=C.useCallback(function(e){var t=G(o);0<t.length&&(null!==(e=null!==(e=null!==(e=null!==(e=(null==t?void 0:t[e])||{})&&void 0!==e&&e.title?Ht(Ht({},e),{},{title:e.title+" - Copy"}):e)&&void 0!==e&&e.post_title?Ht(Ht({},e),{},{post_title:e.post_title+" - Copy"}):e)&&void 0!==e&&e.username?Ht(Ht({},e),{},{username:e.username+" - Copy"}):e)&&void 0!==e&&e.plugin_theme_name&&(e=Ht(Ht({},e),{},{plugin_theme_name:e.plugin_theme_name+" - Copy"})),e=Ht(Ht({},e),{},{index:Ut(),isCollapsed:!1}),l.setFieldValue([r,o.length],e))},[o]);return C.useEffect(function(){a(null==o||""==o?[{index:Ut()}]:function(e){return e.map(function(e){return Ht(Ht({},e),{},{index:Ut()})})})},[]),C.createElement("div",{className:"wprf-repeater-control"},o&&0<(null==o?void 0:o.length)&&C.createElement(f.ReactSortable,{className:"wprf-repeater-content",list:o,setList:function(e){l.setFieldValue(r,e)},handle:".wprf-repeater-field-title",filter:".wprf-repeater-field-controls",forceFallback:!0},o.map(function(e,t){return C.createElement(gt,{isCollapsed:null==e?void 0:e.isCollapsed,key:(null==e?void 0:e.index)||t,fields:n,index:t,parent:r,clone:u,remove:i,onChange:function(e){return function(e,t){e.persist&&e.persist();var n=X(e),e=n.field,n=n.val;l.setFieldValue([r,t,e],n)}(e,t)}})})),C.createElement("div",{className:"wprf-repeater-label"},C.createElement("button",{className:"wprf-repeater-button",onClick:function(){return l.setFieldValue(r,[].concat(G(o),[{index:Ut()}]))}},null==t?void 0:t.label)))},zt=function(t){var n=t.name,e=t.id,r=t.label,l=t.units,o=t.value,a=t.min,i=t.max,u=t.unit;t.tooltip;var c=t.reset,o=xe(C.useState(o||0),2),s=o[0],d=o[1],u=xe(C.useState(u),2),f=u[0],p=u[1];return C.useEffect(function(){var e;s&&(J(s)?e=f?"".concat(s).concat(f):"".concat(s):le(s)&&(e=-1<s.indexOf(f)?"".concat(s):"".concat(s).concat(f)),t.onChange({target:{type:"slider",name:n,value:e}}))},[s,f]),C.createElement("div",{className:"wprf-slider-wrap"},C.createElement("div",{className:"wprf-slider-control-head"},C.createElement(He,{htmlFor:e||n},r),ae(l)&&0<l.length&&C.createElement("div",{className:"wprf-slider-units"},l.map(function(e,t){return C.createElement(b.Button,{key:t,isSmall:!0,isPrimary:!0,onClick:function(){return p(e)},className:e==f?"unit-active":""},e)}))),C.createElement("div",{className:"wprf-slider-control"},C.createElement(b.RangeControl,{allowReset:null==c||c,value:parseInt(s),min:a,max:i,onChange:function(e){return d(e)}})))},Wt=h(function(o){var a=Pe(),e=o.id,t=o.name,n=o.multiple,r=o.placeholder,l=o.onChange;o.parentIndex;var i=xe(C.useState(null==o?void 0:o.options),2),u=i[0];i[1];var i=xe(C.useState(null==o?void 0:o.value),2),c=i[0],s=i[1],i=xe(C.useState(!1),2),d=i[0],f=i[1],i=function t(n,r){var e;if(null!=o&&o.ajax&&we(null==o||null===(e=o.ajax)||void 0===e?void 0:e.rules,a.values))if(n){var l={inputValue:n};if(null!==(e=Object.keys(null==o?void 0:o.ajax.data))&&void 0!==e&&e.map(function(e){var t,n;-1<(null==o?void 0:o.ajax.data[e].indexOf("@"))?(n=null==o?void 0:o.ajax.data[e].substr(1),l[e]=null===(t=a.values)||void 0===t?void 0:t[n]):l[e]=null==o?void 0:o.ajax.data[e]}),!d&&n)return f(!0),window.lastRequest=null,re({path:null==o?void 0:o.ajax.api,data:l}).then(function(e){return console.log(n,e,r),r(e),e}).finally(function(){var e;f(!1),window.lastRequest&&(e=window.lastRequest,window.lastRequest=null,console.log("recursive call: ",e,r),t.apply(void 0,G(e))),window.lastCompleteRequest=n});window.lastRequest=[n,r]}else r(u)};return C.useEffect(function(){l({target:{type:"select",name:t,value:c,options:u,multiple:n}})},[c]),C.createElement("div",{className:"wprf-async-select-wrapper"},C.createElement(V.default,{cacheOptions:!0,loadOptions:i,defaultOptions:!0,isDisabled:null==o?void 0:o.disable,classNamePrefix:"wprf-async-select",id:e,name:t,placeholder:r,formatOptionLabel:function(e,t){var n;if(null!=t&&null!==(r=t.inputValue)&&void 0!==r&&r.length&&e.name.toLowerCase().includes(null==t||null===(n=t.inputValue)||void 0===n?void 0:n.toLowerCase())){null!=e&&e.name;var r=new RegExp("(".concat(null==t?void 0:t.inputValue,")"),"gi"),t=null===(n=e.name)||void 0===n?void 0:n.replace(r,"<strong style={font-weight: 900}>$1</strong>"),r=null===(n=e.address)||void 0===n?void 0:n.replace(r,"<strong style={font-weight: 900}>$1</strong>");return C.createElement(C.Fragment,null,A.default(t||"")," ",C.createElement("small",null,A.default(r||"")))}return C.createElement(C.Fragment,null,e.name?C.createElement(C.Fragment,null,C.createElement("b",null,e.name)," "):C.createElement(C.Fragment,null,e.label," "),C.createElement("small",null,e.address))},value:c,isClearable:!0,isOptionDisabled:function(e){return null==e?void 0:e.disabled},onChange:function(e){return s(e)}}))}),Jt=h(function(e){var t=e.value,n=e.name,r=e.id,l=e.onChange,e=xe(C.useState(!1),2),o=e[0],a=e[1],e=xe(C.useState(t||null),2),i=e[0],u=e[1],e=xe(C.useState(null),2),c=e[0],s=e[1],e=C.useRef(null);C.useEffect(function(){s(t)},[]);var d;return C.useEffect(function(){l({target:{type:"colorpicker",name:n,value:i}})},[i]),d=e,C.useEffect(function(){function e(e){d.current&&!d.current.contains(e.target)&&a(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[d]),C.createElement(C.Fragment,null,C.createElement("div",{className:"wprf-colorpicker-wrap",ref:e},C.createElement("input",{type:"hidden",value:t,name:n,id:r}),C.createElement("span",{className:"wprf-picker-display",style:{backgroundColor:t,borderColor:t},onClick:function(){return a(!o)}}),o&&C.createElement(C.Fragment,null,C.createElement("button",{className:"wprf-colorpicker-reset",onClick:function(e){e.preventDefault(),u(c),a(!1)}},v.__("Reset","notificationx")),C.createElement(b.ColorPicker,{color:t,onChangeComplete:function(e){return u(e.hex)}}))))}),$t=function(e){return C.createElement(C.Fragment,null,m.applyFilters(e.action,"",e))},Xt=h(function(t){var e=xe(C.useState(null!==(e=t.value)&&void 0!==e&&e.url?t.value:null),2),n=e[0],r=e[1];return C.useEffect(function(){t.onChange({target:{type:"media",name:t.name,value:n}})},[n]),C.createElement("div",{className:"wprf-control wprf-media"},null!=n&&!(null!=t&&t.notImage)&&C.createElement("div",{className:"wprf-image-preview"},null!=n&&(null==n?void 0:n.url)&&C.createElement("img",{src:n.url,alt:n.title})),C.createElement("div",{className:"wprf-image-uploader"},C.createElement(g.MediaUpload,{onSelect:function(e){r({id:e.id,title:e.title,url:e.url})},multiple:!1,allowedTypes:["image"],value:n,render:function(e){e=e.open;return C.createElement(C.Fragment,null,null!=n&&C.createElement("button",{className:"wprf-btn wprf-image-remove-btn",onClick:function(){return r(null)}},(null==t?void 0:t.remove)||"Remove"),C.createElement("button",{className:"wprf-btn wprf-image-upload-btn",onClick:e},null!=n?(null==t?void 0:t.reset)||"Change Image":(null==t?void 0:t.button)||"Upload"))}})))}),Yt=h(function(n){var e=xe(C.useState(E.EditorState.createEmpty()),2),t=e[0],r=e[1];return C.useEffect(function(){var e,t;n.value&&(e=(t=L.default(n.value)).contentBlocks,t=t.entityMap,t=E.ContentState.createFromBlockArray(e,t),t=E.EditorState.createWithContent(t),r(t))},[]),C.useEffect(function(){var e=R.default(E.convertToRaw(t.getCurrentContent()));n.onChange({target:{type:"editor",value:e,name:n.name}})},[t]),C.createElement(w.Editor,{placeholder:null==n?void 0:n.placeholder,toolbar:St,editorState:t,toolbarClassName:"wprf-editor-toolbar",wrapperClassName:"wprf-editor wprf-control",editorClassName:"wprf-editor-main",onEditorStateChange:r})}),Kt=h(function(o){var e,t,n;if((null==o||!o.text)&&!0!==(null==o?void 0:o.group))throw new Error(v.__("Button has a required params #text.","notificationx"));var r=K(o,["is_pro","visible","disable","parentIndex","context","onBlur","value","ajax","text"]),l=xe(C.useState(!1),2),a=l[0],i=l[1];if(null!=o&&o.href)return C.createElement("a",{href:-1===(null==o?void 0:o.href)?null==o?void 0:o.value:null==o?void 0:o.href,target:null==o?void 0:o.target,className:N.default("wprf-control wprf-button wprf-href-btn",null==o?void 0:o.classes)},null==o?void 0:o.text);if(null!=o&&o.group){l=o.fields.map(function(e,t){t=[].concat(G(o.parentIndex),["fields",t]);return C.createElement(et,je({key:e.name},e,{parentIndex:t}))});return C.createElement("div",{className:"wprf-control wprf-button-group wprf-flex"},l)}return C.createElement(C.Fragment,null,C.createElement("button",je({},r,{name:o.name,disabled:a,onClick:null!==(r=null==o?void 0:o.onClick)&&void 0!==r?r:function(e){var t,l;null!=o&&o.ajax&&(i(!0),Q(o.ajax,o.context).then(function(e){var t,n,r;if(i(!1),"error"==(null==e?void 0:e.status))throw new Error(null==e?void 0:e.message);o.onChange({target:{type:"button",name:o.name,value:!0}}),null!==(e=o.ajax)&&void 0!==e&&e.hideSwal||(e=(null===(e=o.ajax)||void 0===e||null===(t=e.swal)||void 0===t?void 0:t.icon)||"success",r=(null===(t=o.ajax)||void 0===t||null===(r=t.swal)||void 0===r?void 0:r.text)||"Complete",o.context.alerts.toast(e,r,{autoClose:null===(r=o.ajax)||void 0===r||null===(n=r.swal)||void 0===n?void 0:n.autoClose})),null!==(n=o.ajax)&&void 0!==n&&n.reload&&setTimeout(function(){return window.location.reload()},1e3)}).catch(function(e){var t;console.error("Error In Button Called",o.name,e),i(!1),o.onChange({target:{type:"button",name:o.name,value:!1}}),null!==(t=o.ajax)&&void 0!==t&&t.hideSwal||o.context.alerts.toast("error",(null==e?void 0:e.message)||v.__("Something went wrong.","notificationx"))})),l=(t=o).context,null!=t&&t.trigger&&ae(null==t?void 0:t.trigger)&&null!=t&&t.trigger.map(function(e){var t=(null==e?void 0:e.type)||"setFieldValue";if(null!=e&&e.action&&ie(null==e?void 0:e.action))for(var n in null==e?void 0:e.action){var r=n;-1<r.indexOf(".")&&(r=r.split("."));n=null==e?void 0:e.action[n];""!=r&&l[t](r,n)}})},className:N.default("wprf-control wprf-button wprf-btn",null==o?void 0:o.classes)}),ie(null==o?void 0:o.text)&&null!=o&&o.ajax?a?null==o||null===(e=o.text)||void 0===e?void 0:e.loading:o.value?null==o||null===(t=o.text)||void 0===t?void 0:t.saved:null==o||null===(n=o.text)||void 0===n?void 0:n.normal:null==o?void 0:o.text))});function Qt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}x=function(t){var n=K(t,["is_pro","visible","trigger","disable","parentIndex","context","badge","popup"]),e=xe(C.useState(Object.keys(t.controls)[0]),2),r=e[0],l=e[1],e=n.value;ie(n.value)||Object.keys(t.controls).reduce(function(e,t){return Zt(Zt({},e),{},M({},t,n.value))},{});var e=xe(C.useState(e),2),o=e[0],a=e[1];return C.useEffect(function(){n.onChange({target:{type:"input",name:n.name,value:o,checked:null,multiple:null}})},[o]),C.createElement("div",{style:{display:"flex",alignItems:"center",rowGap:5,columnGap:10,flexWrap:"wrap"}},_.default.createElement("input",Zt(Zt({},n),{},{type:"number",value:null==o?void 0:o[r],onChange:function(e){a(Zt(Zt({},o),{},M({},r,e.target.value)))}})),C.createElement("div",{style:{display:"flex",alignItems:"center"}},null===(e=Object.keys(t.controls))||void 0===e?void 0:e.map(function(e){return C.createElement("button",{type:"button",key:e,className:"responsive-button ".concat(r===e?"active":""),onClick:function(){return l(e)}},C.createElement("img",{src:t.controls[e].icon,alt:"desktop",style:{width:t.controls[e].size}}))})))};x.defaultProps={type:"number"};var en=h(_.default.memo(x)),tn=function(e){var t=function(e){if(null!=e&&e.messages)for(var t in e.messages){t=e.messages[t];if(we(t.rules,e.context.values))return t}return{message:null==e?void 0:e.message,html:null==e?void 0:e.html,type:"normal"}}(e),n=t.html,r=t.message,t=t.type;return r?C.createElement("div",{className:N.default("wprf-control","wprf-message","wprf-".concat(void 0===t?"warning":t,"-message"),"wprf-".concat(e.name,"-message"),null==e?void 0:e.classes)},n&&C.createElement("p",{dangerouslySetInnerHTML:{__html:r}}),!n&&C.createElement("p",null,r)):C.createElement(C.Fragment,null)},nn=function(t){var e;if(null==(null==t?void 0:t.body)||null==(null==t?void 0:t.button))throw new Error(v.__("Modal needs button/body with it.","notificationx"));var n=xe(C.useState(!1),2),r=n[0],l=n[1],o=xe(C.useState(!1),2),n=o[0];o[1];function a(){return l(!1)}o=C.useCallback(function(){},[]);return C.createElement("div",{className:"wprf-control wprf-modal",id:"wprf-modal-".concat(t.name)},C.createElement(Ze,je({type:"button"},null==t?void 0:t.button,{onClick:function(){return l(!0)}})),r&&C.createElement(B.default,{customClass:"wprf-modal-inner",style:{maxWidth:"900px",width:"100%",overflowY:"scroll",margin:"50px auto"},closeBtnStyle:{top:"5px",right:"5px",color:"#f78c8c",fontSize:"18px",border:"1px solid #f78c8c",borderRadius:"50%",width:"30px",height:"30px",display:"inline-flex",alignItems:"center",justifyContent:"center"},title:C.createElement(Ot,{content:null==t||null===(e=t.body)||void 0===e?void 0:e.header}),onConfirm:o,showConfirm:!1,showCloseButton:!0,closeOnClickOutside:!0,onCancel:a,afterUpdate:function(){var e;null!=t&&t.cancel&&null!==(e=t.context.values)&&void 0!==e&&e[t.cancel]&&a()}},C.createElement(ht,je({},t,{isLoading:n,closeModal:a,context:t.context,onConfirm:o}))))};function rn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var ln=function(e){var t=e.fields,r=e.parentIndex,n=e.context,l=xe(C.useState([]),2),o=l[0],a=l[1],e=xe(C.useState([]),2),l=e[0],i=e[1];return C.useEffect(function(){var e=de(t);n.setFormField([r,"fields"],e),a(e),console.log(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e))},[]),C.useEffect(function(){var e;ae(o)&&0<o.length&&(e=o.map(function(e,t){var n=[].concat(G(r),["fields",t]);return"section"===(null==e?void 0:e.type)?C.createElement(Ze,je({key:"input-".concat(e.name,"-").concat(t)},e,{parentIndex:n})):e?C.createElement(et,je({key:"input-".concat(e.name,"-").concat(t)},e,{parentIndex:n})):C.createElement(C.Fragment,null)}),i(e))},[o]),C.createElement(C.Fragment,null,l)};function on(e){var t,n,r,l,o,a=e.fields,i=e.active,u=e.submit,c=_e(e,cn);if(void 0===a)throw new Error(v.__("There are no #tabs args defined in props.","notificationx"));var s=Pe(),d=c.parentIndex||[];if(!ae(a))throw new Error(v.__("Not an array.","notificationx"));var f=xe(C.useState([]),2),e=f[0],p=f[1];return C.useEffect(function(){var e=a.filter(function(e){return ue(null==s?void 0:s.values,e)});p(e)},[a,null==s||null===(t=s.values)||void 0===t?void 0:t.source]),C.createElement("div",{className:N.default("wprf-tab-content-wrapper",null==s||null===(n=s.values)||void 0===n?void 0:n.source,null==s||null===(r=s.values)||void 0===r?void 0:r.themes)},C.createElement("div",{className:"wprf-tab-flex"},C.createElement("div",{className:"wprf-tab-contents"},a.map(function(e,t){if(!ue(null==s?void 0:s.values,e))return"";var n=N.default("wprf-tab-content","wprf-tab-".concat(null==e?void 0:e.id),{"wprf-active":i===e.id});return C.createElement("div",{id:null==e?void 0:e.id,className:n,key:null==e?void 0:e.id},C.createElement("div",{className:"wprf-tab-heading-wrapper"},(null==e?void 0:e.label)&&(null===(n=null==c?void 0:c.title)||void 0===n||n)&&C.createElement("h4",null,e.label),C.createElement("div",null,(null==c?void 0:c.content_heading)&&Object.keys(c.content_heading).map(function(e,t){return C.createElement(_.default.Fragment,{key:"button_".concat(e,"_").concat(t)},C.createElement(et,c.content_heading[e]))}))),C.createElement(ln,{context:s,fields:null==e?void 0:e.fields,parentIndex:[].concat(G(d),[t])}))})),m.applyFilters("wprf_tab_content","",c)),(null==c||null===(l=c.step)||void 0===l?void 0:l.show)&&C.createElement(un,{fields:e,config:null!==(o=c.step)&&void 0!==o?o:{}}),(null===(o=null==u?void 0:u.show)||void 0===o||o)&&(null==u||!u.rules||we(null==u?void 0:u.rules,{rest:c}))&&C.createElement(an,u))}var an=function(e){var t=je({},(function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),e)),n=Pe(),e=(null==t?void 0:t.label)||v.__("Save Changes","notificationx"),t=C.useCallback(function(e){var t;null!==(t=n.submit)&&void 0!==t&&t.onSubmit&&n.submit.onSubmit(e,n)},[n]);return C.createElement("div",{className:"wprf-submit wprf-control"},C.createElement(b.Button,{className:"wprf-submit-button",onClick:t},e))},x=function(r){var e=xe(C.useState(void 0),2),l=e[0],n=e[1],e=xe(C.useState(void 0),2),o=e[0],a=e[1],i=Pe();return C.useEffect(function(){var e=r.fields.map(function(e){return e.id}),t=e.findIndex(function(e){return e===i.config.active});-1!=t&&a(e[t-1]),t<=e.length&&n(e[t+1])},[i.config.active,r.fields]),C.createElement("div",{className:"wprf-stepped-button"},Object.keys(r.config.buttons).map(function(e,t){var n;return C.createElement(_.default.Fragment,{key:"button_".concat(e,"_").concat(t)},("next"===e&&void 0!==l||"prev"===e&&void 0!==o)&&C.createElement(b.Button,{className:"wprf-btn wprf-step-btn-".concat(e),onClick:function(){return i.setActiveTab("next"===e?l:o)}},r.config.buttons[e]),null==l&&(null===(t=r.config.buttons)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.type)&&C.createElement(et,null===(n=r.config.buttons)||void 0===n?void 0:n[e]))}))},un=_.default.memo(x),cn=["fields","active","submit"],sn=function(e){var t=Pe(),n=xe(C.useState(e.value||e.active),2),r=n[0],l=n[1],n=N.default("wp-react-form wprf-tabs-wrapper",null==e?void 0:e.className,{"wprf-tab-menu-as-sidebar":null==e?void 0:e.sidebar});return C.useEffect(function(){e.onChange({target:{type:"button",name:e.name,value:r}})},[r]),C.createElement("div",{className:n},C.createElement(Se,je({},e,{active:r,setActive:function(e){return l(e)},fields:e.fields,context:t})),C.createElement(on,je({},e,{fields:e.fields,active:r,submit:null==e?void 0:e.submit})))};function dn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}t.registerStore("formbuilder",d);e.Action=$t,e.BuilderConsumer=y,e.BuilderProvider=p,e.Button=Kt,e.CodeViewer=dt,e.ColorPicker=Jt,e.Column=qe,e.Date=tt,e.Editor=Yt,e.Field=et,e.FormBuilder=function(e){var n=Pe(),t=e.tabs;return null!==t&&void 0!==t&&t.type||(t=fn(fn({},e.config),{},{fields:e.tabs,tabs:void 0,submit:null==e?void 0:e.submit,onChange:function(e){var t;n.setActiveTab(null==e||null===(t=e.target)||void 0===t?void 0:t.value)}})),C.createElement(C.Fragment,null,C.createElement(sn,t))},e.GenericField=Ze,e.GenericInput=lt,e.Group=vt,e.Image=$e,e.Input=ot,e.JsonUploader=ft,e.Label=He,e.Media=Xt,e.Message=tn,e.Modal=nn,e.ObjectFilter=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!t)return!1;var r={},l=Object.keys(t).filter(function(e){return n(e)});return e?l:(l.map(function(e){r[e]=t[e]}),r)},e.Radio=It,e.Repeater=Gt,e.ResponsiveNumber=en,e.Row=Ue,e.Section=Vt,e.Select=mt,e.SelectAsync=Wt,e.Slider=zt,e.SweetAlert=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return T.default.fire(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(n),!0).forEach(function(e){M(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({target:null!==(e=null==t?void 0:t.target)&&void 0!==e?e:"#notificationx",type:null!==(e=null==t?void 0:t.type)&&void 0!==e?e:"success",html:null==t?void 0:t.html,title:null!==(e=null==t?void 0:t.title)&&void 0!==e?e:v.__("Title Goes Here: title","notificationx"),text:null!==(e=null==t?void 0:t.text)&&void 0!==e?e:v.__("Test Goes Here: text","notificationx"),icon:null!==(e=null==t?void 0:t.icon)&&void 0!==e?e:(null==t?void 0:t.type)||"success",timer:null!==(e=null==t?void 0:t.timer)&&void 0!==e?e:null},t))},e.Textarea=ut,e.Toggle=Dt,e._extends=Ie,e.builderReducer=Re,e.executeChange=X,e.getIn=se,e.getSelectedValues=function(e){return Array.from(e).filter(function(e){return e.selected}).map(function(e){return e.value})},e.getStoreData=Te,e.getTime=Z,e.hitAAJX=Q,e.isArray=ae,e.isEmptyObj=ce,e.isExists=function(e,t){var n=U(e);switch(!0){case"object"===n&&ae(e):return e.includes(t);case"object"===n&&!ae(e):return void 0!==(null==e?void 0:e[t]);default:return e===t}},e.isFunction=$,e.isNumber=J,e.isObject=ie,e.isString=le,e.isVisible=ue,e.merge=ee,e.objectWithoutPropertiesLoose=fe,e.processAjaxData=function(n){var r={};return Object.keys(n).map(function(e){var t;0===n[e].indexOf("@")?""!=(t=n[e].substr(1))&&(t=Te().getFieldValue(t),r[e]=t||"undefined"):r[e]=n[e]}),r},e.setIn=Y,e.setStoreData=Fe,e.sortingFields=de,e.triggerDefaults=function(e,t){var n,r,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ce(e)&&"object"===U(e))for(var o in e)o===l&&(n=e[o].indexOf("@"),r=e[o].indexOf(":"),0===n&&0<r&&(n=e[o].substr(1,r-1),o=e[o].substr(r+1),r=Te().getSavedFieldValue(n,t),""!=n&&""!=o&&Fe().setFieldValue({name:n,value:M({},n,r||o)})))},e.useBuilder=function(e){var t=C.useRef(!1);C.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]);var n=xe(C.useReducer(Re,Be(Be({},e),{},{savedValues:e.savedValues||{},values:e.values||{},errors:e.initialErrors||{},touched:e.initialTouched||{},icons:e.initialIcons||{},common:{},alerts:{},tabs:de(e.tabs)})),2),s=n[0],r=n[1],l=Me(function(e,t,n){r({type:"SET_CONTEXT",payload:{field:e,value:t}})}),o=Me(function(e,t){e="function"==typeof e?e(s.values):e;return r({type:"SET_VALUES",payload:e}),void 0!==t&&t?e:Promise.resolve()}),a=Me(function(e,t){e="function"==typeof e?e(s.values):e;return r({type:"SET_SAVED_VALUES",payload:e}),void 0!==t&&t?e:Promise.resolve()}),i=Me(function(e,t,n){r({type:"SET_FIELD_VALUE",payload:{field:e,value:t}})}),u=Me(function(e,t){r({type:"SET_FORM_FIELD",payload:{field:e,value:t}})}),c=C.useCallback(function(e){return se(s.values,e)},[s]),d=Me(function(e,t,n){r({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t=t||!0}})}),f=C.useCallback(function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.persist&&e.persist();var n=e.target,r=n.name,e=n.id;n.outerHTML,d(t||r||e,!0)},[d]),p=Me(function(t){return"string"==typeof t?function(e){return f(e,t)}:void f(t)}),v=C.useCallback(function(e,t,n){null!=n&&n.isPro&&!1===Boolean(s.is_pro_active)||(t=(e=X(e,t)).field,e=e.val,t&&i(t,e))},[i,s.values]),m=Me(function(t,n){var e;return null!=n&&n.isPro&&!1===Boolean(s.is_pro_active)&&(null===(e=s.alerts)||void 0===e||null!==(e=e.pro_alert(null==n?void 0:n.popup))&&void 0!==e&&e.fire()),"string"==typeof t?function(e){return v(t,e,n)}:void v(t,null,n)}),b=C.useCallback(function(e){var t,n,r,l=Be({},e),o=K(l),a=o.name,i=o.type,u=o.parent,c=o.parenttype;null!=l&&l.is_pro&&(o.is_pro=!(null!=l&&l.is_pro&&!0===Boolean(s.is_pro_active))),r=u&&"group"===c?null!==(t=null==(t=null!==(t=se(s.values,u))&&void 0!==t?t:{})?void 0:t[a])&&void 0!==t?t:null==l?void 0:l.default:u&&"repeater"===c?null!==(n=null==(u=null!==(u=se(s.values,u))&&void 0!==u?u:[])||null===(n=u[o.index])||void 0===n?void 0:n[a])&&void 0!==n?n:null==l?void 0:l.default:null!==(r=se(s.values,a))&&void 0!==r?r:null==l?void 0:l.default,o.onChange=m,o.onBlur=p;l=o.value;return"checkbox"===i?(o.checked=!!r,o.value=!!r,le(r)&&"0"===r?(o.checked=!1,o.value=!1):(o.checked=Boolean(r),o.value=Boolean(r))):"radio"===i?(o.checked=r===l,o.value=l):o.value="date"===i&&null==r?Z():r,o.visible=ue(s.values,e),o},[p,m,s.values]),y=C.useCallback(function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return n=null!==r?null===(r=se(s.values,r))||void 0===r?void 0:r[e]:se(s.values,e)||(null===(n=t.meta)||void 0===n?void 0:n.default),Be(Be({},t.meta),{},{value:n,error:se(s.errors,e),touched:!!se(s.touched,e),visible:ue(s.values,t),initialValue:"",initialTouched:"",initialError:""})},[s.errors,s.touched,s.values]),g=C.useCallback(function(e){if(0<e.length)return e.filter(function(e){return null!=e&&e.rules?we(e.rules,s.values):e});return e},[s.errors,s.touched,s.values]),w=C.useCallback(function(e,t){if(e.length){var n=[];return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&ae(t)?n=e.filter(function(e){return t.includes(e.value)}):0<(n=e.filter(function(e){return e.value==t})).length?n[0]:""}return e},[s.errors,s.touched,s.values]),E=C.useCallback(function(){return{setValue:function(e,t){return i(e,t)},getValue:function(e){return se(s.values,e)},getValueForDefault:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return(null===t||se(s.savedValues,t)===se(s.values,t))&&se(s.savedValues,e)}}},[s.errors,s.touched,s.values,s.savedValues]),h=C.useCallback(function(e){return se(s.tabs,e)},[s]),O=Me(function(e){r({type:"SET_ISSUBMITTING",payload:e})}),j=Me(function(e){r({type:"SET_ACTIVE_TAB",payload:e})}),x=Me(function(e){r({type:"SET_REDIRECT",payload:e})}),S=Me(function(e,t){r({type:"SET_ICONS",payload:{name:e,icons:t}})}),_=Me(function(e,t){r({type:"SET_COMMONS",payload:{name:e,value:t}})}),n=Me(function(e,t){r({type:"SET_ALERTS",payload:{name:e,value:t}})});return Be(Be(Be({},e),s),{},{setContext:l,values:s.values,savedValues:s.savedValues,errors:s.errors,touched:s.touched,isSubmitting:!1,setActiveTab:j,setRedirect:x,setSubmitting:O,setValues:o,setSavedValues:a,setFieldValue:i,getFieldValue:c,handleBlur:p,handleChange:m,getFieldProps:b,getFieldMeta:y,getFieldHelpers:E,eligibleOptions:g,eligibleOption:w,getTabFields:h,setFormField:u,registerIcons:S,registerCommon:_,registerAlert:n})},e.useBuilderContext=Pe,e.useDefaults=De,e.validFieldProps=K,e.when=we,e.withLabel=h,e.withProps=O,e.withState=function(e){return Boolean(["group","section"].includes(e))},e.wpFetch=re,Object.defineProperty(e,"__esModule",{value:!0})});
