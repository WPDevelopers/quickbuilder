!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("classnames"),require("@wordpress/data"),require("lodash-es"),require("@wordpress/api-fetch"),require("@wordpress/date"),require("moment"),require("intersect"),require("@wordpress/i18n"),require("lodash"),require("@wordpress/hooks"),require("sweetalert2"),require("@wordpress/components"),require("copy-to-clipboard"),require("react-select"),require("@wordpress/media-utils"),require("react-draft-wysiwyg"),require("draft-js"),require("draftjs-to-html"),require("html-to-draftjs"),require("react-bootstrap-sweetalert")):"function"==typeof define&&define.amd?define(["exports","react","classnames","@wordpress/data","lodash-es","@wordpress/api-fetch","@wordpress/date","moment","intersect","@wordpress/i18n","lodash","@wordpress/hooks","sweetalert2","@wordpress/components","copy-to-clipboard","react-select","@wordpress/media-utils","react-draft-wysiwyg","draft-js","draftjs-to-html","html-to-draftjs","react-bootstrap-sweetalert"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).quickbuilder={},e.React,e.classNames,e.wpData,e.lodashEs,e.wpApiFetch,e.wpDate,e.momentLib,e.intersect,e.wpI18n,e.lodash,e.wpHooks,e.sweetalert2,e.wpComponents,e.copy,e.reactSelect,e.wpMedia,e.reactDraftWysiwyg,e.draftJs,e.draftjsToHtml,e.htmlToDraftjs,e.sweetalert)}(this,function(e,D,t,n,s,r,u,o,l,v,a,m,i,h,c,d,f,p,g,b,y,E){"use strict";function w(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var O=w(D),S=w(t),x=w(r),_=w(o),C=w(l),j=w(i),P=w(c),T=w(d),I=w(b),N=w(y),k=w(E);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function L(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function U(e){return null!==e&&"number"==typeof e}function H(e){return null!==e&&"function"==typeof e}function X(e,t){return null==t||!t.rules||null==t.name||(e=pe(t.rules,e),Boolean(e))}function $(e,t){var n,r,o,l,a=t,i=e;return Q(e)||(e.persist&&e.persist(),r=(n=e.target||e.currentTarget).type,o=n.name,l=n.value,e=n.checked,n.options,n.multiple,a=t||o,i=/number|range/.test(r)?(o=parseFloat(l),isNaN(o)?"":o):/checkbox/.test(r)?e:l),{field:a,val:i}}function Y(e,t,n){for(var r=s.clone(e),o=r,l=0,a=s.toPath(t);l<a.length-1;l++){var i=a[l],u=oe(e,a.slice(0,l+1));o=u&&(ne(u)||Array.isArray(u))?o[i]=s.clone(u):(u=a[l+1],o[i]=ee(u)&&0<=Number(u)?[]:{})}return(0===l?e:o)[a[l]]===n?e:(void 0===n?delete o[a[l]]:o[a[l]]=n,0===l&&void 0===n&&delete r[a[l]],r)}function q(e){var t=e.type,n=["validation_rules","default","rules","meta","switch"].concat(L(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]));return"select"!==t&&"radio-card"!==t&&"toggle"!==t&&e.multiple&&n.push("options"),"group"!==t&&"repeater"!==t&&"section"!==t&&"button"!==t&&n.push("fields"),n=ae(e,n),null==e||!e.label||null!=e&&e.placeholder||(n.placeholder=e.label),n}function G(l){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null!==a&&l){var e=!0;if(e=null!=l&&l.rules?pe(null==l?void 0:l.rules,a.values):e){var r={};return Object.keys(l.data).map(function(e){var t,n;-1<(null===(n=(t=l.data[e]).indexOf)||void 0===n?void 0:n.call(t,"@"))?(n=l.data[e].substr(1),r[e]=null===(t=a.values)||void 0===t?void 0:t[n]):r[e]=l.data[e]}),Z({path:l.api,data:r}).then(function(e){var t;"success"==(null==e?void 0:e.status)&&null!=e&&e.redirect&&(window.location=null==e?void 0:e.redirect);var n,r,o=null!=e&&null!==(t=e.data)&&void 0!==t&&t.context?e.data.context:!(null==e||!e.context)&&e.context;return o&&ne(o)&&Object.keys(o).map(function(e){a.setFieldValue(e,o[e])}),null!=e&&null!==(n=e.data)&&void 0!==n&&n.download&&ie({data:JSON.stringify(e.data.download),fileName:(null==e||null===(r=e.data)||void 0===r?void 0:r.filename)||"export.json",fileType:"text/json"}),null!=l&&l.trigger&&Q(null==l?void 0:l.trigger)&&(n=l.trigger.indexOf("@"),r=l.trigger.indexOf(":"),0===n&&0<r&&(n=l.trigger.substr(1,r-1),"true"==(r=l.trigger.substr(r+1))?r=!0:"false"==r&&(r=!1),a.setFieldValue(n,r))),e})}}return Promise.reject(!1)}function W(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=u.__experimentalGetSettings();return _.default.utc(e||void 0).utcOffset(+(null==r||null===(t=r.timezone)||void 0===t?void 0:t.offset),n)}function z(e,t,n){var r=L(e),t=t.filter(function(t){return r.findIndex(function(e){return e[n]===t[n]})<=-1});return[].concat(L(r),L(t))}function K(e){return("function"!=typeof Symbol||"symbol"!==M(Symbol.iterator))&&e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":M(e)}function J(e,t){var n=!(2<(arguments.length<=2?0:arguments.length-2)&&void 0!==(arguments.length<=4?void 0:arguments[4]))||arguments.length<=4?void 0:arguments[4];return String.prototype.split.call(t,/[,[\].]+?/).filter(Boolean).reduce(function(e,t){return e&&Object.hasOwnProperty.call(e,t)?e[t]:n},e)}var Z=function(e){e=B(B({},e),{},{method:"POST"});return x.default(e)},Q=function(e){return null!==e&&"string"==typeof e},ee=function(e){return String(Math.floor(Number(e)))===e},te=function(e){return null!==e&&"object"===M(e)&&Array.isArray(e)},ne=function(e){return null!==e&&"object"===M(e)&&!te(e)},re=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},oe=function(e,t,n,r){void 0===r&&(r=0);for(var o=s.toPath(t);e&&r<o.length;)e=e[o[r++]];return void 0===e?n:e},le=function(e){return[].concat(e).sort(function(e,t){return null==e.priority||null==t.priority?0:e.priority>t.priority?1:-1})},ae=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),l=0;l<o.length;l++)n=o[l],0<=t.indexOf(n)||(r[n]=e[n]);return r},ie=function(e){var t=e.data,n=e.fileName,e=e.fileType,t=new Blob([t],{type:e}),e=document.createElement("a");e.download=n,e.href=window.URL.createObjectURL(t);t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e.dispatchEvent(t),e.remove()},ue={is:function(e,t,n){return J(n,e)==t},"!is":function(e,t,n){return!ue.is(e,t,n)},includes:function(e,t,n){if(!re(n)){n=J(n,e);if("function"!=K(n)){if(te(t)&&te(n))return null===(e=C.default(n,t))||void 0===e?void 0:e.length;if(te(t)&&"string"==K(n))return t.includes(n);if(te(n)&&"string"==K(t))return n.includes(t)}}return!1},"!includes":function(e,t,n){return!ue.includes(e,t,n)},isOfType:function(e,t,n){return K(J(n,e))===t},"!isOfType":function(e,t,n){return!ue.isOfType(e,t,n)},allOf:function(e,t,n){if(!Array.isArray(t))throw Error(v.__('"allOf" condition requires an array as #3 argument',"notificationx"));var r=J(n,e);return t.every(function(e){return r.includes(e)})},anyOf:function(e,t,n){if(!Array.isArray(t))throw Error(v.__('"anyOf" condition requires an array as #3 argument',"notificationx"));e=J(n,e);return t.includes(e)},gt:function(e,t,n){return J(n,e)>t},gte:function(e,t,n){return J(n,e)>=t},lt:function(e,t,n){return J(n,e)<t},lte:function(e,t,n){return J(n,e)<=t}},se={and:function(e){return!e.includes(!1)},or:function(e){return e.includes(!0)},not:function(e){if(1!==e.length)throw Error(v.__('"not" can have only one comparison rule, multiple rules given',"notificationx"));return!e[0]}},ce=function(e){return!!(Array.isArray(e)&&Array.isArray(e[1])&&e[0]&&se[e[0].toLowerCase()])},de=function(e,t){var n=e[0],r=e[1],e=e[2];if("string"!=typeof n||void 0===ue[n])throw Error(v.sprintf(v.__("Invalid comparison rule %s.","notificationx"),n));return ue[n](r,e,t)},fe=function(e,t){return se[e.toLowerCase()](t)},pe=function(e,t){return"function"==typeof e?Promise.resolve(e(t)):function(e,n){if(!ce(e))return de(e,n);var t=e.slice(0,1)[0],e=e.slice(1).map(function(e,t){return(ce(e)?pe:de)(e,n)});return fe(t,e)}(e,t)};function ve(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var he={savedValues:{type:"conversions",source:"edd"},values:{},touched:{},errors:{}},l={reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:he,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_SAVED_VALUES":var n=me({},e);return n=me(me({},n),{},{values:t.payload,savedValues:t.payload});case"FIELD_VALUE":var r=me({},e),o=t.payload;return t.name,me(me({},r),{},{values:me(me({},null===r||void 0===r?void 0:r.values),o)});case"REMOVE_FIELD_VALUE":var l=me({},e),o=t.payload;return null!==(r=l.values)&&void 0!==r&&r[o]&&delete l.values[o],l;case"RESET_FIELD_VALUE":var a=me({},e);return null!==(l=a.values)&&void 0!==l&&l[t.payload]&&(delete a.values[t.payload],null!==(l=a.savedValues)&&void 0!==l&&l[t.payload]&&(a.values[t.payload]=a.savedValues[t.payload])),a;case"FIELD_ERROR":return me(me({},e),{},{errors:me(me({},e.errors),t.payload)});case"REMOVE_FIELD_ERROR":a=me({},e);return delete a.errors[t.payload],a;case"FIELD_TOUCHED":return me(me({},e),{},{touched:me(me({},e.touched),t.payload)})}return e},actions:{setSavedValues:function(e){return{type:"SET_SAVED_VALUES",payload:e}},setFieldValue:function(e){return{type:"FIELD_VALUE",name:e.name,payload:e.value}},removeFieldValue:function(e){return{type:"REMOVE_FIELD_VALUE",payload:e}},resetFieldValue:function(e){return{type:"RESET_FIELD_VALUE",payload:e}},setFieldTouched:function(e){return{type:"FIELD_TOUCHED",payload:e}},setError:function(e){return{type:"FIELD_ERROR",payload:e}},removeError:function(e){return{type:"REMOVE_FIELD_ERROR",payload:e}}},selectors:{getValues:function(e){return e.values},getFieldValue:function(e,t){return null===(e=e.values)||void 0===e?void 0:e[t]},getSavedFieldValue:function(e,t,n){var r;return null!==n?(null===(r=e.savedValues)||void 0===r?void 0:r[n])===(null===(r=e.values)||void 0===r?void 0:r[n])&&(null===(n=e.savedValues)||void 0===n?void 0:n[t]):null===(e=e.savedValues)||void 0===e?void 0:e[t]},isTouched:function(e,t){return null===(e=e.touched)||void 0===e?void 0:e[t]},getError:function(e,t){return null===(e=e.errors)||void 0===e?void 0:e[t]},isVisible:function(e,t){if(!t.rules||null==t.name)return!0;e=pe(t.rules,e.values);return Boolean(e)}}};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return l}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ye=function(e){var t;if(void 0===e.tabs)throw new Error(v.__("There are no tabs defined!","notificationx"));var a=e.active,i=e.setActive,n=e.tabs,u=e.config,s=e.context,r=be(D.useState([]),2),o=r[0],l=r[1];D.useEffect(function(){var e=n.filter(function(e){return X(null==s?void 0:s.values,e)});l(e)},[n,null==s||null===(t=s.values)||void 0===t?void 0:t.source]);var c=S.default("wprf-tab-menu-wrapper",null==e?void 0:e.className,{"wprf-tab-menu-sidebar":null==u?void 0:u.sidebar},null==s||null===(c=s.values)||void 0===c?void 0:c.source),d=o.findIndex(function(e){return e.id===a});return D.createElement("div",{className:c},D.createElement("ul",{className:"wprf-tab-nav"},o.map(function(t,e){var n,r,o,l;return D.createElement("li",{className:S.default("wprf-tab-nav-item",(A(n={},"".concat(t.classes),t.classes),A(n,"wprf-active-nav",a===t.id),A(n,"wprf-tab-complete",!(null==u||!u.completionTrack)&&e<=d),n)),"data-key":t.id,key:t.id,onClick:function(){var e;return(null===(e=null==u?void 0:u.clickable)||void 0===e||e)&&i(t.id)}},(null==t?void 0:t.icon)&&(Q(t.icon)&&!ne(t.icon)?D.createElement("img",{src:t.icon,alt:null==t?void 0:t.label}):ne(t.icon)?null==s||null===(r=s.icons)||void 0===r||null===(o=r[null==t||null===(o=t.icon)||void 0===o?void 0:o.type])||void 0===o?void 0:o[null==t||null===(l=t.icon)||void 0===l?void 0:l.name]:""),D.createElement("span",null,t.label))})))};function Ee(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),l=0;l<o.length;l++)n=o[l],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),l=0;l<o.length;l++)n=o[l],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var we=D.createContext(void 0);we.displayName="production"===process.env.NODE_ENV?"Anonymous":"BuilderContext";i=we.Provider,c=we.Consumer;function Oe(){return D.useContext(we)}function Se(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fields";if(null==t||!t[n])throw new Error("#options param need to set in order to use useOptions hook.");var r=t.value,o=t.multiple,l=Oe(),e=be(D.useState(t[n]),2),a=e[0],i=e[1],u=(d=be(D.useState([]),2))[0],s=d[1],c=(e=be(D.useState({options:null,parentIndex:null}),2))[0],d=e[1],f=(e=be(D.useState(null),2))[0],p=e[1],v=(e=be(D.useState(null),2))[0],m=e[1];return D.useEffect(function(){var e=t.ajax&&(null===(e=l.getTabFields(null==t?void 0:t.parentIndex))||void 0===e?void 0:e[n])||a;s(l.eligibleOptions(e)),p(l.eligibleOption(e,r,null!=o&&o))},[r,a]),D.useEffect(function(){i(t[n]),s(l.eligibleOptions(t[n]))},[t]),D.useEffect(function(){s(l.eligibleOptions(a))},[a]),D.useEffect(function(){null!=c.options&&i(c.options)},[c]),D.useEffect(function(){var e;null!=f&&(e=o?te(f)&&f.map(function(e){return e.value})||r:f.value||r,m(e))},[f]),D.useEffect(function(){var e,t;0===u.filter(function(e){return e.value===v}).length&&(t=le(u),m((null==t||null===(e=t[0])||void 0===e?void 0:e.value)||r))},[v,u]),{options:le(u),option:v,selectedOption:f,setOptions:s,setData:d}}function xe(e,t,n,r){if(null!=r&&null!=(null==r?void 0:r.defaults)&&!re(r.defaults)){var o=r.defaults;if(null!=o&&!re(o)){var l={};if(null!=o&&o[n]&&Q(null==o?void 0:o[n])){var a=o[n].indexOf("@"),i=o[n].indexOf(":");0===a&&0<i&&(r=o[n].substr(1,i-1),a=o[n].substr(i+1),i=t.getValueForDefault(r,e),""!=r&&""!=a&&(a="false"!==a&&a,l[r]=i||a,t.setValue(r,i||a)))}else if(null!=o&&o[n]&&(te(o[n])||ne(o[n])))for(var u in o[n]){var s,c=o[n][u];c&&(te(c)||ne(c))?(s=t.getValueForDefault(u,e),""!=u&&""!=c&&(c="false"!==c&&c,l[u]=s||c,t.setValue(u,s||c))):c&&(u=c.indexOf("@"),s=c.indexOf(":"),0===u&&0<s&&(u=c.substr(1,s-1),s=c.substr(s+1),-1<c.indexOf(".")&&(u=u.split(".")),c=t.getValueForDefault(u,e),""!=u&&""!=s&&(s="false"!==s&&s,l[u]=c||s,t.setValue(u,c||s))))}return{defaultsData:l}}}}function _e(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ce(){return n.select("formbuilder")}function De(){return n.dispatch("formbuilder")}function je(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return(Object.assign||function(e){for(var t=1;t<o.length;t++){var n,r=o[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,o)}function Pe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ie(e,t){switch(t.type){case"SET_CONTEXT":return je({},e,Y(e,t.payload.field,t.payload.value));case"SET_ACTIVE_TAB":return Te(Te({},e),{},{config:Te(Te({},e.config),{},{active:t.payload})});case"SET_REDIRECT":return Te(Te({},e),{},{redirect:Te(Te({},e.redirect),t.payload)});case"SET_VALUES":return je({},e,Y(e,"values",t.payload));case"SET_SAVED_VALUES":return je({},e,Y(e,"savedValues",t.payload));case"SET_FIELD_VALUE":return je({},e,{values:Y(e.values,t.payload.field,t.payload.value)});case"SET_TOUCHED":return je({},e,{touched:t.payload});case"SET_ERRORS":return je({},e,{errors:t.payload});case"SET_STATUS":return je({},e,{status:t.payload});case"SET_ISSUBMITTING":return Te(Te({},e),{},{isSubmitting:t.payload});case"SET_ISVALIDATING":return je({},e,{isValidating:t.payload});case"SET_FIELD_TOUCHED":return Te(Te({},e),{},{touched:Te(Te({},e.touched),{},A({},t.payload.field,t.payload.value))});case"SET_FIELD_ERROR":case"RESET_FORM":return je({},e,t.payload);case"SUBMIT_ATTEMPT":return je({},e,{isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return je({},e,{isSubmitting:!1});case"SET_FORM_FIELD":return null===t.payload.field?je({},e,Y(e,"tabs",t.payload.value)):je({},e,{tabs:Y(e.tabs,t.payload.field,t.payload.value)});case"SET_ICONS":return je({},e,{icons:Y(e.icons,t.payload.name,t.payload.icons)});case"SET_ALERTS":return je({},e,{alerts:Y(e.alerts,t.payload.name,t.payload.value)});case"SET_COMMONS":return je({},e,{common:Y(e.common,t.payload.name,t.payload.value)});default:return e}}function Ne(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ae(e){var l=D.useRef(e);return Ue(function(){l.current=e}),D.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return l.current.apply(void 0,t)},[])}function Me(e){var t=S.default("wprf-row clearfix wprf-flex",null==e?void 0:e.className);return D.createElement("div",{className:t},null==e?void 0:e.children)}function Fe(e){var t=S.default("wprf-column",null==e?void 0:e.className,(A(t={},"wprf-column-".concat(12/(null==e?void 0:e.column)),(null==e?void 0:e.column)&&12!==e.column),A(t,"wprf-column-12",12===e.column),t));return D.createElement("div",{className:t},null==e?void 0:e.children)}function Re(e){var t,n,r,o=S.default("wprf-input-label",null==e?void 0:e.className);return D.createElement("label",{htmlFor:null==e?void 0:e.htmlFor,className:o},(null==e||null===(t=e.badge)||void 0===t?void 0:t.value)&&D.createElement("div",{className:"wprf-badge"},D.createElement("sup",{className:S.default("wprf-badge-item",{"wprf-badge-active":null==e||null===(n=e.badge)||void 0===n?void 0:n.active})},null==e||null===(r=e.badge)||void 0===r?void 0:r.label)),!(null!=e&&e.src)&&(null==e?void 0:e.children),(null==e?void 0:e.src)&&D.createElement(He,{className:"wprf-label-image",src:e.src,alt:null==e?void 0:e.label}))}function Le(t){var n=Oe(),e=t.label,r=t.active,o=t.position,l=void 0===o?"right":o,a=t.renderLabel,i=t.renderComponent;return void 0===e&&(e="Pro"),o=S.default("wprf-badge-item",{"wprf-badge-active":r}),r={},n.is_pro_active||(r={onClick:function(e){e.preventDefault(),n.alerts.pro_alert(null==t?void 0:t.popup).fire()}}),D.createElement("div",ge({className:S.default("wprf-badge-wrapper",{"pro-deactivated":!n.is_pro_active})},r),"left"===l&&0<e.length&&D.createElement(D.Fragment,null,a(D.createElement(Xe,{componentClasses:o,label:e}),"left")),"right"===l&&0<e.length&&D.createElement(D.Fragment,null,a(D.createElement(Xe,{componentClasses:o,label:e}),"right")),i())}function Ve(e){var t,n=e.id,r=e.label,o=e.badge,l=e.badgePosition,a=e.context,e=Ee(e,$e);return r&&0<r.length?D.createElement("div",{className:"wprf-control-label"},"left"==l&&o,D.createElement("label",{htmlFor:n},r),(null==e?void 0:e.link)&&D.createElement("a",{rel:"nofollow",target:"_blank",href:e.link},null==a||null===(t=a.icons)||void 0===t?void 0:t.link),"right"==l&&o):null}function Be(e){var t=e.position,n=e.description,r=e.renderComponent,e=e.help;return D.createElement("div",{className:"wprf-control-field"},"left"===t&&n&&D.createElement("p",{className:"wprf-description",dangerouslySetInnerHTML:{__html:n}}),r(),"right"===t&&n&&D.createElement("p",{className:"wprf-description",dangerouslySetInnerHTML:{__html:n}}),e&&D.createElement("p",{className:"wprf-help",dangerouslySetInnerHTML:{__html:e}}))}var Ue="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?D.useLayoutEffect:D.useEffect,He=function(e){if(null==e||!e.src)return D.createElement("p",null,"No Source( src ) Defined");var t=S.default(["wprf-input-image",null==e?void 0:e.className]);return D.createElement("img",{className:t,src:null==e?void 0:e.src,alt:null==e?void 0:e.alt})},Xe=function(e){var t=e.componentClasses,e=e.label;return D.createElement("div",{className:"wprf-badge"},D.createElement("sup",{className:t},e))},$e=["id","label","badge","badgePosition","context"],Ye=["label","id","name","type","style","is_pro","badge"];function qe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var d=function(v){return function(t){var e,n,r,o=t.label,l=t.id,a=t.name,i=t.type,u=t.style,s=t.is_pro,c=t.badge,d=Ee(t,Ye);null==l&&(l=a);var f=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({description:{position:"right"}},u),u=S.default((A(u={},"wprf-style-".concat(null==f?void 0:f.type),(null==f?void 0:f.type)||!1),A(u,"wprf-label-none",void 0===o||""===o||0===o.length),A(u,"wprf-".concat((null==f||null===(e=f.label)||void 0===e?void 0:e.position)||"inline","-label"),(null===(n=null==f||null===(n=f.label)||void 0===n?void 0:n.position)||void 0===n||n)&&null!=o),u));if("hidden"===i)return D.createElement(v,ge({},t,{id:l}));var p=q(t,["description","label","help","style"]),a=S.default("wprf-control-wrapper","wprf-type-".concat(i),u,null==t?void 0:t.classes,A({},"wprf-name-".concat(a),a));return D.createElement("div",{className:a},1==s&&D.createElement(D.Fragment,null,D.createElement(Le,ge({},c,d,{renderLabel:function(e,t){return D.createElement(Ve,ge({},p,{context:null==d?void 0:d.context,id:l,label:o,badge:e,badgePosition:t}))},renderComponent:function(){var e;return D.createElement(Be,{help:null,description:null==t?void 0:t.description,position:null==f||null===(e=f.description)||void 0===e?void 0:e.position,renderComponent:function(){return D.createElement(v,ge({},p,{disable:!0,id:l}))}})}})),(null==t?void 0:t.help)&&D.createElement("div",{className:"wprf-badge-wrapper"},D.createElement("div",{className:"wprf-control-label"}),D.createElement("div",{className:"wprf-control-field"},D.createElement("p",{className:"wprf-help",dangerouslySetInnerHTML:{__html:t.help}})))),(0==s||null==s)&&D.createElement(D.Fragment,null,o&&0<o.length&&D.createElement(Ve,ge({},p,{context:null==d?void 0:d.context,label:o,id:l})),D.createElement(Be,{help:null==t?void 0:t.help,description:null==t?void 0:t.description,position:null==f||null===(r=f.description)||void 0===r?void 0:r.position,renderComponent:function(){return D.createElement(v,ge({},p,{id:l}))}})))}},b=function(u){var s=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){var e=Oe(),t=n.trigger,r=e.getFieldProps(n),o=e.getFieldMeta(r.name,n),l=e.getFieldHelpers();null!=e&&e.quickBuilder&&null!=e&&e.show&&(e.show.includes(n.name)||(r.classes=null!=r&&r.classes?r.classes+" hidden":" hidden"));var a=null!=n&&n.parentIndex?L(n.parentIndex):[];r.parentIndex=a,r.context=e,H(n.onChange)&&(r.onChange=n.onChange),H(n.onBlur)&&(r.onBlur=n.onBlur);var i=D.useRef({});return D.useEffect(function(){return i.current[n.name]=!0,function(){i.current[n.name]=!1}},[]),D.useEffect(function(){var e,t;o.visible&&i.current[n.name]&&(s||"group"===r.type?(e=null==n?void 0:n.parent,t=null==n?void 0:n.parenttype,e&&"group"===t&&r.value&&l.setValue([e,r.name],r.value)):l.setValue(r.name,r.value))},[o.visible]),D.useEffect(function(){i.current[n.name]&&ne(t)&&!re(t)&&xe(r.name,l,r.value,t)},[r.value,o.visible]),o.visible?D.createElement(u,r):D.createElement(D.Fragment,null)}},y=function(e){if(!e.type||0===e.type.length)throw console.error(e),new Error(v.__("Field must have a #type. see documentation.","notificationx"));switch(e.type){case"text":case"checkbox":case"radio":case"email":case"range":case"number":case"hidden":return D.createElement(Qe,e);case"textarea":return D.createElement(nt,e);case"codeviewer":return D.createElement(lt,e);case"message":return D.createElement(ho,e);case"select":return D.createElement(st,e);case"slider":return D.createElement(so,e);case"group":return D.createElement(ut,e);case"radio-card":return D.createElement(jt,e);case"section":return D.createElement(Pt,e);case"date":return D.createElement(ze,e);case"toggle":return D.createElement(_t,e);case"colorpicker":return D.createElement(co,e);case"jsonuploader":return D.createElement(at,e);case"repeater":return D.createElement(uo,e);case"media":return D.createElement(po,e);case"editor":return D.createElement(vo,e);case"action":return D.createElement(fo,e);case"button":return D.createElement(mo,e);case"modal":return D.createElement(go,e);default:var t=m.applyFilters("custom_field","",e.type,e);return D.createElement(D.Fragment,null,t)}},Ge=b(y,!0),We=b(y),ze=d(function(e){var t=e.name,n=e.value,r=e.onChange,o=u.__experimentalGetSettings(),l=null!==(e=null==e?void 0:e.format)&&void 0!==e?e:o.formats.datetime,a=W(n),i=/a(?!\\)/i.test(o.formats.datetime.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));return D.useEffect(function(){r({target:{type:"date",name:t,value:a}})},[]),D.createElement(h.Dropdown,{className:"wprf-control-datetime",renderToggle:function(e){e.isOpen;e=e.onToggle;return D.createElement(h.Button,{isTertiary:!0,onClick:e},u.date(l,a,void 0))},renderContent:function(){return D.createElement(h.DateTimePicker,{currentDate:W(a),onChange:function(e){r({target:{type:"date",name:t,value:W(e,!0)}})},is12Hour:i})}})});function Ke(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}E=function(t){var n=q(t,["is_pro","visible","trigger","disable","parentIndex","context","badge","popup"]),e=D.useCallback(function(e){return n.onChange(e,{popup:null==t?void 0:t.popup,isPro:!!t.is_pro})},[null==n?void 0:n.value]);return"checkbox"===n.type&&null!=n&&n.name&&(n.checked=(null==n?void 0:n.checked)||(null==n?void 0:n.value)),O.default.createElement("input",Je(Je({},n),{},{onChange:e}))};E.defaultProps={type:"text"};var Ze=O.default.memo(E),Qe=d(O.default.memo(E));function et(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var nt=d(O.default.memo(function(t){var n=q(t,["is_pro","visible","trigger","disable","parentIndex","context"]),e=D.useCallback(function(e){return n.onChange(e,{isPro:!!t.is_pro})},[null==n?void 0:n.value]);return O.default.createElement("textarea",tt(tt({},n),{},{onChange:e,rows:5}))}));function rt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var lt=d(O.default.memo(function(t){var n=q(t,["is_pro","visible","trigger","disable","parentIndex","context","copyOnClick"]),e={onChange:D.useCallback(function(e){return n.onChange(e,{isPro:!!t.is_pro})},[null==n?void 0:n.value]),rows:5};!t.is_pro&&null!=t&&t.copyOnClick&&null!=t&&t.value&&(e.onClick=function(){var e=null!=t&&t.success_text?t.success_text:v.__("Copied to Clipboard.","notificationx");P.default(t.value,{format:"text/plain",onCopy:function(){t.context.alerts.toast("success",e)}})});var r=null!=t&&t.button_text?t.button_text:v.__("Click to Copy","notificationx");return D.createElement("span",{className:"wprf-code-viewer"},O.default.createElement("textarea",ot(ot({},n),e)),D.createElement(h.Button,{className:"wprf-copy-button"},r))})),at=d(O.default.memo(function(n){q(n,["is_pro","visible","trigger","disable","parentIndex","context","copyOnClick"]);var e=be(D.useState(),2),t=e[0],r=e[1];return D.useEffect(function(){null!=n&&n.value||r(null)},[null==n?void 0:n.value]),D.createElement("span",{className:"wprf-json-uploader"},!t&&D.createElement("label",{className:"wprf-json-uploaderButton"},D.createElement("span",null,v.__("Upload")),D.createElement("input",{type:"file",accept:"application/JSON",onChange:function(e){var t;(t=e).target.files.length&&(0!=(null==(e=t.target.files[0])?void 0:e.size)?"application/json"==(null==e?void 0:e.type)||"text/json"==(null==e?void 0:e.type)?(r(e),(t=new FileReader).onload=function(e){var t=null==e||null===(t=e.target)||void 0===t?void 0:t.result;n.onChange({target:{type:"jsonuploader",name:n.name,value:t}})},t.readAsText(e)):n.context.alerts.toast("error",v.__("Invalid file type.","notificationx")):n.context.alerts.toast("error",v.__("File can't be empty.","notificationx")))}})),t&&(null==t?void 0:t.name)&&D.createElement("span",{className:"wpfr-json-file-name-wrapper"},D.createElement("span",{className:"wpfr-json-file-name"},20<(null==t?void 0:t.name.length)?"".concat(null==t?void 0:t.name.substr(0,9),"...").concat(null==t?void 0:t.name.substr((null==t?void 0:t.name.length)-7)):null==t?void 0:t.name),D.createElement("span",{className:"wprf-json-file-delete-button",onClick:function(){r(null),n.onChange({target:{type:"jsonuploader",name:n.name,value:null}})}},"x")))})),it=["name","fields"],ut=d(function(n){var r=n.name,e=n.fields,o=Ee(n,it);if(!e||!te(e)||0===e.length)throw new Error(v.__("You should give a #fields arguments to a group field.","notificationx"));var l=Oe(),a=D.useCallback(function(e){e.persist&&e.persist();var t=$(e),e=t.field,t=t.val;l.setFieldValue([r,e],t)},[n.value]),t=le(e);D.useEffect(function(){l.setFormField([].concat(L(n.parentIndex),["fields"]),t)},[]);var i=t.map(function(e,t){t=[].concat(L(n.parentIndex),["fields",t]);return D.createElement(Ge,ge({},o,{key:e.name,index:n.index,onChange:a},e,{parenttype:"group",parent:r,parentIndex:t}))}),e=S.default("wprf-group-control-inner",{"wprf-display-inline":"inline"===(null==n?void 0:n.display)});return D.createElement("div",{className:"wprf-group-control"},D.createElement("div",{className:e},i))}),st=d(function(o){var l=Oe(),e=o.id,t=o.name,n=o.multiple,r=o.placeholder,a=o.search,i=void 0!==a&&a,u=o.onChange,s=o.parentIndex,c=Se(o,"options"),d=c.options,f=c.selectedOption,p=c.setData,a=be(D.useState(null),2),v=a[0],m=a[1],c=be(D.useState(!1),2),a=c[0],h=c[1],c=be(D.useState(!1),2),g=c[0];c[1];function b(){var e;if(null!=o&&o.ajax&&pe(null==o||null===(e=o.ajax)||void 0===e?void 0:e.rules,l.values)){h(!0);var r={};if(Object.keys(null==o?void 0:o.ajax.data).map(function(e){var t,n;-1<(null==o?void 0:o.ajax.data[e].indexOf("@"))?(n=null==o?void 0:o.ajax.data[e].substr(1),r[e]=null===(t=l.values)||void 0===t?void 0:t[n]):r[e]=null==o?void 0:o.ajax.data[e]}),!g)return Z({path:null==o?void 0:o.ajax.api,data:r}).then(function(e){h(!1);var t=z(o.options,e,"value");return l.setFormField([].concat(L(s),["options"]),t),p({options:t,parentIndex:[].concat(L(s),["options"])}),e})}}return D.useEffect(function(){!te(v)&&ne(v)&&u({target:{type:"select",name:t,value:v.value,options:d,multiple:n}}),te(v)&&u({target:{type:"select",name:t,value:v.map(function(e){return e.value}),options:d,multiple:n}})},[v]),D.useEffect(function(){b()},[]),D.useEffect(function(){null!=o&&o.menuOpen&&b()},[null==o?void 0:o.menuOpen]),D.createElement("div",{className:"wprf-select-wrapper"},D.createElement(T.default,{isDisabled:null==o?void 0:o.disable,classNamePrefix:"wprf-select",isSearchable:null!=i&&i,id:e,name:t,isMulti:null!=n&&n,placeholder:r,isLoading:a,options:d,value:f,onMenuOpen:b,onMenuClose:function(){h(!1)},isOptionDisabled:function(e){return null==e?void 0:e.disabled},onChange:function(e){return m(e)}}))});const ct=new WeakMap;function dt(n,r,e){let o=2<arguments.length&&void 0!==e?e:"";return D.useMemo(()=>{if(o)return o;var e,t,t=(e=n,t=ct.get(e)||0,ct.set(e,t+1),t);return r?r+"-"+t:t},[n])}function ft(n){if(n.__esModule)return n;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return n[e]}})}),r}function pt(t){var e=Oe(),n=t.fields,r=t.onChange,o=t.index,l=t.parent,a=be(D.useState(t.isCollapsed),2),i=a[0],u=a[1],s=dt(pt),c=(c=(null==(c=null===(a=e.values)||void 0===a||null===(c=a[l])||void 0===c?void 0:c[o])?void 0:c.title)||(null==c?void 0:c.post_title)||(null==c?void 0:c.username)||(null==c?void 0:c.plugin_theme_name))?c.length<40?c:c.substr(0,40)+"...":"";return D.useEffect(function(){e.setFieldValue([l,o,"isCollapsed"],i)},[i]),D.createElement("div",{className:"wprf-repeater-field"},D.createElement("div",{className:"wprf-repeater-field-title",onClick:function(){return u(!i)}},D.createElement("h4",null,D.createElement(h.Icon,{icon:"move"}),t.index+1,": ",c),D.createElement("div",{className:"wprf-repeater-field-controls"},D.createElement(h.Icon,{onClick:function(e){null!=e&&e.stopPropagation(),t.clone(t.index)},icon:"admin-page"}),D.createElement(h.Icon,{onClick:function(e){null!=e&&e.stopPropagation(),t.remove(t.index)},icon:"trash"}))),!i&&D.createElement("div",{className:"wprf-repeater-inner-field"},n.map(function(e,t){return D.createElement(Ge,ge({key:"field-".concat(o,"-").concat(t)},e,{id:"field-".concat(s,"-").concat(o,"-").concat(t),index:o,parenttype:"repeater",parent:l,onChange:function(e){return r(e,o)}}))})))}function vt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ht(n){var e=n.isLoading;n.closeModal;var t=be(D.useState([]),2),r=t[0],o=t[1];return D.useEffect(function(){var e=le(n.body.fields).map(function(e,t){t=[].concat(L(n.parentIndex),["fields",t]);return D.createElement(We,ge({key:e.name},e,{parentIndex:t}))});o(e)},[]),D.createElement("div",{className:"wprf-modal-body"},e&&D.createElement(yt,null),!e&&D.createElement(D.Fragment,null,D.createElement("div",{className:"wprf-modal-content"},0<r.length&&r),D.createElement("div",{className:"wprf-modal-footer clearfix"},D.createElement("div",{className:"wprf-modal-footer-left"},(null===(r=n.body)||void 0===r?void 0:r.footer)&&Q(n.body.footer)&&D.createElement("p",null,n.body.footer),D.createElement(Ge,ge({type:"button"},null==n?void 0:n.confirm_button))))))}function gt(e){return e=e.content,D.createElement("div",{className:"wprf-modal-header"},e&&Q(e)&&D.createElement("h3",null,e))}var bt=d(function(t){var e,n,r=mt({type:"",label:{position:"right"},column:4},t.style),o=D.useMemo(function(){var e=!1;return null!=t&&t.checked&&ne(t.checked)&&Q(null==t?void 0:t.value)?e=t.checked[t.value]:Q(t.value)||(e=t.value),e},[null==t?void 0:t.checked,t.value]),l=S.default("wprf-toggle-wrap",(A(l={},"wprf-".concat(null==r?void 0:r.type),0<(null==r?void 0:r.type.length)),A(l,"wprf-checked",Boolean(o)),A(l,"wprf-label-position-".concat(null==r||null===(e=r.label)||void 0===e?void 0:e.position),null==r||null===(n=r.label)||void 0===n?void 0:n.position),l),null==t?void 0:t.classes);return D.createElement("div",{className:l},D.createElement(Ze,mt(mt({},t),{},{type:"checkbox",placeholder:void 0})),D.createElement(Re,{htmlFor:t.id}))}),yt=function(e){return D.createElement("p",null,v.__("Loading...","notificationx"))},Et={options:["inline","blockType","textAlign","colorPicker","link"],inline:{options:["bold","italic","underline","strikethrough","monospace"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"],className:void 0,component:void 0,dropdownClassName:void 0}};function wt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){a=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(a)throw o}}}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var _t=function(t){var e=t.options,r=t.value,n=t.multiple,o=t.style,l=le(e),a=xt({column:4},o);if(n){var n=be(D.useState({}),2),i=n[0],u=n[1],s=function(e){var t=e.target||e.currentTarget;u(function(e){return xt(xt({},e),{},A({},t.value,t.checked))})};return D.useEffect(function(){t.onChange({target:{type:"toggle",name:t.name,value:i}})},[i]),D.useEffect(function(){if(ne(r))u(r);else{var e,t={},n=wt(l);try{for(n.s();!(e=n.n()).done;)t[e.value.value]=r}catch(e){n.e(e)}finally{n.f()}u(t)}},[]),D.createElement("div",{className:"wprf-toggle-wrapper wprf-control"},D.createElement(Me,null,l.map(function(e){return D.createElement(Fe,{key:e.value,column:a.column},D.createElement(bt,xt(xt({},e),{},{context:null==t?void 0:t.context,id:e.value,checked:void 0===i[e.value]||(null!=i&&i[e.value]?r:!(null==i||!i[e.value])),type:"checkbox",onChange:s,style:a})))})))}return D.createElement(bt,t)},Ct=["label","value","icon","is_pro"];function Dt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var jt=d(function e(t){var i=Oe(),n=Se(t,"options"),r=n.options,u=n.option;if(!r)throw new Error(v.__("#options is a required arguments for RadioCard field.","notificationx"));var s=dt(e),n=S.default(["wprf-control","wprf-radio-card","wprf-input-radio-set-wrap",null==t?void 0:t.className]),c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},null==t?void 0:t.style),d=q(t,["options","placeholder","style","trigger"]);return D.useEffect(function(){u&&t.onChange({target:{type:"radio-card",name:t.name,value:u}})},[u]),D.createElement("div",{className:n},D.createElement(Me,null,r.map(function(e,t){var n=e.label,r=e.value,o=e.icon,l=e.is_pro,a=Ee(e,Ct);return D.createElement(Fe,{column:+(null==a?void 0:a.column)||4,key:t},D.createElement("div",{className:S.default("wprf-input-radio-option",{"wprf-option-has-image":null!=o&&o,"wprf-option-selected":r==u})},D.createElement(Re,{className:S.default(A({"wprf-label-has-image":null!=o&&o},"wprf-size-".concat(c.size),null!==(e=o&&(null==c?void 0:c.size))&&void 0!==e&&e)),htmlFor:"wprf-input-radio-".concat(s,"-").concat(t),src:o,badge:{label:l?"Pro":"Free",value:l,active:Boolean(i.is_pro_active)}},n),D.createElement(Ze,ge({},a,d,{is_pro:l,type:"radio",value:r,checked:r===u,id:"wprf-input-radio-".concat(s,"-").concat(t)}))))})))}),y=function(n){var t=Oe(),e=be(D.useState(null!==(l=n.collapsed)&&void 0!==l&&l),2),r=e[0],o=e[1],l=be(D.useState([]),2),e=l[0],a=l[1];D.useEffect(function(){var e=le(n.fields);t.setFormField([].concat(L(n.parentIndex),["fields"]),e);e=e.map(function(e,t){t=[].concat(L(n.parentIndex),["fields",t]);return D.createElement(We,ge({key:e.name},e,{parentIndex:t}))});a(e)},[]);l=S.default("wprf-control-section",null==n?void 0:n.classes,null==n?void 0:n.name,{"wprf-section-collapsed":(null==n?void 0:n.collapsible)&&r});return D.createElement("div",{id:null==n?void 0:n.name,className:l},n.placeholder&&D.createElement("div",{className:"wprf-section-title"},D.createElement("h4",null,n.placeholder),n.collapsible&&D.createElement("button",{onClick:function(){return o(!r)}},"Icon")),D.createElement("div",{className:"wprf-section-fields"},e))},Pt=O.default.memo(y),Tt={exports:{}};function It(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Nt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?It(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):It(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),l=0;l<o.length;l++)n=o[l],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),l=0;l<o.length;l++)n=o[l],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function Ft(e){return function(e){if(Array.isArray(e))return Rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Vt=Lt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Bt=Lt(/Edge/i),Ut=Lt(/firefox/i),Ht=Lt(/safari/i)&&!Lt(/chrome/i)&&!Lt(/android/i),E=Lt(/iP(ad|od|hone)/i),y=Lt(/chrome/i)&&Lt(/android/i),Xt={capture:!1,passive:!1};function $t(e,t,n){e.addEventListener(t,n,!Vt&&Xt)}function Yt(e,t,n){e.removeEventListener(t,n,!Vt&&Xt)}function qt(e,t){if(t&&(">"===t[0]&&(t=t.substring(1)),e))try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return}}function Gt(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"!==t[0]||e.parentNode===n)&&qt(e,t)||r&&e===n)return e}while(e!==n&&(e=(o=e).host&&o!==document&&o.host.nodeType?o.host:o.parentNode))}var o;return null}var Wt,zt=/\s+/g;function Kt(e,t,n){var r;e&&t&&(e.classList?e.classList[n?"add":"remove"](t):(r=(" "+e.className+" ").replace(zt," ").replace(" "+t+" "," "),e.className=(r+(n?" "+t:"")).replace(zt," ")))}function Jt(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];r[t=!(t in r||-1!==t.indexOf("webkit"))?"-webkit-"+t:t]=n+("string"==typeof n?"":"px")}}function Zt(e,t){var n="";if("string"==typeof e)n=e;else do{var r=Jt(e,"transform")}while(r&&"none"!==r&&(n=r+" "+n),!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Qt(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,l=r.length;if(n)for(;o<l;o++)n(r[o],o);return r}return[]}function en(){var e=document.scrollingElement;return e||document.documentElement}function tn(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var l,a,i,u,s,c,d=e!==window&&e.parentNode&&e!==en()?(a=(l=e.getBoundingClientRect()).top,i=l.left,u=l.bottom,s=l.right,c=l.height,l.width):(i=a=0,u=window.innerHeight,s=window.innerWidth,c=window.innerHeight,window.innerWidth);if((t||n)&&e!==window&&(o=o||e.parentNode,!Vt))do{if(o&&o.getBoundingClientRect&&("none"!==Jt(o,"transform")||n&&"static"!==Jt(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(Jt(o,"border-top-width")),i-=f.left+parseInt(Jt(o,"border-left-width")),u=a+l.height,s=i+l.width;break}}while(o=o.parentNode);return r&&e!==window&&(r=(t=Zt(o||e))&&t.a,e=t&&t.d,t&&(u=(a/=e)+(c/=e),s=(i/=r)+(d/=r))),{top:a,left:i,bottom:u,right:s,width:d,height:c}}}function nn(e,t,n){for(var r=un(e,!0),o=tn(e)[t];r;){var l=tn(r)[n];if(!("top"===n||"left"===n?l<=o:o<=l))return r;if(r===en())break;r=un(r,!1)}return!1}function rn(e,t,n,r){for(var o=0,l=0,a=e.children;l<a.length;){if("none"!==a[l].style.display&&a[l]!==vr.ghost&&(r||a[l]!==vr.dragged)&&Gt(a[l],n.draggable,e,!1)){if(o===t)return a[l];o++}l++}return null}function on(e,t){for(var n=e.lastElementChild;n&&(n===vr.ghost||"none"===Jt(n,"display")||t&&!qt(n,t));)n=n.previousElementSibling;return n||null}function ln(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===vr.clone||t&&!qt(e,t)||n++;return n}function an(e){var t=0,n=0,r=en();if(e)do{var o=Zt(e),l=o.a,o=o.d}while(t+=e.scrollLeft*l,n+=e.scrollTop*o,e!==r&&(e=e.parentNode));return[t,n]}function un(e,t){if(!e||!e.getBoundingClientRect)return en();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Jt(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return en();if(r||t)return n;r=!0}}}while(n=n.parentNode);return en()}function sn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function cn(t,n){return function(){var e;Wt||(1===(e=arguments).length?t.call(this,e[0]):t.apply(this,e),Wt=setTimeout(function(){Wt=void 0},n))}}function dn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function fn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function pn(e,t){Jt(e,"position","absolute"),Jt(e,"top",t.top),Jt(e,"left",t.left),Jt(e,"width",t.width),Jt(e,"height",t.height)}function vn(e){Jt(e,"position",""),Jt(e,"top",""),Jt(e,"left",""),Jt(e,"width",""),Jt(e,"height","")}var mn="Sortable"+(new Date).getTime();function hn(){var t,r=[];return{captureAnimationState:function(){r=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){var t,n;"none"!==Jt(e,"display")&&e!==vr.ghost&&(r.push({target:e,rect:tn(e)}),t=Nt({},r[r.length-1].rect),!e.thisAnimationDuration||(n=Zt(e,!0))&&(t.top-=n.f,t.left-=n.e),e.fromRect=t)})},addAnimationState:function(e){r.push(e)},removeAnimationState:function(e){r.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(r,{target:e}),1)},animateAll:function(e){var s=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof e&&e());var c=!1,d=0;r.forEach(function(e){var t=0,n=e.target,r=n.fromRect,o=tn(n),l=n.prevFromRect,a=n.prevToRect,i=e.rect,u=Zt(n,!0);u&&(o.top-=u.f,o.left-=u.e),n.toRect=o,n.thisAnimationDuration&&sn(l,o)&&!sn(r,o)&&(i.top-o.top)/(i.left-o.left)==(r.top-o.top)/(r.left-o.left)&&(e=i,u=l,l=a,a=s.options,t=Math.sqrt(Math.pow(u.top-e.top,2)+Math.pow(u.left-e.left,2))/Math.sqrt(Math.pow(u.top-l.top,2)+Math.pow(u.left-l.left,2))*a.animation),sn(o,r)||(n.prevFromRect=r,n.prevToRect=o,t=t||s.options.animation,s.animate(n,i,o,t)),t&&(c=!0,d=Math.max(d,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(t),c?t=setTimeout(function(){"function"==typeof e&&e()},d):"function"==typeof e&&e(),r=[]},animate:function(e,t,n,r){var o,l;r&&(Jt(e,"transition",""),Jt(e,"transform",""),o=(l=Zt(this.el))&&l.a,l=l&&l.d,o=(t.left-n.left)/(o||1),l=(t.top-n.top)/(l||1),e.animatingX=!!o,e.animatingY=!!l,Jt(e,"transform","translate3d("+o+"px,"+l+"px,0)"),this.forRepaintDummy=e.offsetWidth,Jt(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Jt(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){Jt(e,"transition",""),Jt(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r))}}}var gn=[],bn={initializeByDefault:!0},yn={mount:function(t){for(var e in bn)!bn.hasOwnProperty(e)||e in t||(t[e]=bn[e]);gn.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),gn.push(t)},pluginEvent:function(t,n,r){var e=this;this.eventCanceled=!1,r.cancel=function(){e.eventCanceled=!0};var o=t+"Global";gn.forEach(function(e){n[e.pluginName]&&(n[e.pluginName][o]&&n[e.pluginName][o](Nt({sortable:n},r)),n.options[e.pluginName]&&n[e.pluginName][t]&&n[e.pluginName][t](Nt({sortable:n},r)))})},initializePlugins:function(n,r,o,e){for(var t in gn.forEach(function(e){var t=e.pluginName;(n.options[t]||e.initializeByDefault)&&((e=new e(n,r,n.options)).sortable=n,e.options=n.options,n[t]=e,At(o,e.defaults))}),n.options){var l;n.options.hasOwnProperty(t)&&(void 0!==(l=this.modifyOption(n,t,n.options[t]))&&(n.options[t]=l))}},getEventProperties:function(t,n){var r={};return gn.forEach(function(e){"function"==typeof e.eventProperties&&At(r,e.eventProperties.call(n[e.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return gn.forEach(function(e){t[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[n]&&(o=e.optionListeners[n].call(t[e.pluginName],r))}),o}};function En(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,l=e.cloneEl,a=e.toEl,i=e.fromEl,u=e.oldIndex,s=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[mn]){var m,h=t.options,e="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||Vt||Bt?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=i||n,m.item=o||n,m.clone=l,m.oldIndex=u,m.newIndex=s,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var g,b=Nt(Nt({},v),yn.getEventProperties(r,t));for(g in b)m[g]=b[g];n&&n.dispatchEvent(m),h[e]&&h[e].call(t,m)}}function wn(e,t){var n=(r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,r=Mt(r,On);yn.pluginEvent.bind(vr)(e,t,Nt({dragEl:jn,parentEl:Pn,ghostEl:Tn,rootEl:In,nextEl:Nn,lastDownEl:kn,cloneEl:An,cloneHidden:Mn,dragStarted:Wn,putSortable:Un,activeSortable:vr.active,originalEvent:n,oldIndex:Fn,oldDraggableIndex:Ln,newIndex:Rn,newDraggableIndex:Vn,hideGhostForTarget:Cn,unhideGhostForTarget:Dn,cloneNowHidden:function(){Mn=!0},cloneNowShown:function(){Mn=!1},dispatchSortableEvent:function(e){Sn({sortable:t,name:e,originalEvent:n})}},r))}var On=["evt"];function Sn(e){En(Nt({putSortable:Un,cloneEl:An,targetEl:jn,rootEl:In,oldIndex:Fn,oldDraggableIndex:Ln,newIndex:Rn,newDraggableIndex:Vn},e))}function xn(e,t){var n=Jt(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=rn(e,0,t),l=rn(e,1,t),a=o&&Jt(o),i=l&&Jt(l),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+tn(o).width,e=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+tn(l).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){t="left"===a.float?"left":"right";return!l||"both"!==i.clear&&i.clear!==t?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||r<=u&&"none"===n[sr]||l&&"none"===n[sr]&&r<u+e)?"vertical":"horizontal"}function _n(e){function i(l,a){return function(e,t,n,r){var o=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;if(null==l&&(a||o))return!0;if(null==l||!1===l)return!1;if(a&&"clone"===l)return l;if("function"==typeof l)return i(l(e,t,n,r),a)(e,t,n,r);t=(a?e:t).options.group.name;return!0===l||"string"==typeof l&&l===t||l.join&&-1<l.indexOf(t)}}var t={},n=e.group;n&&"object"==kt(n)||(n={name:n}),t.name=n.name,t.checkPull=i(n.pull,!0),t.checkPut=i(n.put),t.revertClone=n.revertClone,e.group=t}function Cn(){!dr&&Tn&&Jt(Tn,"display","none")}function Dn(){!dr&&Tn&&Jt(Tn,"display","")}var jn,Pn,Tn,In,Nn,kn,An,Mn,Fn,Rn,Ln,Vn,Bn,Un,Hn,Xn,$n,Yn,qn,Gn,Wn,zn,Kn,Jn,Zn,Qn=!1,er=!1,tr=[],nr=!1,rr=!1,or=[],lr=!1,ar=[],ir="undefined"!=typeof document,ur=E,sr=Bt||Vt?"cssFloat":"float",cr=ir&&!y&&!E&&"draggable"in document.createElement("div"),dr=function(){if(ir){if(Vt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}();ir&&!y&&document.addEventListener("click",function(e){if(er)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),er=!1},!0);function fr(e){if(jn){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,l=e.clientY,tr.some(function(e){var t=e[mn].options.emptyInsertThreshold;if(t&&!on(e)){var n=tn(e),r=o>=n.left-t&&o<=n.right+t,t=l>=n.top-t&&l<=n.bottom+t;return r&&t?a=e:void 0}}),a);if(t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[mn]._onDragOver(r)}}var o,l,a}function pr(e){jn&&jn.parentNode[mn]._isOutsideThisEl(e.target)}function vr(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=At({},t),e[mn]=this;var n,r,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return xn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==vr.supportPointer&&"PointerEvent"in window&&!Ht,emptyInsertThreshold:5};for(n in yn.initializePlugins(this,e,o),o)n in t||(t[n]=o[n]);for(r in _n(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&cr,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?$t(e,"pointerdown",this._onTapStart):($t(e,"mousedown",this._onTapStart),$t(e,"touchstart",this._onTapStart)),this.nativeDraggable&&($t(e,"dragover",this),$t(e,"dragenter",this)),tr.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),At(this,hn())}function mr(e,t,n,r,o,l,a,i){var u,s,c=e[mn],d=c.options.onMove;return!window.CustomEvent||Vt||Bt?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=l||tn(t),u.willInsertAfter=i,u.originalEvent=a,e.dispatchEvent(u),s=d?d.call(c,u,a):s}function hr(e){e.draggable=!1}function gr(){lr=!1}function br(e){return setTimeout(e,0)}function yr(e){return clearTimeout(e)}vr.prototype={constructor:vr,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(zn=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,jn):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,e=this.options,o=e.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,i=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||i,s=e.filter;if(!function(e){ar.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&ar.push(r)}}(r),!jn&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||e.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!Ht||!i||"SELECT"!==i.tagName.toUpperCase())&&!((i=Gt(i,e.draggable,r,!1))&&i.animated||kn===i)){if(Fn=ln(i),Ln=ln(i,e.draggable),"function"==typeof s){if(s.call(this,t,i,this))return Sn({sortable:n,rootEl:u,name:"filter",targetEl:i,toEl:r,fromEl:r}),wn("filter",n,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(s=s&&s.split(",").some(function(e){if(e=Gt(u,e.trim(),r,!1))return Sn({sortable:n,rootEl:e,name:"filter",targetEl:i,fromEl:r,toEl:r}),wn("filter",n,{evt:t}),!0}))return void(o&&t.cancelable&&t.preventDefault());e.handle&&!Gt(u,e.handle,r,!1)||this._prepareDragStart(t,a,i)}}},_prepareDragStart:function(e,t,n){var r,o=this,l=o.el,a=o.options,i=l.ownerDocument;n&&!jn&&n.parentNode===l&&(r=tn(n),In=l,Pn=(jn=n).parentNode,Nn=jn.nextSibling,kn=n,Bn=a.group,Hn={target:vr.dragged=jn,clientX:(t||e).clientX,clientY:(t||e).clientY},qn=Hn.clientX-r.left,Gn=Hn.clientY-r.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,jn.style["will-change"]="all",r=function(){wn("delayEnded",o,{evt:e}),vr.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!Ut&&o.nativeDraggable&&(jn.draggable=!0),o._triggerDragStart(e,t),Sn({sortable:o,name:"choose",originalEvent:e}),Kt(jn,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){Qt(jn,e.trim(),hr)}),$t(i,"dragover",fr),$t(i,"mousemove",fr),$t(i,"touchmove",fr),$t(i,"mouseup",o._onDrop),$t(i,"touchend",o._onDrop),$t(i,"touchcancel",o._onDrop),Ut&&this.nativeDraggable&&(this.options.touchStartThreshold=4,jn.draggable=!0),wn("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Bt||Vt)?r():vr.eventCanceled?this._onDrop():($t(i,"mouseup",o._disableDelayedDrag),$t(i,"touchend",o._disableDelayedDrag),$t(i,"touchcancel",o._disableDelayedDrag),$t(i,"mousemove",o._delayedDragTouchMoveHandler),$t(i,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&$t(i,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)))},_delayedDragTouchMoveHandler:function(e){e=e.touches?e.touches[0]:e;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){jn&&hr(jn),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Yt(e,"mouseup",this._disableDelayedDrag),Yt(e,"touchend",this._disableDelayedDrag),Yt(e,"touchcancel",this._disableDelayedDrag),Yt(e,"mousemove",this._delayedDragTouchMoveHandler),Yt(e,"touchmove",this._delayedDragTouchMoveHandler),Yt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?$t(document,"pointermove",this._onTouchMove):$t(document,t?"touchmove":"mousemove",this._onTouchMove):($t(jn,"dragend",this),$t(In,"dragstart",this._onDragStart));try{document.selection?br(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){var n;Qn=!1,In&&jn?(wn("dragStarted",this,{evt:t}),this.nativeDraggable&&$t(document,"dragover",pr),n=this.options,e||Kt(jn,n.dragClass,!1),Kt(jn,n.ghostClass,!0),vr.active=this,e&&this._appendGhost(),Sn({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(Xn){this._lastX=Xn.clientX,this._lastY=Xn.clientY,Cn();for(var e=document.elementFromPoint(Xn.clientX,Xn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Xn.clientX,Xn.clientY))!==t;)t=e;if(jn.parentNode[mn]._isOutsideThisEl(e),t)do{if(t[mn])if(t[mn]._onDragOver({clientX:Xn.clientX,clientY:Xn.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}while(t=(e=t).parentNode);Dn()}},_onTouchMove:function(e){if(Hn){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,l=Tn&&Zt(Tn,!0),a=Tn&&l&&l.a,i=Tn&&l&&l.d,t=ur&&Zn&&an(Zn),a=(o.clientX-Hn.clientX+r.x)/(a||1)+(t?t[0]-or[0]:0)/(a||1),i=(o.clientY-Hn.clientY+r.y)/(i||1)+(t?t[1]-or[1]:0)/(i||1);if(!vr.active&&!Qn){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}Tn&&(l?(l.e+=a-($n||0),l.f+=i-(Yn||0)):l={a:1,b:0,c:0,d:1,e:a,f:i},l="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")"),Jt(Tn,"webkitTransform",l),Jt(Tn,"mozTransform",l),Jt(Tn,"msTransform",l),Jt(Tn,"transform",l),$n=a,Yn=i,Xn=o),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Tn){var e=this.options.fallbackOnBody?document.body:In,t=tn(jn,!0,ur,!0,e),n=this.options;if(ur){for(Zn=e;"static"===Jt(Zn,"position")&&"none"===Jt(Zn,"transform")&&Zn!==document;)Zn=Zn.parentNode;Zn!==document.body&&Zn!==document.documentElement?(Zn===document&&(Zn=en()),t.top+=Zn.scrollTop,t.left+=Zn.scrollLeft):Zn=en(),or=an(Zn)}Kt(Tn=jn.cloneNode(!0),n.ghostClass,!1),Kt(Tn,n.fallbackClass,!0),Kt(Tn,n.dragClass,!0),Jt(Tn,"transition",""),Jt(Tn,"transform",""),Jt(Tn,"box-sizing","border-box"),Jt(Tn,"margin",0),Jt(Tn,"top",t.top),Jt(Tn,"left",t.left),Jt(Tn,"width",t.width),Jt(Tn,"height",t.height),Jt(Tn,"opacity","0.8"),Jt(Tn,"position",ur?"absolute":"fixed"),Jt(Tn,"zIndex","100000"),Jt(Tn,"pointerEvents","none"),vr.ghost=Tn,e.appendChild(Tn),Jt(Tn,"transform-origin",qn/parseInt(Tn.style.width)*100+"% "+Gn/parseInt(Tn.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;wn("dragStart",this,{evt:e}),vr.eventCanceled?this._onDrop():(wn("setupClone",this),vr.eventCanceled||((An=fn(jn)).removeAttribute("id"),An.draggable=!1,An.style["will-change"]="",this._hideClone(),Kt(An,this.options.chosenClass,!1),vr.clone=An),n.cloneId=br(function(){wn("clone",n),vr.eventCanceled||(n.options.removeCloneOnHide||In.insertBefore(An,jn),n._hideClone(),Sn({sortable:n,name:"clone"}))}),t||Kt(jn,o.dragClass,!0),t?(er=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Yt(document,"mouseup",n._onDrop),Yt(document,"touchend",n._onDrop),Yt(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,jn)),$t(document,"drop",n),Jt(jn,"transform","translateZ(0)")),Qn=!0,n._dragStartId=br(n._dragStarted.bind(n,t,e)),$t(document,"selectstart",n),Wn=!0,Ht&&Jt(document.body,"user-select","none"))},_onDragOver:function(n){var r,o,l,e,a=this.el,i=n.target,t=this.options,u=t.group,s=vr.active,c=Bn===u,d=t.sort,f=Un||s,p=this,v=!1;if(!lr){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),i=Gt(i,t.draggable,a,!0),C("dragOver"),vr.eventCanceled)return v;if(jn.contains(n.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return j(!1);if(er=!1,s&&!t.disabled&&(c?d||(o=Pn!==In):Un===this||(this.lastPutMode=Bn.checkPull(this,s,jn,n))&&u.checkPut(this,s,jn,n))){if(l="vertical"===this._getDirection(n,i),r=tn(jn),C("dragOverValid"),vr.eventCanceled)return v;if(o)return Pn=In,D(),this._hideClone(),C("revert"),vr.eventCanceled||(Nn?In.insertBefore(jn,Nn):In.appendChild(jn)),j(!0);var m=on(a,t.draggable);if(!m||function(e,t,n){n=tn(on(n.el,n.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(n,l,this)&&!m.animated){if(m===jn)return j(!1);if((i=m&&a===n.target?m:i)&&(E=tn(i)),!1!==mr(In,a,jn,r,i,E,n,!!i))return D(),m&&m.nextSibling?a.insertBefore(jn,m.nextSibling):a.appendChild(jn),Pn=a,P(),j(!0)}else if(m&&function(e,t,n){n=tn(rn(n.el,0,n.options,!0));return t?e.clientX<n.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-10||e.clientY<n.bottom&&e.clientX<n.left}(n,l,this)){var h=rn(a,0,t,!0);if(h===jn)return j(!1);if(E=tn(i=h),!1!==mr(In,a,jn,r,i,E,n,!1))return D(),a.insertBefore(jn,h),Pn=a,P(),j(!0)}else if(i.parentNode===a){var g,b,y,E=tn(i),w=jn.parentNode!==a,O=(O=jn.animated&&jn.toRect||r,_=i.animated&&i.toRect||E,S=(e=l)?O.left:O.top,u=e?O.right:O.bottom,m=e?O.width:O.height,h=e?_.left:_.top,O=e?_.right:_.bottom,_=e?_.width:_.height,!(S===h||u===O||S+m/2===h+_/2)),S=l?"top":"left",m=nn(i,"top","top")||nn(jn,"top","top"),h=m?m.scrollTop:void 0;if(zn!==i&&(b=E[S],nr=!1,rr=!O&&t.invertSwap||w),0!==(g=function(e,t,n,r,o,l,a,i){var u=r?e.clientY:e.clientX,s=r?n.height:n.width,e=r?n.top:n.left,r=r?n.bottom:n.right,n=!1;if(!a)if(i&&Jn<s*o){if(nr=!nr&&(1===Kn?e+s*l/2<u:u<r-s*l/2)?!0:nr)n=!0;else if(1===Kn?u<e+Jn:r-Jn<u)return-Kn}else if(e+s*(1-o)/2<u&&u<r-s*(1-o)/2)return function(e){return ln(jn)<ln(e)?1:-1}(t);if((n=n||a)&&(u<e+s*l/2||r-s*l/2<u))return e+s/2<u?1:-1;return 0}(n,i,E,l,O?1:t.swapThreshold,null==t.invertedSwapThreshold?t.swapThreshold:t.invertedSwapThreshold,rr,zn===i)))for(var x=ln(jn);(y=Pn.children[x-=g])&&("none"===Jt(y,"display")||y===Tn););if(0===g||y===i)return j(!1);Kn=g;var _=(zn=i).nextElementSibling,w=!1,O=mr(In,a,jn,r,i,E,n,w=1===g);if(!1!==O)return 1!==O&&-1!==O||(w=1===O),lr=!0,setTimeout(gr,30),D(),w&&!_?a.appendChild(jn):i.parentNode.insertBefore(jn,w?_:i),m&&dn(m,0,h-m.scrollTop),Pn=jn.parentNode,void 0===b||rr||(Jn=Math.abs(b-tn(i)[S])),P(),j(!0)}if(a.contains(jn))return j(!1)}return!1}function C(e,t){wn(e,p,Nt({evt:n,isOwner:c,axis:l?"vertical":"horizontal",revert:o,dragRect:r,targetRect:E,canSort:d,fromSortable:f,target:i,completed:j,onMove:function(e,t){return mr(In,a,jn,r,e,tn(e),n,t)},changed:P},t))}function D(){C("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function j(e){return C("dragOverCompleted",{insertion:e}),e&&(c?s._hideClone():s._showClone(p),p!==f&&(Kt(jn,(Un||s).options.ghostClass,!1),Kt(jn,t.ghostClass,!0)),Un!==p&&p!==vr.active?Un=p:p===vr.active&&Un&&(Un=null),f===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){C("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===jn&&!jn.animated||i===a&&!i.animated)&&(zn=null),t.dragoverBubble||n.rootEl||i===document||(jn.parentNode[mn]._isOutsideThisEl(n.target),e||fr(n)),!t.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),v=!0}function P(){Rn=ln(jn),Vn=ln(jn,t.draggable),Sn({sortable:p,name:"change",toEl:a,newIndex:Rn,newDraggableIndex:Vn,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Yt(document,"mousemove",this._onTouchMove),Yt(document,"touchmove",this._onTouchMove),Yt(document,"pointermove",this._onTouchMove),Yt(document,"dragover",fr),Yt(document,"mousemove",fr),Yt(document,"touchmove",fr)},_offUpEvents:function(){var e=this.el.ownerDocument;Yt(e,"mouseup",this._onDrop),Yt(e,"touchend",this._onDrop),Yt(e,"pointerup",this._onDrop),Yt(e,"touchcancel",this._onDrop),Yt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Rn=ln(jn),Vn=ln(jn,n.draggable),wn("drop",this,{evt:e}),Pn=jn&&jn.parentNode,Rn=ln(jn),Vn=ln(jn,n.draggable),vr.eventCanceled||(nr=rr=Qn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yr(this.cloneId),yr(this._dragStartId),this.nativeDraggable&&(Yt(document,"drop",this),Yt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ht&&Jt(document.body,"user-select",""),Jt(jn,"transform",""),e&&(Wn&&(e.cancelable&&e.preventDefault(),n.dropBubble||e.stopPropagation()),Tn&&Tn.parentNode&&Tn.parentNode.removeChild(Tn),(In===Pn||Un&&"clone"!==Un.lastPutMode)&&An&&An.parentNode&&An.parentNode.removeChild(An),jn&&(this.nativeDraggable&&Yt(jn,"dragend",this),hr(jn),jn.style["will-change"]="",Wn&&!Qn&&Kt(jn,(Un||this).options.ghostClass,!1),Kt(jn,this.options.chosenClass,!1),Sn({sortable:this,name:"unchoose",toEl:Pn,newIndex:null,newDraggableIndex:null,originalEvent:e}),In!==Pn?(0<=Rn&&(Sn({rootEl:Pn,name:"add",toEl:Pn,fromEl:In,originalEvent:e}),Sn({sortable:this,name:"remove",toEl:Pn,originalEvent:e}),Sn({rootEl:Pn,name:"sort",toEl:Pn,fromEl:In,originalEvent:e}),Sn({sortable:this,name:"sort",toEl:Pn,originalEvent:e})),Un&&Un.save()):Rn!==Fn&&0<=Rn&&(Sn({sortable:this,name:"update",toEl:Pn,originalEvent:e}),Sn({sortable:this,name:"sort",toEl:Pn,originalEvent:e})),vr.active&&(null!=Rn&&-1!==Rn||(Rn=Fn,Vn=Ln),Sn({sortable:this,name:"end",toEl:Pn,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){wn("nulling",this),In=jn=Pn=Tn=Nn=An=kn=Mn=Hn=Xn=Wn=Rn=Vn=Fn=Ln=zn=Kn=Un=Bn=vr.dragged=vr.ghost=vr.clone=vr.active=null,ar.forEach(function(e){e.checked=!0}),ar.length=$n=Yn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":jn&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,l=this.options;r<o;r++)Gt(e=n[r],l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||function(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;for(;n--;)r+=t.charCodeAt(n);return r.toString(36)}(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){t=r.children[t];Gt(t,this.options.draggable,r,!1)&&(n[e]=t)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Gt(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=yn.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&_n(n)},destroy:function(){wn("destroy",this);var e=this.el;e[mn]=null,Yt(e,"mousedown",this._onTapStart),Yt(e,"touchstart",this._onTapStart),Yt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Yt(e,"dragover",this),Yt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),tr.splice(tr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){Mn||(wn("hideClone",this),vr.eventCanceled||(Jt(An,"display","none"),this.options.removeCloneOnHide&&An.parentNode&&An.parentNode.removeChild(An),Mn=!0))},_showClone:function(e){"clone"===e.lastPutMode?Mn&&(wn("showClone",this),vr.eventCanceled||(jn.parentNode!=In||this.options.group.revertClone?Nn?In.insertBefore(An,Nn):In.appendChild(An):In.insertBefore(An,jn),this.options.group.revertClone&&this.animate(jn,An),Jt(An,"display",""),Mn=!1)):this._hideClone()}},ir&&$t(document,"touchmove",function(e){(vr.active||Qn)&&e.cancelable&&e.preventDefault()}),vr.utils={on:$t,off:Yt,css:Jt,find:Qt,is:function(e,t){return!!Gt(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:cn,closest:Gt,toggleClass:Kt,clone:fn,index:ln,nextTick:br,cancelNextTick:yr,detectDirection:xn,getChild:rn},vr.get=function(e){return e[mn]},vr.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(t=t[0].constructor===Array?t[0]:t).forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(vr.utils=Nt(Nt({},vr.utils),e.utils)),yn.mount(e)})},vr.create=function(e,t){return new vr(e,t)};var Er,wr,Or,Sr,xr,_r,Cr=[],Dr=!(vr.version="1.15.0");function jr(){Cr.forEach(function(e){clearInterval(e.pid)}),Cr=[]}function Pr(){clearInterval(_r)}var Tr,Ir=cn(function(n,e,t,r){if(e.scroll){var o,l=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,i=e.scrollSensitivity,u=e.scrollSpeed,s=en(),c=!1;wr!==t&&(wr=t,jr(),Er=e.scroll,o=e.scrollFn,!0===Er&&(Er=un(t,!0)));var d=0,f=Er;do{var p=f,v=tn(p),m=v.top,h=v.bottom,g=v.left,b=v.right,y=v.width,E=v.height,w=void 0,O=void 0,S=p.scrollWidth,x=p.scrollHeight,_=Jt(p),C=p.scrollLeft,v=p.scrollTop,O=p===s?(w=y<S&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),E<x&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(w=y<S&&("auto"===_.overflowX||"scroll"===_.overflowX),E<x&&("auto"===_.overflowY||"scroll"===_.overflowY)),C=w&&(Math.abs(b-l)<=i&&C+y<S)-(Math.abs(g-l)<=i&&!!C),v=O&&(Math.abs(h-a)<=i&&v+E<x)-(Math.abs(m-a)<=i&&!!v);if(!Cr[d])for(var D=0;D<=d;D++)Cr[D]||(Cr[D]={});Cr[d].vx==C&&Cr[d].vy==v&&Cr[d].el===p||(Cr[d].el=p,Cr[d].vx=C,Cr[d].vy=v,clearInterval(Cr[d].pid),0==C&&0==v||(c=!0,Cr[d].pid=setInterval(function(){r&&0===this.layer&&vr.active._onTouchMove(xr);var e=Cr[this.layer].vy?Cr[this.layer].vy*u:0,t=Cr[this.layer].vx?Cr[this.layer].vx*u:0;"function"==typeof o&&"continue"!==o.call(vr.dragged.parentNode[mn],t,e,n,xr,Cr[this.layer].el)||dn(Cr[this.layer].el,t,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==s&&(f=un(f,!1)));Dr=c}},30),y=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,l=e.dispatchSortableEvent,a=e.hideGhostForTarget,e=e.unhideGhostForTarget;t&&(o=n||o,a(),t=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t=document.elementFromPoint(t.clientX,t.clientY),e(),o&&!o.el.contains(t)&&(l("spill"),this.onSpill({dragEl:r,putSortable:n})))};function Nr(){}function kr(){}Nr.prototype={startIndex:null,dragStart:function(e){e=e.oldDraggableIndex;this.startIndex=e},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();e=rn(this.sortable.el,this.startIndex,this.options);e?this.sortable.el.insertBefore(t,e):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:y},At(Nr,{pluginName:"revertOnSpill"}),kr.prototype={onSpill:function(e){var t=e.dragEl,e=e.putSortable||this.sortable;e.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),e.animateAll()},drop:y},At(kr,{pluginName:"removeOnSpill"});var Ar,Mr,Fr,Rr,Lr,Vr=[],Br=[],Ur=!1,Hr=!1,Xr=!1;function $r(n,r){Br.forEach(function(e,t){t=r.children[e.sortableIndex+(n?Number(t):0)];t?r.insertBefore(e,t):r.appendChild(e)})}function Yr(){Vr.forEach(function(e){e!==Fr&&e.parentNode&&e.parentNode.removeChild(e)})}vr.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){e=e.originalEvent;this.sortable.nativeDraggable?$t(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$t(document,"pointermove",this._handleFallbackAutoScroll):e.touches?$t(document,"touchmove",this._handleFallbackAutoScroll):$t(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){e=e.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?Yt(document,"dragover",this._handleAutoScroll):(Yt(document,"pointermove",this._handleFallbackAutoScroll),Yt(document,"touchmove",this._handleFallbackAutoScroll),Yt(document,"mousemove",this._handleFallbackAutoScroll)),Pr(),jr(),clearTimeout(Wt),Wt=void 0},nulling:function(){xr=wr=Er=Dr=_r=Or=Sr=null,Cr.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(t,n){var r,o=this,l=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,e=document.elementFromPoint(l,a);xr=t,n||this.options.forceAutoScrollFallback||Bt||Vt||Ht?(Ir(t,this.options,e,n),r=un(e,!0),!Dr||_r&&l===Or&&a===Sr||(_r&&Pr(),_r=setInterval(function(){var e=un(document.elementFromPoint(l,a),!0);e!==r&&(r=e,jr()),Ir(t,o.options,e,n)},10),Or=l,Sr=a)):this.options.bubbleScroll&&un(e,!0)!==en()?Ir(t,this.options,un(e,!1),!1):jr()}},At(e,{pluginName:"scroll",initializeByDefault:!0})}),vr.mount(kr,Nr);var qr=ft(Object.freeze({__proto__:null,default:vr,MultiDrag:function(){function e(r){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));r.options.avoidImplicitDeselect||(r.options.supportPointer?$t(document,"pointerup",this._deselectMultiDrag):($t(document,"mouseup",this._deselectMultiDrag),$t(document,"touchend",this._deselectMultiDrag))),$t(document,"keydown",this._checkKeyDown),$t(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(e,t){var n="";Vr.length&&Mr===r?Vr.forEach(function(e,t){n+=(t?", ":"")+e.textContent}):n=t.textContent,e.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){e=e.dragEl;Fr=e},delayEnded:function(){this.isMultiDrag=~Vr.indexOf(Fr)},setupClone:function(e){var t=e.sortable,e=e.cancel;if(this.isMultiDrag){for(var n=0;n<Vr.length;n++)Br.push(fn(Vr[n])),Br[n].sortableIndex=Vr[n].sortableIndex,Br[n].draggable=!1,Br[n].style["will-change"]="",Kt(Br[n],this.options.selectedClass,!1),Vr[n]===Fr&&Kt(Br[n],this.options.chosenClass,!1);t._hideClone(),e()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,e=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Vr.length&&Mr===t&&($r(!0,n),r("clone"),e()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,e=e.cancel;this.isMultiDrag&&($r(!1,n),Br.forEach(function(e){Jt(e,"display","")}),t(),Lr=!1,e())},hideClone:function(e){var t=this;e.sortable;var n=e.cloneNowHidden,e=e.cancel;this.isMultiDrag&&(Br.forEach(function(e){Jt(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),n(),Lr=!0,e())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&Mr&&Mr.multiDrag._deselectMultiDrag(),Vr.forEach(function(e){e.sortableIndex=ln(e)}),Vr=Vr.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),Xr=!0},dragStarted:function(e){var t,n=this,e=e.sortable;this.isMultiDrag&&(this.options.sort&&(e.captureAnimationState(),this.options.animation&&(Vr.forEach(function(e){e!==Fr&&Jt(e,"position","absolute")}),t=tn(Fr,!1,!0,!0),Vr.forEach(function(e){e!==Fr&&pn(e,t)}),Ur=Hr=!0)),e.animateAll(function(){Ur=Hr=!1,n.options.animation&&Vr.forEach(function(e){vn(e)}),n.options.sort&&Yr()}))},dragOver:function(e){var t=e.target,n=e.completed,e=e.cancel;Hr&&~Vr.indexOf(t)&&(n(!1),e())},revert:function(e){var n,r,t=e.fromSortable,o=e.rootEl,l=e.sortable,a=e.dragRect;1<Vr.length&&(Vr.forEach(function(e){l.addAnimationState({target:e,rect:Hr?tn(e):a}),vn(e),e.fromRect=a,t.removeAnimationState(e)}),Hr=!1,n=!this.options.removeCloneOnHide,r=o,Vr.forEach(function(e,t){t=r.children[e.sortableIndex+(n?Number(t):0)];t?r.insertBefore(e,t):r.appendChild(e)}))},dragOverCompleted:function(e){var t,n=e.sortable,r=e.isOwner,o=e.insertion,l=e.activeSortable,a=e.parentEl,i=e.putSortable,e=this.options;o&&(r&&l._hideClone(),Ur=!1,e.animation&&1<Vr.length&&(Hr||!r&&!l.options.sort&&!i)&&(t=tn(Fr,!1,!0,!0),Vr.forEach(function(e){e!==Fr&&(pn(e,t),a.appendChild(e))}),Hr=!0),r||(Hr||Yr(),1<Vr.length?(r=Lr,l._showClone(n),l.options.animation&&!Lr&&r&&Br.forEach(function(e){l.addAnimationState({target:e,rect:Rr}),e.fromRect=Rr,e.thisAnimationDuration=null})):l._showClone(n)))},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,e=e.activeSortable;Vr.forEach(function(e){e.thisAnimationDuration=null}),e.options.animation&&!n&&e.multiDrag.isMultiDrag&&(Rr=At({},t),t=Zt(Fr,!0),Rr.top-=t.f,Rr.left-=t.e)},dragOverAnimationComplete:function(){Hr&&(Hr=!1,Yr())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,l=e.dispatchSortableEvent,a=e.oldIndex,i=e.putSortable,u=i||this.sortable;if(t){var s,c,d,f=this.options,p=r.children;if(!Xr)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Kt(Fr,f.selectedClass,!~Vr.indexOf(Fr)),~Vr.indexOf(Fr))Vr.splice(Vr.indexOf(Fr),1),Ar=null,En({sortable:o,rootEl:n,name:"deselect",targetEl:Fr,originalEvent:t});else{if(Vr.push(Fr),En({sortable:o,rootEl:n,name:"select",targetEl:Fr,originalEvent:t}),t.shiftKey&&Ar&&o.el.contains(Ar)){var v=ln(Ar),e=ln(Fr);if(~v&&~e&&v!==e)for(var m,h=v<e?(m=v,e):(m=e,v+1);m<h;m++)~Vr.indexOf(p[m])||(Kt(p[m],f.selectedClass,!0),Vr.push(p[m]),En({sortable:o,rootEl:n,name:"select",targetEl:p[m],originalEvent:t}))}else Ar=Fr;Mr=u}Xr&&this.isMultiDrag&&(Hr=!1,(r[mn].options.sort||r!==n)&&1<Vr.length&&(s=tn(Fr),c=ln(Fr,":not(."+this.options.selectedClass+")"),!Ur&&f.animation&&(Fr.thisAnimationDuration=null),u.captureAnimationState(),Ur||(f.animation&&(Fr.fromRect=s,Vr.forEach(function(e){var t;e.thisAnimationDuration=null,e!==Fr&&(t=Hr?tn(e):s,e.fromRect=t,u.addAnimationState({target:e,rect:t}))})),Yr(),Vr.forEach(function(e){p[c]?r.insertBefore(e,p[c]):r.appendChild(e),c++}),a===ln(Fr)&&(d=!1,Vr.forEach(function(e){e.sortableIndex!==ln(e)&&(d=!0)}),d&&l("update"))),Vr.forEach(function(e){vn(e)}),u.animateAll()),Mr=u),(n===r||i&&"clone"!==i.lastPutMode)&&Br.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=Xr=!1,Br.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Yt(document,"pointerup",this._deselectMultiDrag),Yt(document,"mouseup",this._deselectMultiDrag),Yt(document,"touchend",this._deselectMultiDrag),Yt(document,"keydown",this._checkKeyDown),Yt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==Xr&&Xr||Mr!==this.sortable||e&&Gt(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;Vr.length;){var t=Vr[0];Kt(t,this.options.selectedClass,!1),Vr.shift(),En({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},At(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[mn];t&&t.options.multiDrag&&!~Vr.indexOf(e)&&(Mr&&Mr!==t&&(Mr.multiDrag._deselectMultiDrag(),Mr=t),Kt(e,t.options.selectedClass,!0),Vr.push(e))},deselect:function(e){var t=e.parentNode[mn],n=Vr.indexOf(e);t&&t.options.multiDrag&&~n&&(Kt(e,t.options.selectedClass,!1),Vr.splice(n,1))}},eventProperties:function(){var n=this,r=[],o=[];return Vr.forEach(function(e){var t;r.push({multiDragElement:e,index:e.sortableIndex}),t=Hr&&e!==Fr?-1:Hr?ln(e,":not(."+n.options.selectedClass+")"):ln(e),o.push({multiDragElement:e,index:t})}),{items:Ft(Vr),clones:[].concat(Br),oldIndicies:r,newIndicies:o}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":1<e.length&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})},Sortable:vr,Swap:function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){e=e.dragEl;Tr=e},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,l=e.changed,a=e.cancel;o.options.swap&&(e=this.sortable.el,o=this.options,n&&n!==e&&(e=Tr,Tr=!1!==r(n)?(Kt(n,o.swapClass,!0),n):null,e&&e!==Tr&&Kt(e,o.swapClass,!1)),l(),t(!0),a())},drop:function(e){var t,n,r=e.activeSortable,o=e.putSortable,l=e.dragEl,a=o||this.sortable,i=this.options;Tr&&Kt(Tr,i.swapClass,!1),Tr&&(i.swap||o&&o.options.swap)&&l!==Tr&&(a.captureAnimationState(),a!==r&&r.captureAnimationState(),n=Tr,e=(t=l).parentNode,i=n.parentNode,e&&i&&!e.isEqualNode(n)&&!i.isEqualNode(t)&&(o=ln(t),l=ln(n),e.isEqualNode(i)&&o<l&&l++,e.insertBefore(n,e.children[o]),i.insertBefore(t,i.children[l])),a.animateAll(),a!==r&&r.animateAll())},nulling:function(){Tr=null}},At(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Tr}}})}})),Gr="production"===process.env.NODE_ENV,Wr="Invariant failed";var zr,Kr=ft(Object.freeze({__proto__:null,default:function(e,t){if(!e){if(Gr)throw new Error(Wr);t="function"==typeof t?t():t;throw new Error(t?Wr+": "+t:Wr)}}}));!function(e){var t=qr,s=S.default,c=O.default,a=Kr;function d(e){return e&&e.__esModule?e.default:e}function n(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function r(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function i(e){e.forEach(e=>r(e.element))}function u(e){e.forEach(e=>{var t,n;t=e.parentElement,n=e.element,e=e.oldIndex,e=t.children[e]||null,t.insertBefore(n,e)})}function f(n,e){var t=v(n);const r={parentElement:n.from};let o=[];switch(t){case"normal":var l={element:n.item,newIndex:n.newIndex,oldIndex:n.oldIndex,parentElement:n.from};o=[l];break;case"swap":var a={element:n.item,oldIndex:n.oldIndex,newIndex:n.newIndex,...r},l={element:n.swapItem,oldIndex:n.newIndex,newIndex:n.oldIndex,...r};o=[a,l];break;case"multidrag":o=n.oldIndicies.map((e,t)=>({element:e.multiDragElement,oldIndex:e.index,newIndex:n.newIndicies[t].index,...r}))}return function(e,t){e=e.map(e=>({...e,item:t[e.oldIndex]})).sort((e,t)=>e.oldIndex-t.oldIndex);return e}(o,e)}function p(e,t){const n=[...t];return e.concat().reverse().forEach(e=>n.splice(e.oldIndex,1)),n}function l(e,t,n,r){const o=[...t];return e.forEach(e=>{var t=r&&n&&r(e.item,n);o.splice(e.newIndex,0,t||e.item)}),o}function v(e){return e.oldIndicies&&0<e.oldIndicies.length?"multidrag":e.swapItem?"swap":"normal"}n(e.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),n(e.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),n(e.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),n(e.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),n(e.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),n(e.exports,"Options",()=>$882b6d93070905b3$re_export$Options),n(e.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),n(e.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),n(e.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),n(e.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),n(e.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),n(e.exports,"ReactSortable",()=>o);const m={dragging:null};class o extends c.Component{static defaultProps={clone:e=>e};constructor(e){super(e),this.ref=(0,c.createRef)();var t=[...e.list].map(e=>Object.assign(e,{chosen:!1,selected:!1}));e.setList(t,this.sortable,m),d(a)(!e.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){var e;null!==this.ref.current&&(e=this.makeOptions(),d(t).create(this.ref.current,e))}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){var{tag:e,style:t,className:n,id:r}=this.props;return(0,c.createElement)(e&&null!==e?e:"div",{ref:this.ref,...{style:t,className:n,id:r}},this.getChildren())}getChildren(){const{children:e,dataIdAttr:t,selectedClass:o="sortable-selected",chosenClass:l="sortable-chosen",filter:a="sortable-filter",list:i}=this.props;if(!e||null==e)return null;const u=t||"data-id";return c.Children.map(e,(e,t)=>{if(void 0!==e){var n=i[t]||{},r=e.props["className"],t="string"==typeof a&&{[a.replace(".","")]:!!n.filtered},t=d(s)(r,{[o]:n.selected,[l]:n.chosen,...t});return(0,c.cloneElement)(e,{[u]:e.key,className:t})}})}get sortable(){var e=this.ref.current;if(null===e)return null;var t=Object.keys(e).find(e=>e.includes("Sortable"));return t?e[t]:null}makeOptions(){const t=function(e){const{list:t,setList:n,children:r,tag:o,style:l,className:a,clone:i,onAdd:u,onChange:s,onChoose:c,onClone:d,onEnd:f,onFilter:p,onRemove:v,onSort:m,onStart:h,onUnchoose:g,onUpdate:b,onMove:y,onSpill:E,onSelect:w,onDeselect:O,...S}=e;return S}(this.props);["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach(e=>t[e]=this.prepareOnHandlerPropAndDOM(e)),["onChange","onClone","onFilter","onSort"].forEach(e=>t[e]=this.prepareOnHandlerProp(e));return{...t,onMove:(e,t)=>{const n=this.props["onMove"];var r=e.willInsertAfter||-1;if(!n)return r;t=n(e,t,this.sortable,m);return void 0!==t&&t}}}prepareOnHandlerPropAndDOM(t){return e=>{this.callOnHandlerProp(e,t),this[t](e)}}prepareOnHandlerProp(t){return e=>{this.callOnHandlerProp(e,t)}}callOnHandlerProp(e,t){const n=this.props[t];n&&n(e,this.sortable,m)}onAdd(e){const{list:t,setList:n,clone:r}=this.props;var o=f(e,[...m.dragging.props.list]);i(o);e=l(o,t,e,r).map(e=>Object.assign(e,{selected:!1}));n(e,this.sortable,m)}onRemove(n){const{list:e,setList:t}=this.props;var r=v(n);const o=f(n,e);u(o);let l=[...e];if("clone"!==n.pullMode)l=p(o,l);else{let e=o;switch(r){case"multidrag":e=o.map((e,t)=>({...e,element:n.clones[t]}));break;case"normal":e=o.map(e=>({...e,element:n.clone}));break;default:d(a)(!0,`mode "${r}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${r}" plugin`)}i(e),o.forEach(e=>{var t=e.oldIndex,e=this.props.clone(e.item,n);l.splice(t,1,e)})}l=l.map(e=>Object.assign(e,{selected:!1})),t(l,this.sortable,m)}onUpdate(e){const{list:t,setList:n}=this.props;e=f(e,t);i(e),u(e);e=l(e,p(e,t));return n(e,this.sortable,m)}onStart(){m.dragging=this}onEnd(){m.dragging=null}onChoose(r){const{list:e,setList:t}=this.props;var n=e.map((e,t)=>{let n=e;return t===r.oldIndex&&(n=Object.assign(e,{chosen:!0})),n});t(n,this.sortable,m)}onUnchoose(r){const{list:e,setList:t}=this.props;var n=e.map((e,t)=>{let n=e;return t===r.oldIndex&&(n=Object.assign(n,{chosen:!1})),n});t(n,this.sortable,m)}onSpill(e){var{removeOnSpill:t,revertOnSpill:n}=this.props;t&&!n&&r(e.item)}onSelect(n){const{list:e,setList:t}=this.props,r=e.map(e=>Object.assign(e,{selected:!1}));n.newIndicies.forEach(e=>{var t=e.index;if(-1===t)return console.log(`"${n.type}" had indice of "${e.index}", which is probably -1 and doesn't usually happen here.`),void console.log(n);r[t].selected=!0}),t(r,this.sortable,m)}onDeselect(e){const{list:t,setList:n}=this.props,r=t.map(e=>Object.assign(e,{selected:!1}));e.newIndicies.forEach(e=>{e=e.index;-1!==e&&(r[e].selected=!0)}),n(r,this.sortable,m)}}var h,g;h=e.exports,g={},Object.keys(g).forEach(function(e){"default"===e||"__esModule"===e||h.hasOwnProperty(e)||Object.defineProperty(h,e,{enumerable:!0,get:function(){return g[e]}})})}(Tt);var Jr=new Uint8Array(16);var Zr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Qr=[],eo=0;eo<256;++eo)Qr.push((eo+256).toString(16).substr(1));function to(e,t){t=1<arguments.length&&void 0!==t?t:0,e=(Qr[e[t+0]]+Qr[e[t+1]]+Qr[e[t+2]]+Qr[e[t+3]]+"-"+Qr[e[t+4]]+Qr[e[t+5]]+"-"+Qr[e[t+6]]+Qr[e[t+7]]+"-"+Qr[e[t+8]]+Qr[e[t+9]]+"-"+Qr[e[t+10]]+Qr[e[t+11]]+Qr[e[t+12]]+Qr[e[t+13]]+Qr[e[t+14]]+Qr[e[t+15]]).toLowerCase();if("string"!=typeof(t=e)||!Zr.test(t))throw TypeError("Stringified UUID is invalid");return e}function no(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(!zr&&!(zr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zr(Jr)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return to(r)}function ro(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function oo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ro(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function lo(e){var t=e.fields,r=e.parentIndex,n=e.context,o=(a=be(D.useState([]),2))[0],l=a[1],a=(e=be(D.useState([]),2))[0],i=e[1];return D.useEffect(function(){var e=le(t);n.setFormField([r,"fields"],e),l(e)},[]),D.useEffect(function(){var e;te(o)&&0<o.length&&(e=o.map(function(e,t){var n=[r,"fields",t];return"section"===e.type?D.createElement(Ge,ge({key:"input-".concat(e.name,"-").concat(t)},e,{parentIndex:n})):D.createElement(We,ge({key:"input-".concat(e.name,"-").concat(t)},e,{parentIndex:n}))}),i(e))},[o]),D.createElement(D.Fragment,null,a)}function ao(e){var t=ge({},e),n=Oe(),e=(null==t?void 0:t.label)||v.__("Save Changes","notificationx"),t=D.useCallback(function(e){var t;null!==(t=n.submit)&&void 0!==t&&t.onSubmit&&n.submit.onSubmit(e,n)},[n]);return D.createElement("div",{className:"wprf-submit wprf-control"},D.createElement(h.Button,{className:"wprf-submit-button",onClick:t},e))}function io(e){var t=Oe(),n=be(D.useState(e.config.active),2),r=n[0],o=n[1];return D.useEffect(function(){o(t.config.active)},[t.config.active]),D.useEffect(function(){t.setActiveTab(r)},[r]),D.createElement(D.Fragment,null,D.createElement(ye,{active:r,setActive:function(e){return o(e)},tabs:t.tabs,config:e.config,context:t}),D.createElement(Eo,ge({},e,{tabs:t.tabs,active:r,submit:null==e?void 0:e.submit,config:e.config})))}var uo=function(e){var r=e.name;e.value;var t=e.button,n=e.fields,o=Oe(),e=be(D.useState(null===(e=o.values)||void 0===e?void 0:e[r]),2),l=e[0],a=e[1];D.useEffect(function(){var e;null!=(null===(e=o.values)||void 0===e?void 0:e[r])&&a(null===(e=o.values)||void 0===e?void 0:e[r])},[null===(e=o.values)||void 0===e?void 0:e[r]]);var i=D.useCallback(function(e){var t=L(l);t.splice(e,1),o.setFieldValue(r,t)},[l]),u=D.useCallback(function(e){var t=L(l);0<t.length&&(null!==(e=null!==(e=null!==(e=null!==(e=(null==t?void 0:t[e])||{})&&void 0!==e&&e.title?oo(oo({},e),{},{title:e.title+" - Copy"}):e)&&void 0!==e&&e.post_title?oo(oo({},e),{},{post_title:e.post_title+" - Copy"}):e)&&void 0!==e&&e.username?oo(oo({},e),{},{username:e.username+" - Copy"}):e)&&void 0!==e&&e.plugin_theme_name&&(e=oo(oo({},e),{},{plugin_theme_name:e.plugin_theme_name+" - Copy"})),e=oo(oo({},e),{},{index:no(),isCollapsed:!1}),o.setFieldValue([r,l.length],e))},[l]);return D.useEffect(function(){a(null==l?[{index:no()}]:function(e){return e.map(function(e){return oo(oo({},e),{},{index:no()})})})},[]),D.createElement("div",{className:"wprf-repeater-control"},l&&0<(null==l?void 0:l.length)&&D.createElement(Tt.exports.ReactSortable,{className:"wprf-repeater-content",list:l,setList:function(e){o.setFieldValue(r,e)},handle:".wprf-repeater-field-title",filter:".wprf-repeater-field-controls",forceFallback:!0},l.map(function(e,t){return D.createElement(pt,{isCollapsed:null==e?void 0:e.isCollapsed,key:(null==e?void 0:e.index)||t,fields:n,index:t,parent:r,clone:u,remove:i,onChange:function(e){return function(e,t){e.persist&&e.persist();var n=$(e),e=n.field,n=n.val;o.setFieldValue([r,t,e],n)}(e,t)}})})),D.createElement("div",{className:"wprf-repeater-label"},D.createElement("button",{className:"wprf-repeater-button",onClick:function(){return o.setFieldValue(r,[].concat(L(l),[{index:no()}]))}},null==t?void 0:t.label)))},so=function(t){var n=t.name,e=t.id,r=t.label,o=t.units,l=t.value,a=t.min,i=t.max,u=t.unit;t.tooltip;var s=t.reset,l=be(D.useState(l||0),2),c=l[0],d=l[1],u=be(D.useState(u),2),f=u[0],p=u[1];return D.useEffect(function(){var e;c&&(U(c)?e=f?"".concat(c).concat(f):"".concat(c):Q(c)&&(e=-1<c.indexOf(f)?"".concat(c):"".concat(c).concat(f)),t.onChange({target:{type:"slider",name:n,value:e}}))},[c,f]),D.createElement("div",{className:"wprf-slider-wrap"},D.createElement("div",{className:"wprf-slider-control-head"},D.createElement(Re,{htmlFor:e||n},r),te(o)&&0<o.length&&D.createElement("div",{className:"wprf-slider-units"},o.map(function(e,t){return D.createElement(h.Button,{key:t,isSmall:!0,isPrimary:!0,onClick:function(){return p(e)},className:e==f?"unit-active":""},e)}))),D.createElement("div",{className:"wprf-slider-control"},D.createElement(h.RangeControl,{allowReset:null==s||s,value:parseInt(c),min:a,max:i,onChange:function(e){return d(e)}})))},co=d(function(e){var t=e.value,n=e.name,r=e.id,o=e.onChange,e=be(D.useState(!1),2),l=e[0],a=e[1],e=be(D.useState(t||null),2),i=e[0],u=e[1],e=be(D.useState(null),2),s=e[0],c=e[1],e=D.useRef(null);D.useEffect(function(){c(t)},[]);var d;return D.useEffect(function(){o({target:{type:"colorpicker",name:n,value:i}})},[i]),d=e,D.useEffect(function(){function e(e){d.current&&!d.current.contains(e.target)&&a(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[d]),D.createElement(D.Fragment,null,D.createElement("div",{className:"wprf-colorpicker-wrap",ref:e},D.createElement("input",{type:"hidden",value:t,name:n,id:r}),D.createElement("span",{className:"wprf-picker-display",style:{backgroundColor:t,borderColor:t},onClick:function(){return a(!l)}}),l&&D.createElement(D.Fragment,null,D.createElement("button",{className:"wprf-colorpicker-reset",onClick:function(e){e.preventDefault(),u(s),a(!1)}},v.__("Reset","notificationx")),D.createElement(h.ColorPicker,{color:t,onChangeComplete:function(e){return u(e.hex)}}))))}),fo=function(e){return D.createElement(D.Fragment,null,m.applyFilters(e.action,"",e))},po=d(function(t){var e=be(D.useState(null!==(e=t.value)&&void 0!==e&&e.url?t.value:null),2),n=e[0],r=e[1];return D.useEffect(function(){t.onChange({target:{type:"media",name:t.name,value:n}})},[n]),D.createElement("div",{className:"wprf-control wprf-media"},null!=n&&!(null!=t&&t.notImage)&&D.createElement("div",{className:"wprf-image-preview"},null!=n&&(null==n?void 0:n.url)&&D.createElement("img",{src:n.url,alt:n.title})),D.createElement("div",{className:"wprf-image-uploader"},D.createElement(f.MediaUpload,{onSelect:function(e){r({id:e.id,title:e.title,url:e.url})},multiple:!1,allowedTypes:["image"],value:n,render:function(e){e=e.open;return D.createElement(D.Fragment,null,null!=n&&D.createElement("button",{className:"wprf-btn wprf-image-remove-btn",onClick:function(){return r(null)}},(null==t?void 0:t.remove)||"Remove"),D.createElement("button",{className:"wprf-btn wprf-image-upload-btn",onClick:e},null!=n?(null==t?void 0:t.reset)||"Change Image":(null==t?void 0:t.button)||"Upload"))}})))}),vo=d(function(n){var e=be(D.useState(g.EditorState.createEmpty()),2),t=e[0],r=e[1];return D.useEffect(function(){var e,t;n.value&&(e=(t=N.default(n.value)).contentBlocks,t=t.entityMap,t=g.ContentState.createFromBlockArray(e,t),t=g.EditorState.createWithContent(t),r(t))},[]),D.useEffect(function(){var e=I.default(g.convertToRaw(t.getCurrentContent()));n.onChange({target:{type:"editor",value:e,name:n.name}})},[t]),D.createElement(p.Editor,{placeholder:null==n?void 0:n.placeholder,toolbar:Et,editorState:t,toolbarClassName:"wprf-editor-toolbar",wrapperClassName:"wprf-editor wprf-control",editorClassName:"wprf-editor-main",onEditorStateChange:r})}),mo=d(function(l){var e,t,n;if((null==l||!l.text)&&!0!==(null==l?void 0:l.group))throw new Error(v.__("Button has a required params #text.","notificationx"));var r=q(l,["is_pro","visible","disable","parentIndex","context","onBlur","value","ajax","text"]),o=be(D.useState(!1),2),a=o[0],i=o[1];if(null!=l&&l.href)return D.createElement("a",{href:-1===(null==l?void 0:l.href)?null==l?void 0:l.value:null==l?void 0:l.href,target:null==l?void 0:l.target,className:S.default("wprf-control wprf-button wprf-href-btn",null==l?void 0:l.classes)},null==l?void 0:l.text);if(null!=l&&l.group){o=l.fields.map(function(e,t){t=[].concat(L(l.parentIndex),["fields",t]);return D.createElement(We,ge({key:e.name},e,{parentIndex:t}))});return D.createElement("div",{className:"wprf-control wprf-button-group wprf-flex"},o)}return D.createElement(D.Fragment,null,D.createElement("button",ge({},r,{name:l.name,disabled:a,onClick:null!==(r=null==l?void 0:l.onClick)&&void 0!==r?r:function(e){var t,o;null!=l&&l.ajax&&(i(!0),G(l.ajax,l.context).then(function(e){var t,n,r;if(i(!1),"error"==(null==e?void 0:e.status))throw new Error(null==e?void 0:e.message);l.onChange({target:{type:"button",name:l.name,value:!0}}),null!==(e=l.ajax)&&void 0!==e&&e.hideSwal||(e=(null===(e=l.ajax)||void 0===e||null===(t=e.swal)||void 0===t?void 0:t.icon)||"success",r=(null===(t=l.ajax)||void 0===t||null===(r=t.swal)||void 0===r?void 0:r.text)||"Complete",l.context.alerts.toast(e,r,{autoClose:null===(r=l.ajax)||void 0===r||null===(n=r.swal)||void 0===n?void 0:n.autoClose})),null!==(n=l.ajax)&&void 0!==n&&n.reload&&setTimeout(function(){return window.location.reload()},1e3)}).catch(function(e){var t;console.error("Error In Button Called",l.name,e),i(!1),l.onChange({target:{type:"button",name:l.name,value:!1}}),null!==(t=l.ajax)&&void 0!==t&&t.hideSwal||l.context.alerts.toast("error",(null==e?void 0:e.message)||v.__("Something went wrong.","notificationx"))})),o=(t=l).context,null!=t&&t.trigger&&te(null==t?void 0:t.trigger)&&null!=t&&t.trigger.map(function(e){var t=(null==e?void 0:e.type)||"setFieldValue";if(null!=e&&e.action&&ne(null==e?void 0:e.action))for(var n in null==e?void 0:e.action){var r=n;-1<r.indexOf(".")&&(r=r.split("."));n=null==e?void 0:e.action[n];""!=r&&o[t](r,n)}})},className:S.default("wprf-control wprf-button wprf-btn",null==l?void 0:l.classes)}),ne(null==l?void 0:l.text)&&null!=l&&l.ajax?a?null==l||null===(e=l.text)||void 0===e?void 0:e.loading:l.value?null==l||null===(t=l.text)||void 0===t?void 0:t.saved:null==l||null===(n=l.text)||void 0===n?void 0:n.normal:null==l?void 0:l.text))}),ho=function(e){var t=function(e){if(null!=e&&e.messages)for(var t in e.messages){t=e.messages[t];if(pe(t.rules,e.context.values))return t}return{message:null==e?void 0:e.message,html:null==e?void 0:e.html,type:"normal"}}(e),n=t.html,r=t.message,t=t.type;return r?D.createElement("div",{className:S.default("wprf-control","wprf-message","wprf-".concat(void 0===t?"warning":t,"-message"),"wprf-".concat(e.name,"-message"),null==e?void 0:e.classes)},n&&D.createElement("p",{dangerouslySetInnerHTML:{__html:r}}),!n&&D.createElement("p",null,r)):D.createElement(D.Fragment,null)},go=function(t){var e;if(null==(null==t?void 0:t.body)||null==(null==t?void 0:t.button))throw new Error(v.__("Modal needs button/body with it.","notificationx"));var n=be(D.useState(!1),2),r=n[0],o=n[1],l=be(D.useState(!1),2),n=l[0];l[1];function a(){return o(!1)}l=D.useCallback(function(){},[]);return D.createElement("div",{className:"wprf-control wprf-modal",id:"wprf-modal-".concat(t.name)},D.createElement(Ge,ge({type:"button"},null==t?void 0:t.button,{onClick:function(){return o(!0)}})),r&&D.createElement(k.default,{customClass:"wprf-modal-inner",style:{maxWidth:"900px",width:"100%",overflowY:"scroll",margin:"50px auto"},closeBtnStyle:{top:"5px",right:"5px",color:"#f78c8c",fontSize:"18px",border:"1px solid #f78c8c",borderRadius:"50%",width:"30px",height:"30px",display:"inline-flex",alignItems:"center",justifyContent:"center"},title:D.createElement(gt,{content:null==t||null===(e=t.body)||void 0===e?void 0:e.header}),onConfirm:l,showConfirm:!1,showCloseButton:!0,closeOnClickOutside:!0,onCancel:a,afterUpdate:function(){var e;null!=t&&t.cancel&&null!==(e=t.context.values)&&void 0!==e&&e[t.cancel]&&a()}},D.createElement(ht,ge({},t,{isLoading:n,closeModal:a,context:t.context,onConfirm:l}))))},y=function(r){var e=be(D.useState(void 0),2),o=e[0],n=e[1],e=be(D.useState(void 0),2),l=e[0],a=e[1],i=Oe();return D.useEffect(function(){var e=r.tabs.map(function(e){return e.id}),t=e.findIndex(function(e){return e===i.config.active});-1!=t&&a(e[t-1]),t<=e.length&&n(e[t+1])},[i.config.active,r.tabs]),D.createElement("div",{className:"wprf-stepped-button"},Object.keys(r.config.buttons).map(function(e,t){var n;return D.createElement(O.default.Fragment,{key:"button_".concat(e,"_").concat(t)},("next"===e&&void 0!==o||"prev"===e&&void 0!==l)&&D.createElement(h.Button,{className:"wprf-btn wprf-step-btn-".concat(e),onClick:function(){return i.setActiveTab("next"===e?o:l)}},r.config.buttons[e]),null==o&&(null===(t=r.config.buttons)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.type)&&D.createElement(We,null===(n=r.config.buttons)||void 0===n?void 0:n[e]))}))},bo=O.default.memo(y),yo=["tabs","active","submit","config"],Eo=function(e){var t,n,r,o,l,a=e.tabs,i=e.active,u=e.submit,s=e.config,c=Ee(e,yo);if(void 0===a)throw new Error(v.__("There are no #tabs args defined in props.","notificationx"));var d=Oe();if(!te(a))throw new Error(v.__("Not an array.","notificationx"));var f=be(D.useState([]),2),e=f[0],p=f[1];return D.useEffect(function(){var e=a.filter(function(e){return X(null==d?void 0:d.values,e)});p(e)},[a,null==d||null===(t=d.values)||void 0===t?void 0:t.source]),D.createElement("div",{className:S.default("wprf-tab-content-wrapper",null==d||null===(n=d.values)||void 0===n?void 0:n.source,null==d||null===(r=d.values)||void 0===r?void 0:r.themes)},D.createElement("div",{className:"wprf-tab-flex"},D.createElement("div",{className:"wprf-tab-contents"},a.map(function(e,t){if(!X(null==d?void 0:d.values,e))return"";var n=S.default("wprf-tab-content","wprf-tab-".concat(null==e?void 0:e.id),{"wprf-active":i===e.id});return D.createElement("div",{id:null==e?void 0:e.id,className:n,key:null==e?void 0:e.id},(null==e?void 0:e.label)&&(null===(n=null==s?void 0:s.title)||void 0===n||n)&&D.createElement("h4",null,e.label),D.createElement(lo,{context:d,fields:null==e?void 0:e.fields,parentIndex:t}))})),m.applyFilters("wprf_tab_content","",c)),(null==s||null===(o=s.step)||void 0===o?void 0:o.show)&&D.createElement(bo,{tabs:e,config:null!==(l=s.step)&&void 0!==l?l:{}}),(null===(l=null==u?void 0:u.show)||void 0===l||l)&&(null==u||!u.rules||pe(null==u?void 0:u.rules,{config:s}))&&D.createElement(ao,u))};n.registerStore("formbuilder",l);e.Action=fo,e.BuilderConsumer=c,e.BuilderProvider=i,e.Button=mo,e.CodeViewer=lt,e.ColorPicker=co,e.Column=Fe,e.Date=ze,e.Editor=vo,e.Field=We,e.FormBuilder=function(e){var t=S.default("wp-react-form wprf-tabs-wrapper",null==e?void 0:e.className,{"wprf-tab-menu-as-sidebar":null===(t=e.config)||void 0===t?void 0:t.sidebar});return D.createElement("div",{className:t},D.createElement(io,e))},e.GenericField=Ge,e.GenericInput=Ze,e.Group=ut,e.Image=He,e.Input=Qe,e.JsonUploader=at,e.Label=Re,e.Media=po,e.Message=ho,e.Modal=go,e.ObjectFilter=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!t)return!1;var r={},o=Object.keys(t).filter(function(e){return n(e)});return e?o:(o.map(function(e){r[e]=t[e]}),r)},e.Radio=jt,e.Repeater=uo,e.Row=Me,e.Section=Pt,e.Select=st,e.Slider=so,e.SweetAlert=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return j.default.fire(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach(function(e){A(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({target:null!==(e=null==t?void 0:t.target)&&void 0!==e?e:"#notificationx",type:null!==(e=null==t?void 0:t.type)&&void 0!==e?e:"success",html:null==t?void 0:t.html,title:null!==(e=null==t?void 0:t.title)&&void 0!==e?e:v.__("Title Goes Here: title","notificationx"),text:null!==(e=null==t?void 0:t.text)&&void 0!==e?e:v.__("Test Goes Here: text","notificationx"),icon:null!==(e=null==t?void 0:t.icon)&&void 0!==e?e:(null==t?void 0:t.type)||"success",timer:null!==(e=null==t?void 0:t.timer)&&void 0!==e?e:null},t))},e.Textarea=nt,e.Toggle=_t,e._extends=je,e.builderReducer=Ie,e.executeChange=$,e.getIn=oe,e.getSelectedValues=function(e){return Array.from(e).filter(function(e){return e.selected}).map(function(e){return e.value})},e.getStoreData=Ce,e.getTime=W,e.hitAAJX=G,e.isArray=te,e.isEmptyObj=re,e.isExists=function(e,t){var n=M(e);switch(!0){case"object"===n&&te(e):return e.includes(t);case"object"===n&&!te(e):return void 0!==(null==e?void 0:e[t]);default:return e===t}},e.isFunction=H,e.isNumber=U,e.isObject=ne,e.isString=Q,e.isVisible=X,e.merge=z,e.objectWithoutPropertiesLoose=ae,e.processAjaxData=function(n){var r={};return Object.keys(n).map(function(e){var t;0===n[e].indexOf("@")?""!=(t=n[e].substr(1))&&(t=Ce().getFieldValue(t),r[e]=t||"undefined"):r[e]=n[e]}),r},e.setIn=Y,e.setStoreData=De,e.sortingFields=le,e.triggerDefaults=function(e,t){var n,r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!re(e)&&"object"===M(e))for(var l in e)l===o&&(n=e[l].indexOf("@"),r=e[l].indexOf(":"),0===n&&0<r&&(n=e[l].substr(1,r-1),l=e[l].substr(r+1),r=Ce().getSavedFieldValue(n,t),""!=n&&""!=l&&De().setFieldValue({name:n,value:A({},n,r||l)})))},e.useBuilder=function(e){var t=D.useRef(null);D.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]);var n=be(D.useReducer(Ie,ke(ke({},e),{},{savedValues:e.savedValues||{},values:e.values||{},errors:e.initialErrors||{},touched:e.initialTouched||{},icons:e.initialIcons||{},common:{},alerts:{},tabs:le(e.tabs)})),2),c=n[0],r=n[1],o=Ae(function(e,t,n){r({type:"SET_CONTEXT",payload:{field:e,value:t}})}),l=Ae(function(e,t){e="function"==typeof e?e(c.values):e;return r({type:"SET_VALUES",payload:e}),void 0!==t&&t?e:Promise.resolve()}),a=Ae(function(e,t){e="function"==typeof e?e(c.values):e;return r({type:"SET_SAVED_VALUES",payload:e}),void 0!==t&&t?e:Promise.resolve()}),i=Ae(function(e,t,n){r({type:"SET_FIELD_VALUE",payload:{field:e,value:t}})}),u=Ae(function(e,t){r({type:"SET_FORM_FIELD",payload:{field:e,value:t}})}),s=D.useCallback(function(e){return oe(c.values,e)},[c]),d=Ae(function(e,t,n){r({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t=t||!0}})}),f=D.useCallback(function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.persist&&e.persist();var n=e.target,r=n.name,e=n.id;n.outerHTML,d(t||r||e,!0)},[d]),p=Ae(function(t){return"string"==typeof t?function(e){return f(e,t)}:void f(t)}),v=D.useCallback(function(e,t,n){null!=n&&n.isPro&&!1===Boolean(c.is_pro_active)||(t=(e=$(e,t)).field,e=e.val,t&&i(t,e))},[i,c.values]),m=Ae(function(t,n){var e;return null!=n&&n.isPro&&!1===Boolean(c.is_pro_active)&&(null===(e=c.alerts)||void 0===e||null!==(e=e.pro_alert(null==n?void 0:n.popup))&&void 0!==e&&e.fire()),"string"==typeof t?function(e){return v(t,e,n)}:void v(t,null,n)}),h=D.useCallback(function(e){var t,n,r,o=ke({},e),l=q(o),a=l.name,i=l.type,u=l.parent,s=l.parenttype;null!=o&&o.is_pro&&(l.is_pro=!(null!=o&&o.is_pro&&!0===Boolean(c.is_pro_active))),r=u&&"group"===s?null!==(t=null==(t=null!==(t=oe(c.values,u))&&void 0!==t?t:{})?void 0:t[a])&&void 0!==t?t:null==o?void 0:o.default:u&&"repeater"===s?null!==(n=null==(u=null!==(u=oe(c.values,u))&&void 0!==u?u:[])||null===(n=u[l.index])||void 0===n?void 0:n[a])&&void 0!==n?n:null==o?void 0:o.default:null!==(r=oe(c.values,a))&&void 0!==r?r:null==o?void 0:o.default,l.onChange=m,l.onBlur=p;o=l.value;return"checkbox"===i?(l.checked=!!r,l.value=!!r,Q(r)&&"0"===r?(l.checked=!1,l.value=!1):(l.checked=Boolean(r),l.value=Boolean(r))):"radio"===i?(l.checked=r===o,l.value=o):l.value="date"===i&&null==r?W():r,l.visible=X(c.values,e),l},[p,m,c.values]),g=D.useCallback(function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return n=null!==r?null===(r=oe(c.values,r))||void 0===r?void 0:r[e]:oe(c.values,e)||(null===(n=t.meta)||void 0===n?void 0:n.default),ke(ke({},t.meta),{},{value:n,error:oe(c.errors,e),touched:!!oe(c.touched,e),visible:X(c.values,t),initialValue:"",initialTouched:"",initialError:""})},[c.errors,c.touched,c.values]),b=D.useCallback(function(e){if(0<e.length)return e.filter(function(e){return null!=e&&e.rules?pe(e.rules,c.values):e});return e},[c.errors,c.touched,c.values]),y=D.useCallback(function(e,t){if(e.length){var n=[];return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&te(t)?n=e.filter(function(e){return t.includes(e.value)}):0<(n=e.filter(function(e){return e.value==t})).length?n[0]:""}return e},[c.errors,c.touched,c.values]),E=D.useCallback(function(){return{setValue:function(e,t){return i(e,t)},getValue:function(e){return oe(c.values,e)},getValueForDefault:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return(null===t||oe(c.savedValues,t)===oe(c.values,t))&&oe(c.savedValues,e)}}},[c.errors,c.touched,c.values,c.savedValues]),w=D.useCallback(function(e){return oe(c.tabs,e)},[c]),O=Ae(function(e){r({type:"SET_ISSUBMITTING",payload:e})}),S=Ae(function(e){r({type:"SET_ACTIVE_TAB",payload:e})}),x=Ae(function(e){r({type:"SET_REDIRECT",payload:e})}),_=Ae(function(e,t){r({type:"SET_ICONS",payload:{name:e,icons:t}})}),C=Ae(function(e,t){r({type:"SET_COMMONS",payload:{name:e,value:t}})}),n=Ae(function(e,t){r({type:"SET_ALERTS",payload:{name:e,value:t}})});return ke(ke(ke({},e),c),{},{setContext:o,values:c.values,savedValues:c.savedValues,errors:c.errors,touched:c.touched,isSubmitting:!1,setActiveTab:S,setRedirect:x,setSubmitting:O,setValues:l,setSavedValues:a,setFieldValue:i,getFieldValue:s,handleBlur:p,handleChange:m,getFieldProps:h,getFieldMeta:g,getFieldHelpers:E,eligibleOptions:b,eligibleOption:y,getTabFields:w,setFormField:u,registerIcons:_,registerCommon:C,registerAlert:n})},e.useBuilderContext=Oe,e.useDefaults=xe,e.validFieldProps=q,e.when=pe,e.withLabel=d,e.withProps=b,e.withState=function(e){return Boolean(["group","section"].includes(e))},e.wpFetch=Z,Object.defineProperty(e,"__esModule",{value:!0})});
